function config(e){e.when("/",{templateUrl:"app/landing/landing.htm",controller:"landingController",controllerAs:"vm",resolve:{loadData:loadData}}).when("/marketReciept",{templateUrl:"app/marketReciept/marketReciept.htm",controller:"marketRecieptController",controllerAs:"vm",resolve:{formData:["backendSrvc",function(e){return e.getFormData("marketReciept")}]}}).otherwise({redirectTo:"/"})}function loadData(e){e.loadAllForms()}function recieptForm(){function e(e,t,r,n){}function t(e,t){var r=this;r.currentDate=new Date}e.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"app/form/form.directive.htm",replace:!0,scope:{data:"="},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],r}function backendSrvc(e,t){function r(e){return new Promise(function(r,n){t({method:"GET",url:"assets/"+e}).then(function(e){r(e.data)},function(e){console.log("Error:",e)})})}function n(){}function o(e){var t=this;t.allForms={marketReciept:"marketReciept.json"};var r=t.allForms[e];return new Promise(function(n,o){"undefined"!=typeof t[e]?n(t[e]):t._get(r).then(function(r){t[e]=r,n(t[e])})})}function a(){var e=this;e.allForms={marketReciept:"marketReciept.json"},console.log(e.allForms),Object.keys(e.allForms).forEach(function(t){var r=e.allForms[t];e._get(r).then(function(r){e[t]=r.data})})}var l={_get:r,_post:n,getFormData:o,loadAllForms:a};return l}function landingController(e,t){var r=this;r.redirectTo=function(r){e.info("clicked",r),t.path("/"+r)}}function marketRecieptController(e,t,r){var n=this;n.data=r}function navbar(){function e(e,t,r,n){}function t(e,t){}e.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"app/navbar/navbar.directive.htm",replace:!0,scope:{},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],r}config.$inject=["$routeProvider"],loadData.$inject=["backendSrvc"],angular.module("marketReciept",["ngRoute"]),angular.module("marketReciept").config(config),angular.module("marketReciept").directive("recieptForm",recieptForm),angular.module("marketReciept").factory("backendSrvc",backendSrvc),backendSrvc.$inject=["$log","$http"],angular.module("marketReciept").controller("landingController",landingController),landingController.$inject=["$log","$location"],angular.module("marketReciept").controller("marketRecieptController",marketRecieptController),marketRecieptController.$inject=["$log","backendSrvc","formData"],angular.module("marketReciept").directive("navbar",navbar);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9yb3V0ZS1jb25maWcuanMiLCJhcHAuanMiLCJhcHAvZm9ybS9mb3JtLmRpcmVjdGl2ZS5qcyIsImFwcC9iYWNrZW5kU3J2Yy9iYWNrZW5kU3J2Yy5qcyIsImFwcC9sYW5kaW5nL2xhbmRpbmcuY29udHJvbGxlci5qcyIsImFwcC9tYXJrZXRSZWNpZXB0L21hcmtldFJlY2llcHQuY29udHJvbGxlci5qcyIsImFwcC9uYXZiYXIvbmF2YmFyLmRpcmVjdGl2ZS5qcyIsImFwcC5tb2R1bGUuanMiXSwibmFtZXMiOlsiY29uZmlnIiwiJHJvdXRlUHJvdmlkZXIiLCJ3aGVuIiwidGVtcGxhdGVVcmwiLCJjb250cm9sbGVyIiwiY29udHJvbGxlckFzIiwicmVzb2x2ZSIsImxvYWREYXRhIiwiZm9ybURhdGEiLCJiYWNrZW5kU3J2YyIsImdldEZvcm1EYXRhIiwib3RoZXJ3aXNlIiwicmVkaXJlY3RUbyIsImxvYWRBbGxGb3JtcyIsInJlY2llcHRGb3JtIiwibGlua0Z1bmMiLCJzY29wZSIsImVsIiwiYXR0ciIsImN0cmwiLCIkc2NvcGUiLCIkbG9nIiwidm0iLCJ0aGlzIiwiY3VycmVudERhdGUiLCJEYXRlIiwiJGluamVjdCIsImRpcmVjdGl2ZSIsInJlc3RyaWN0IiwicmVwbGFjZSIsImRhdGEiLCJsaW5rIiwiYmluZFRvQ29udHJvbGxlciIsIiRodHRwIiwiX2dldCIsImZpbGVuYW1lIiwiUHJvbWlzZSIsInJlamVjdCIsIm1ldGhvZCIsInVybCIsInRoZW4iLCJyZXNwb25zZSIsImNvbnNvbGUiLCJsb2ciLCJfcG9zdCIsImZvcm0iLCJzZXJ2aWNlIiwiYWxsRm9ybXMiLCJtYXJrZXRSZWNpZXB0IiwicmVqIiwiT2JqZWN0Iiwia2V5cyIsImZvckVhY2giLCJsYW5kaW5nQ29udHJvbGxlciIsIiRsb2NhdGlvbiIsImZvcm1OYW1lIiwiaW5mbyIsInBhdGgiLCJtYXJrZXRSZWNpZXB0Q29udHJvbGxlciIsIm5hdmJhciIsIm5hdmJhckNvbnRyb2xsZXIi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QUNBOUQsT0FBQUEsUUVGQTZELFFBQ0FDLE9BQUEsaUJBQ0FuQyxVQUFBLGNBQUFiLGFDRkErQyxRQUNBQyxPQUFBLGlCQUNBQyxRQUFBLGNBQUF0RCxhQUVBQSxZQUFBaUIsU0FBQSxPQUFBLFNDSkFtQyxRQUNBQyxPQUFBLGlCQUNBMUQsV0FBQSxvQkFBQWlELG1CQUVBQSxrQkFBQTNCLFNBQUEsT0FBQSxhQ0pBbUMsUUFDQUMsT0FBQSxpQkFDQTFELFdBQUEsMEJBQUFzRCx5QkFFQUEsd0JBQUFoQyxTQUFBLE9BQUEsY0FBQSxZQ0pBbUMsUUFDQUMsT0FBQSxpQkFDQW5DLFVBQUEsU0FBQWdDIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbImFuZ3VsYXJcblx0Lm1vZHVsZSgnbWFya2V0UmVjaWVwdCcpXG5cdC5jb25maWcoY29uZmlnKTtcbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gY29uZmlnKCRyb3V0ZVByb3ZpZGVyKSB7XG5cdCRyb3V0ZVByb3ZpZGVyXG4gICAgLndoZW4oJy8nLCB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAnYXBwL2xhbmRpbmcvbGFuZGluZy5odG0nLFxuICAgICAgICBjb250cm9sbGVyOiAnbGFuZGluZ0NvbnRyb2xsZXInLFxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXG4gICAgICAgIHJlc29sdmU6IHtcdC8qIEBuZ0luamVjdCAqL1xuICAgICAgICBcdGxvYWREYXRhOmxvYWREYXRhXG4gICAgICAgIH1cbiAgICB9KVxuICAgIC53aGVuKCcvbWFya2V0UmVjaWVwdCcsIHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdhcHAvbWFya2V0UmVjaWVwdC9tYXJrZXRSZWNpZXB0Lmh0bScsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdtYXJrZXRSZWNpZXB0Q29udHJvbGxlcicsXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcbiAgICAgICAgcmVzb2x2ZToge1xuICAgICAgICBcdGZvcm1EYXRhOiBmdW5jdGlvbihiYWNrZW5kU3J2Yykge1xuICAgICAgICBcdFx0Ly9yZXR1cm4geydyZXNvbHZlVGVzdCc6J2dvb2QgdGVzdCd9O1xuICAgICAgICBcdFx0cmV0dXJuIGJhY2tlbmRTcnZjLmdldEZvcm1EYXRhKCdtYXJrZXRSZWNpZXB0Jyk7XG4gICAgICAgIFx0fVxuICAgICAgICB9XG4gICAgfSlcbiAgICAub3RoZXJ3aXNlKHtcbiAgICAgICAgcmVkaXJlY3RUbzogJy8nXG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGxvYWREYXRhKGJhY2tlbmRTcnZjKSB7XG5cdGJhY2tlbmRTcnZjLmxvYWRBbGxGb3JtcygpO1xufSIsIlxuY29uZmlnLiRpbmplY3QgPSBbXCIkcm91dGVQcm92aWRlclwiXTtcbmxvYWREYXRhLiRpbmplY3QgPSBbXCJiYWNrZW5kU3J2Y1wiXTthbmd1bGFyXG5cdC5tb2R1bGUoJ21hcmtldFJlY2llcHQnLCBbXG5cdFx0J25nUm91dGUnXG5cdF0pO1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ21hcmtldFJlY2llcHQnKVxuXHQuY29uZmlnKGNvbmZpZyk7XG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGNvbmZpZygkcm91dGVQcm92aWRlcikge1xuXHQkcm91dGVQcm92aWRlclxuICAgIC53aGVuKCcvJywge1xuICAgICAgICB0ZW1wbGF0ZVVybDogJ2FwcC9sYW5kaW5nL2xhbmRpbmcuaHRtJyxcbiAgICAgICAgY29udHJvbGxlcjogJ2xhbmRpbmdDb250cm9sbGVyJyxcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxuICAgICAgICByZXNvbHZlOiB7XHQvKiBAbmdJbmplY3QgKi9cbiAgICAgICAgXHRsb2FkRGF0YTpsb2FkRGF0YVxuICAgICAgICB9XG4gICAgfSlcbiAgICAud2hlbignL21hcmtldFJlY2llcHQnLCB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAnYXBwL21hcmtldFJlY2llcHQvbWFya2V0UmVjaWVwdC5odG0nLFxuICAgICAgICBjb250cm9sbGVyOiAnbWFya2V0UmVjaWVwdENvbnRyb2xsZXInLFxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXG4gICAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgXHRmb3JtRGF0YTogW1wiYmFja2VuZFNydmNcIiwgZnVuY3Rpb24oYmFja2VuZFNydmMpIHtcbiAgICAgICAgXHRcdC8vcmV0dXJuIHsncmVzb2x2ZVRlc3QnOidnb29kIHRlc3QnfTtcbiAgICAgICAgXHRcdHJldHVybiBiYWNrZW5kU3J2Yy5nZXRGb3JtRGF0YSgnbWFya2V0UmVjaWVwdCcpO1xuICAgICAgICBcdH1dXG4gICAgICAgIH1cbiAgICB9KVxuICAgIC5vdGhlcndpc2Uoe1xuICAgICAgICByZWRpcmVjdFRvOiAnLydcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gbG9hZERhdGEoYmFja2VuZFNydmMpIHtcblx0YmFja2VuZFNydmMubG9hZEFsbEZvcm1zKCk7XG59XG5hbmd1bGFyXG5cdC5tb2R1bGUoJ21hcmtldFJlY2llcHQnKVxuXHQuZGlyZWN0aXZlKCdyZWNpZXB0Rm9ybScsIHJlY2llcHRGb3JtKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiByZWNpZXB0Rm9ybSgpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICdhcHAvZm9ybS9mb3JtLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdGRhdGE6ICc9J1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogcmVjaWVwdEZvcm0sXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICByZWNpZXB0Rm9ybS4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIFxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHJlY2llcHRGb3JtKCRzY29wZSwgJGxvZykge1xuXHRcdHZhciB2bSA9IHRoaXM7XG5cblx0XHR2bS5jdXJyZW50RGF0ZSA9IG5ldyBEYXRlKCk7XG5cdH1cblxuXHRyZXR1cm4gZGlyZWN0aXZlO1xufVxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ21hcmtldFJlY2llcHQnKVxuICAgIC5mYWN0b3J5KCdiYWNrZW5kU3J2YycsIGJhY2tlbmRTcnZjKTtcblxuYmFja2VuZFNydmMuJGluamVjdCA9IFsnJGxvZycsICckaHR0cCddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGJhY2tlbmRTcnZjKCRsb2csICRodHRwKSB7XG5cdHZhciBzZXJ2aWNlID0gdGhpcztcblxuXHR2YXIgYmFja2VuZFNydmMgPSB7XG5cdFx0X2dldDpfZ2V0LFxuXHRcdF9wb3N0Ol9wb3N0LFxuXHRcdGdldEZvcm1EYXRhOmdldEZvcm1EYXRhLFxuXHRcdGxvYWRBbGxGb3Jtczpsb2FkQWxsRm9ybXNcblx0fTtcblxuXHRmdW5jdGlvbiBfZ2V0KGZpbGVuYW1lKSB7XG5cdFx0dmFyIHRoaXNSZXNwb25zZSA9IG51bGw7XG5cblx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cblx0XHRcdCRodHRwKHtcblx0XHRcdFx0bWV0aG9kOiAnR0VUJyxcblx0XHRcdFx0dXJsOiAnYXNzZXRzLycgKyBmaWxlbmFtZVxuXHRcdFx0fSkudGhlbihmdW5jdGlvbiBzdWNjZXNzQ2FsbGJhY2socmVzcG9uc2UpIHtcblx0XHRcdFx0XG5cdFx0XHRcdHJlc29sdmUocmVzcG9uc2UuZGF0YSk7XG5cdFx0XHRcdFxuXHRcdFx0fSwgZnVuY3Rpb24gZXJyb3JDYWxsYmFjayhyZXNwb25zZSkge1xuXHRcdFx0XHRjb25zb2xlLmxvZygnRXJyb3I6JyxyZXNwb25zZSk7XG5cdFx0XHR9KTtcblxuXHRcdH0pO1xuXG5cdH1cblxuXHRmdW5jdGlvbiBfcG9zdCgpIHtcblxuXHR9XG5cblx0ZnVuY3Rpb24gZ2V0Rm9ybURhdGEoZm9ybSkge1xuXHRcdHZhciBzZXJ2aWNlID0gdGhpcztcblxuXHRcdHNlcnZpY2UuYWxsRm9ybXMgPSB7XCJtYXJrZXRSZWNpZXB0XCI6J21hcmtldFJlY2llcHQuanNvbid9O1xuXG5cdFx0dmFyIHVybCA9IHNlcnZpY2UuYWxsRm9ybXNbZm9ybV07XG5cdFx0XG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlaikge1xuXHRcdFx0Ly9jaGVjayBmb3IgZXhpc3RpbmcgdmFsdWVzXG5cdFx0XHRpZih0eXBlb2Ygc2VydmljZVtmb3JtXSAhPT0gJ3VuZGVmaW5lZCcpXG5cdFx0XHRcdHJlc29sdmUoc2VydmljZVtmb3JtXSk7XG5cdFx0XHRlbHNlIHsgXG5cdFx0XHRcdHNlcnZpY2UuX2dldCh1cmwpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcblx0XHRcdFx0XHRzZXJ2aWNlW2Zvcm1dID0gcmVzcG9uc2U7XG5cdFx0XHRcdFx0cmVzb2x2ZShzZXJ2aWNlW2Zvcm1dKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cblx0XHR9KTtcblx0XG5cdH1cblxuXHRmdW5jdGlvbiBsb2FkQWxsRm9ybXMoKSB7XG5cdFx0dmFyIHNlcnZpY2UgPSB0aGlzO1xuXG5cdFx0c2VydmljZS5hbGxGb3JtcyA9IHtcIm1hcmtldFJlY2llcHRcIjonbWFya2V0UmVjaWVwdC5qc29uJ307XG5cdFxuXHRcdGNvbnNvbGUubG9nKHNlcnZpY2UuYWxsRm9ybXMpO1xuXG5cdFx0Ly9ydW4gdGhyb3VnaCBlYWNoIGZvcm1cblx0XHRPYmplY3Qua2V5cyhzZXJ2aWNlLmFsbEZvcm1zKS5mb3JFYWNoKGZ1bmN0aW9uKGZvcm0pIHtcblx0XHRcdHZhciB1cmwgPSBzZXJ2aWNlLmFsbEZvcm1zW2Zvcm1dO1xuXG5cdFx0XHRzZXJ2aWNlLl9nZXQodXJsKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cdFx0XHRcdHNlcnZpY2VbZm9ybV0gPSByZXNwb25zZS5kYXRhO1xuXHRcdFx0fSk7XG5cblx0XHR9KTtcblxuXHR9XG5cblx0cmV0dXJuIGJhY2tlbmRTcnZjO1xufVxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ21hcmtldFJlY2llcHQnKVxuICAgIC5jb250cm9sbGVyKCdsYW5kaW5nQ29udHJvbGxlcicsIGxhbmRpbmdDb250cm9sbGVyKTtcblxubGFuZGluZ0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJGxvZycsICckbG9jYXRpb24nXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBsYW5kaW5nQ29udHJvbGxlcigkbG9nLCAkbG9jYXRpb24pIHtcblx0dmFyIHZtID0gdGhpcztcblxuXHR2bS5yZWRpcmVjdFRvID0gZnVuY3Rpb24oZm9ybU5hbWUpIHtcblx0XHQkbG9nLmluZm8oJ2NsaWNrZWQnLCBmb3JtTmFtZSk7XG5cdFx0JGxvY2F0aW9uLnBhdGgoJy8nK2Zvcm1OYW1lKTtcblx0fVxufVxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ21hcmtldFJlY2llcHQnKVxuICAgIC5jb250cm9sbGVyKCdtYXJrZXRSZWNpZXB0Q29udHJvbGxlcicsIG1hcmtldFJlY2llcHRDb250cm9sbGVyKTtcblxubWFya2V0UmVjaWVwdENvbnRyb2xsZXIuJGluamVjdCA9IFsnJGxvZycsICdiYWNrZW5kU3J2YycsICdmb3JtRGF0YSddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIG1hcmtldFJlY2llcHRDb250cm9sbGVyKCRsb2csIGJhY2tlbmRTcnZjLCBmb3JtRGF0YSkge1xuXHR2YXIgdm0gPSB0aGlzO1xuXHR2bS5kYXRhID0gZm9ybURhdGE7XG5cblx0dmFyIHRpdGxlQ2xhc3NlcyA9IHtcblx0XHQnY29sLXhzLTUnOnRydWUsXG5cdFx0J2NvbC1zbS01Jzp0cnVlLFxuXHRcdCdjb2wtbWQtNSc6dHJ1ZSxcblx0XHQnY29sLWxnLTUnOnRydWVcdFx0XG5cdH07XG5cblx0dmFyIGlucHV0Q2xhc3NlcyA9IHtcblx0XHQnY29sLXhzLTcnOnRydWUsXG5cdFx0J2NvbC1zbS03Jzp0cnVlLFxuXHRcdCdjb2wtbWQtNyc6dHJ1ZSxcblx0XHQnY29sLWxnLTcnOnRydWVcblx0fTtcblxufVxuYW5ndWxhclxuXHQubW9kdWxlKCdtYXJrZXRSZWNpZXB0Jylcblx0LmRpcmVjdGl2ZSgnbmF2YmFyJywgbmF2YmFyKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBuYXZiYXIoKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAnYXBwL25hdmJhci9uYXZiYXIuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge30sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogbmF2YmFyQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIG5hdmJhckNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICBcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBuYXZiYXJDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuICAgIFx0Ly92YXIgdm0gPSB0aGlzO1xuXHR9XG5cblx0cmV0dXJuIGRpcmVjdGl2ZTtcbn0iLCJhbmd1bGFyXG5cdC5tb2R1bGUoJ21hcmtldFJlY2llcHQnKVxuXHQuZGlyZWN0aXZlKCdyZWNpZXB0Rm9ybScsIHJlY2llcHRGb3JtKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiByZWNpZXB0Rm9ybSgpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAnYXBwL2Zvcm0vZm9ybS5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHRkYXRhOiAnPSdcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IHJlY2llcHRGb3JtLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgcmVjaWVwdEZvcm0uJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICBcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiByZWNpZXB0Rm9ybSgkc2NvcGUsICRsb2cpIHtcblx0XHR2YXIgdm0gPSB0aGlzO1xuXG5cdFx0dm0uY3VycmVudERhdGUgPSBuZXcgRGF0ZSgpO1xuXHR9XG5cblx0cmV0dXJuIGRpcmVjdGl2ZTtcbn0iLCJhbmd1bGFyXG4gICAgLm1vZHVsZSgnbWFya2V0UmVjaWVwdCcpXG4gICAgLmZhY3RvcnkoJ2JhY2tlbmRTcnZjJywgYmFja2VuZFNydmMpO1xuXG5iYWNrZW5kU3J2Yy4kaW5qZWN0ID0gWyckbG9nJywgJyRodHRwJ107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gYmFja2VuZFNydmMoJGxvZywgJGh0dHApIHtcblx0dmFyIHNlcnZpY2UgPSB0aGlzO1xuXG5cdHZhciBiYWNrZW5kU3J2YyA9IHtcblx0XHRfZ2V0Ol9nZXQsXG5cdFx0X3Bvc3Q6X3Bvc3QsXG5cdFx0Z2V0Rm9ybURhdGE6Z2V0Rm9ybURhdGEsXG5cdFx0bG9hZEFsbEZvcm1zOmxvYWRBbGxGb3Jtc1xuXHR9O1xuXG5cdGZ1bmN0aW9uIF9nZXQoZmlsZW5hbWUpIHtcblx0XHR2YXIgdGhpc1Jlc3BvbnNlID0gbnVsbDtcblxuXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblxuXHRcdFx0JGh0dHAoe1xuXHRcdFx0XHRtZXRob2Q6ICdHRVQnLFxuXHRcdFx0XHR1cmw6ICdhc3NldHMvJyArIGZpbGVuYW1lXG5cdFx0XHR9KS50aGVuKGZ1bmN0aW9uIHN1Y2Nlc3NDYWxsYmFjayhyZXNwb25zZSkge1xuXHRcdFx0XHRcblx0XHRcdFx0cmVzb2x2ZShyZXNwb25zZS5kYXRhKTtcblx0XHRcdFx0XG5cdFx0XHR9LCBmdW5jdGlvbiBlcnJvckNhbGxiYWNrKHJlc3BvbnNlKSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKCdFcnJvcjonLHJlc3BvbnNlKTtcblx0XHRcdH0pO1xuXG5cdFx0fSk7XG5cblx0fVxuXG5cdGZ1bmN0aW9uIF9wb3N0KCkge1xuXG5cdH1cblxuXHRmdW5jdGlvbiBnZXRGb3JtRGF0YShmb3JtKSB7XG5cdFx0dmFyIHNlcnZpY2UgPSB0aGlzO1xuXG5cdFx0c2VydmljZS5hbGxGb3JtcyA9IHtcIm1hcmtldFJlY2llcHRcIjonbWFya2V0UmVjaWVwdC5qc29uJ307XG5cblx0XHR2YXIgdXJsID0gc2VydmljZS5hbGxGb3Jtc1tmb3JtXTtcblx0XHRcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqKSB7XG5cdFx0XHQvL2NoZWNrIGZvciBleGlzdGluZyB2YWx1ZXNcblx0XHRcdGlmKHR5cGVvZiBzZXJ2aWNlW2Zvcm1dICE9PSAndW5kZWZpbmVkJylcblx0XHRcdFx0cmVzb2x2ZShzZXJ2aWNlW2Zvcm1dKTtcblx0XHRcdGVsc2UgeyBcblx0XHRcdFx0c2VydmljZS5fZ2V0KHVybCkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuXHRcdFx0XHRcdHNlcnZpY2VbZm9ybV0gPSByZXNwb25zZTtcblx0XHRcdFx0XHRyZXNvbHZlKHNlcnZpY2VbZm9ybV0pO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblxuXHRcdH0pO1xuXHRcblx0fVxuXG5cdGZ1bmN0aW9uIGxvYWRBbGxGb3JtcygpIHtcblx0XHR2YXIgc2VydmljZSA9IHRoaXM7XG5cblx0XHRzZXJ2aWNlLmFsbEZvcm1zID0ge1wibWFya2V0UmVjaWVwdFwiOidtYXJrZXRSZWNpZXB0Lmpzb24nfTtcblx0XG5cdFx0Y29uc29sZS5sb2coc2VydmljZS5hbGxGb3Jtcyk7XG5cblx0XHQvL3J1biB0aHJvdWdoIGVhY2ggZm9ybVxuXHRcdE9iamVjdC5rZXlzKHNlcnZpY2UuYWxsRm9ybXMpLmZvckVhY2goZnVuY3Rpb24oZm9ybSkge1xuXHRcdFx0dmFyIHVybCA9IHNlcnZpY2UuYWxsRm9ybXNbZm9ybV07XG5cblx0XHRcdHNlcnZpY2UuX2dldCh1cmwpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcblx0XHRcdFx0c2VydmljZVtmb3JtXSA9IHJlc3BvbnNlLmRhdGE7XG5cdFx0XHR9KTtcblxuXHRcdH0pO1xuXG5cdH1cblxuXHRyZXR1cm4gYmFja2VuZFNydmM7XG59IiwiYW5ndWxhclxuICAgIC5tb2R1bGUoJ21hcmtldFJlY2llcHQnKVxuICAgIC5jb250cm9sbGVyKCdsYW5kaW5nQ29udHJvbGxlcicsIGxhbmRpbmdDb250cm9sbGVyKTtcblxubGFuZGluZ0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJGxvZycsICckbG9jYXRpb24nXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBsYW5kaW5nQ29udHJvbGxlcigkbG9nLCAkbG9jYXRpb24pIHtcblx0dmFyIHZtID0gdGhpcztcblxuXHR2bS5yZWRpcmVjdFRvID0gZnVuY3Rpb24oZm9ybU5hbWUpIHtcblx0XHQkbG9nLmluZm8oJ2NsaWNrZWQnLCBmb3JtTmFtZSk7XG5cdFx0JGxvY2F0aW9uLnBhdGgoJy8nK2Zvcm1OYW1lKTtcblx0fVxufSIsImFuZ3VsYXJcbiAgICAubW9kdWxlKCdtYXJrZXRSZWNpZXB0JylcbiAgICAuY29udHJvbGxlcignbWFya2V0UmVjaWVwdENvbnRyb2xsZXInLCBtYXJrZXRSZWNpZXB0Q29udHJvbGxlcik7XG5cbm1hcmtldFJlY2llcHRDb250cm9sbGVyLiRpbmplY3QgPSBbJyRsb2cnLCAnYmFja2VuZFNydmMnLCAnZm9ybURhdGEnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBtYXJrZXRSZWNpZXB0Q29udHJvbGxlcigkbG9nLCBiYWNrZW5kU3J2YywgZm9ybURhdGEpIHtcblx0dmFyIHZtID0gdGhpcztcblx0dm0uZGF0YSA9IGZvcm1EYXRhO1xuXG5cdHZhciB0aXRsZUNsYXNzZXMgPSB7XG5cdFx0J2NvbC14cy01Jzp0cnVlLFxuXHRcdCdjb2wtc20tNSc6dHJ1ZSxcblx0XHQnY29sLW1kLTUnOnRydWUsXG5cdFx0J2NvbC1sZy01Jzp0cnVlXHRcdFxuXHR9O1xuXG5cdHZhciBpbnB1dENsYXNzZXMgPSB7XG5cdFx0J2NvbC14cy03Jzp0cnVlLFxuXHRcdCdjb2wtc20tNyc6dHJ1ZSxcblx0XHQnY29sLW1kLTcnOnRydWUsXG5cdFx0J2NvbC1sZy03Jzp0cnVlXG5cdH07XG5cbn0iLCJhbmd1bGFyXG5cdC5tb2R1bGUoJ21hcmtldFJlY2llcHQnKVxuXHQuZGlyZWN0aXZlKCduYXZiYXInLCBuYXZiYXIpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIG5hdmJhcigpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAnYXBwL25hdmJhci9uYXZiYXIuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge30sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogbmF2YmFyQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIG5hdmJhckNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICBcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBuYXZiYXJDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuICAgIFx0Ly92YXIgdm0gPSB0aGlzO1xuXHR9XG5cblx0cmV0dXJuIGRpcmVjdGl2ZTtcbn0iLCJhbmd1bGFyXG5cdC5tb2R1bGUoJ21hcmtldFJlY2llcHQnLCBbXG5cdFx0J25nUm91dGUnXG5cdF0pO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
