function config(e){e.when("/",{templateUrl:"app/landing/landing.htm",controller:"landingController",controllerAs:"vm",resolve:{loadData:loadData}}).when("/marketReceipt",{templateUrl:"app/marketReceipt/marketReceipt.htm",controller:"marketReceiptController",controllerAs:"vm",reloadOnSearch:!0,resolve:{formData:["backendSrvc",function(e){return e.getFormData("marketReceipt")}],marketPossibilities:["backendSrvc",function(e){return e.getPossibleMarkets()}],suggestions:["backendSrvc","$routeParams",function(e,t){return e.getSuggestionData(t)}],searchParams:["$routeParams",function(e){return e}]}}).when("/success",{templateUrl:"app/success/success.htm",controller:"successController",controllerAs:"vm"}).otherwise({redirectTo:"/"})}function loadData(e){e.loadAllForms()}function recieptForm(){function e(e,t,a,n){}function t(e,t,a,n){function s(){c.submitBtnClasses["btn-danger"]=!1,c.submitBtnClasses["btn-success"]=!0}function o(){c.submitBtnClasses["btn-danger"]=!0,c.submitBtnClasses["btn-success"]=!1}function r(){var e=0;return Object.keys(c.data.questions).forEach(function(t){var a=c.data.questions[t].approvals.addressed;a&&e++}),e==l?s():o(),e}function i(){var e=document.getElementById("recieptImage"),t=document.getElementById("Photo").files[0],a=new FileReader,n=null;a.addEventListener("load",function(){n=a.result,e.src=n},!1),t&&(a.readAsDataURL(t),c.inputs.Photo={src:"Market_Reciept.jpg",binary:n})}var c=this,l=0,u={};c.currentDate=new Date,c.inputs={},c.approvals={},c.submitBtnClasses={btn:!0,"btn-danger":!0,"btn-success":!1,"col-xs-12":!0,"col-sm-12":!0,"col-md-12":!0,"col-lg-12":!0},Object.keys(c.data.questions).forEach(function(e){var t=c.data.questions[e].name;u[t]=l,l++}),c.inputs=c.suggestions,c.refreshApprovals=function(){Object.keys(c.data.questions).forEach(function(e){var t=c.data.questions[e].name;c.inputs[t].value="",c.data.questions[e].approvals.addressed=!1,c.data.questions[e].approvals.value=null,c.data.questions[e].approvals.text="OK?",c.data.questions[e].classes.approvalDiv["round-button-circle-free"]=!0,c.data.questions[e].classes.approvalDiv["round-button-circle-approved"]=!1,c.data.questions[e].classes.approvalDiv["round-button-circle-revised"]=!1,c.data.questions[e].classes.inputDiv["has-success"]=!1,c.data.questions[e].classes.inputDiv["has-warning"]=!1,c.data.questions[e].classes.inputDiv["has-danger"]=!1}),r()},c.changed=function(e){var t=u[e];c.data.questions[t].approvals.addressed=!0,c.data.questions[t].approvals.value=!0,c.data.questions[t].approvals.text="NO!",c.data.questions[t].classes.approvalDiv["round-button-circle-free"]=!1,c.data.questions[t].classes.approvalDiv["round-button-circle-revised"]=!0,c.data.questions[t].classes.inputDiv["has-danger"]=!0,r()},c.approveField=function(e){var t=u[e],a=c.data.questions[t].approvals.addressed;a||(c.inputs[e].value=c.inputs[e].suggestion,c.data.questions[t].approvals.addressed=!0,c.data.questions[t].approvals.value=!0,c.data.questions[t].approvals.text="YES!",c.data.questions[t].classes.approvalDiv["round-button-circle-free"]=!1,c.data.questions[t].classes.approvalDiv["round-button-circle-approved"]=!0,c.data.questions[t].classes.inputDiv["has-success"]=!0,r())},e.photoAdded=function(){var a=u.Photo;i(),t.info(c.inputs.Photo),c.data.questions[a].approvals.addressed=!0,c.data.questions[a].approvals.value=!0,c.data.questions[a].classes.inputDiv["has-success"]=!0,r(),e.$apply()},c.submitForm=function(){if(r()==l){var s={};Object.keys(c.inputs).forEach(function(e){"Photo"!==e?"number"==typeof c.inputs[e].value?s[e]=100*c.inputs[e].value:s[e]=c.inputs[e].value:s[e]=c.inputs[e]}),n.submitFormData(s).then(function(n){t.info("submitted!",n),a.path("/success"),e.$apply()})["catch"](function(e){t.info("Error:",e)})}else console.log("need to finish the fields")},c.refreshApprovals()}e.$inject=["scope","el","attr","ctrl"];var a={restrict:"AECM",templateUrl:"app/form/form.directive.htm",replace:!0,scope:{data:"=",suggestions:"="},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log","$location","backendSrvc"],a}function landingController(e,t){var a=this;a.redirectTo=function(a){e.info("clicked",a),t.path("/"+a)}}function backendSrvc(e,t){function a(e,a){return console.log("dir",e,"filename",a),new Promise(function(n,s){t({method:"GET",url:e+a}).then(function(e){n(e.data)},function(e){console.log("Error:",e)})})}function n(a){return e.info("got this in _post",a),new Promise(function(e,n){var s=t.post("forms/marketReciept",a).then(function(t){e("success")},function(t){e("error")});console.log(s)})}function s(e){var t={},a=e[0],n=e[1],s=e[2],o=e[3];return t.reports_due=[],Object.keys(a).forEach(function(e){t.reports_due.push({name:s[a[e].market].name,employee:o[a[e].scheduled].first_name+" "+o[a[e].scheduled].last_name})}),t.reports_past_due=[],Object.keys(n).forEach(function(e){t.reports_past_due.push({name:s[n[e].market].name,employee:o[n[e].scheduled].first_name+" "+o[n[e].scheduled].last_name,dueDate:e.slice(4,6)+"/"+e.slice(6,8)+"/"+e.slice(2,4)})}),t}function o(e){var t=this;t.allForms={marketReceipt:"marketReceipt.json"};var a=t.allForms[e];return new Promise(function(n,s){"undefined"!=typeof t[e]?n(t[e]):t._get("assets/",a).then(function(a){t[e]=a,n(t[e])})})}function r(){var e=this;return new Promise(function(t,a){e._get("/db/form/","market_receipts/due").then(function(a){var n=e._buildPossibleMarkets(a);t(n)})["catch"](function(e){a(e)})})}function i(){var e=this;e.allForms={marketReceipt:"marketReceipt.json"},console.log(e.allForms),Object.keys(e.allForms).forEach(function(t){var a=e.allForms[t];e._get("assets/",a).then(function(a){e[t]=a.data})})}function c(e){return console.log("got these",e),{Market:"Surf City",Name:"Ahmed",Gross:415,Fee:42,Pay:83,Reciepts:10,Bank:60,Due:220}}function l(t){var a=this;return e.info("got this",t),new Promise(function(e,n){a._post(t).then(function(t){e(t)})["catch"](function(e){n(e)})})}var u={_get:a,_post:n,_buildPossibleMarkets:s,getFormData:o,getPossibleMarkets:r,loadAllForms:i,getSuggestionData:c,submitFormData:l};return u}function marketReceiptController(e,t,a,n,s,o){var r=this;r.data=a,r.possibleMarkets=n,r.suggestions=s,e.info("searchParams",o,Object.keys(o).length),e.info("suggestions",s),0==Object.keys(o).length?r.showForm=!1:r.showForm=!0}function navbar(){function e(e,t,a,n){}function t(e,t){}e.$inject=["scope","el","attr","ctrl"];var a={restrict:"AECM",templateUrl:"app/navbar/navbar.directive.htm",replace:!0,scope:{},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],a}function selectPrefilledForm(){function e(e,t,a,n){}function t(e,t,a){function n(e){return{path:"/marketReceipt",params:{date:"20160627",start:"1700",zip:"00000",loc:"01"}}}var s=this;s.selectOption=function(e){var t=s.data[e],o=n(t);console.log(o),a.path(o.path).search(o.params)}}e.$inject=["scope","el","attr","ctrl"];var a={restrict:"AECM",templateUrl:"app/selectForm/selectForm.directive.htm",replace:!0,scope:{data:"="},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log","$location"],a}function successController(e){e.info("success controller")}config.$inject=["$routeProvider"],loadData.$inject=["backendSrvc"],angular.module("marketReceipt",["ngRoute"]),angular.module("marketReceipt").config(config),angular.module("marketReceipt").directive("recieptForm",recieptForm),angular.module("marketReceipt").controller("landingController",landingController),landingController.$inject=["$log","$location"],angular.module("marketReceipt").factory("backendSrvc",backendSrvc),backendSrvc.$inject=["$log","$http"],angular.module("marketReceipt").controller("marketReceiptController",marketReceiptController),marketReceiptController.$inject=["$log","backendSrvc","formData","marketPossibilities","suggestions","searchParams"],angular.module("marketReceipt").directive("navbar",navbar),angular.module("marketReceipt").directive("selectPrefilledForm",selectPrefilledForm),angular.module("marketReceipt").controller("successController",successController),successController.$inject=["$log"];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9yb3V0ZS1jb25maWcuanMiLCJhcHAuanMiLCJhcHAvZm9ybS9mb3JtLmRpcmVjdGl2ZS5qcyIsImFwcC9sYW5kaW5nL2xhbmRpbmcuY29udHJvbGxlci5qcyIsImFwcC9iYWNrZW5kU3J2Yy9iYWNrZW5kU3J2Yy5qcyIsImFwcC9tYXJrZXRSZWNlaXB0L21hcmtldFJlY2VpcHQuY29udHJvbGxlci5qcyIsImFwcC9uYXZiYXIvbmF2YmFyLmRpcmVjdGl2ZS5qcyIsImFwcC9zZWxlY3RGb3JtL3NlbGVjdEZvcm0uZGlyZWN0aXZlLmpzIiwiYXBwL3N1Y2Nlc3Mvc3VjY2Vzcy5jb250cm9sbGVyLmpzIiwiYXBwLm1vZHVsZS5qcyJdLCJuYW1lcyI6WyJjb25maWciLCIkcm91dGVQcm92aWRlciIsIndoZW4iLCJ0ZW1wbGF0ZVVybCIsImNvbnRyb2xsZXIiLCJjb250cm9sbGVyQXMiLCJyZXNvbHZlIiwibG9hZERhdGEiLCJyZWxvYWRPblNlYXJjaCIsImZvcm1EYXRhIiwiYmFja2VuZFNydmMiLCJnZXRGb3JtRGF0YSIsIm1hcmtldFBvc3NpYmlsaXRpZXMiLCJnZXRQb3NzaWJsZU1hcmtldHMiLCJzdWdnZXN0aW9ucyIsIiRyb3V0ZVBhcmFtcyIsImdldFN1Z2dlc3Rpb25EYXRhIiwic2VhcmNoUGFyYW1zIiwib3RoZXJ3aXNlIiwicmVkaXJlY3RUbyIsImxvYWRBbGxGb3JtcyIsInJlY2llcHRGb3JtIiwibGlua0Z1bmMiLCJzY29wZSIsImVsIiwiYXR0ciIsImN0cmwiLCIkc2NvcGUiLCIkbG9nIiwiJGxvY2F0aW9uIiwidW5sb2NrU3VibWl0QnRuIiwidm0iLCJzdWJtaXRCdG5DbGFzc2VzIiwibG9ja1N1Ym1pdEJ0biIsImNvdW50QXBwcm92ZWQiLCJudW1iZXJPZiIsIk9iamVjdCIsImtleXMiLCJkYXRhIiwicXVlc3Rpb25zIiwiZm9yRWFjaCIsImtleSIsImlzQXBwcm92ZWQiLCJhcHByb3ZhbHMiLCJhZGRyZXNzZWQiLCJ0b3RhbEZpZWxkcyIsImdldFBob3RvIiwicHJldmlldyIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJmaWxlIiwiZmlsZXMiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwiaW1hZ2ViaW5hcnkiLCJhZGRFdmVudExpc3RlbmVyIiwicmVzdWx0Iiwic3JjIiwicmVhZEFzRGF0YVVSTCIsImlucHV0cyIsImJpbmFyeSIsInRoaXMiLCJmaWVsZHNIYXNoIiwiY3VycmVudERhdGUiLCJEYXRlIiwiYnRuIiwiYnRuLWRhbmdlciIsImJ0bi1zdWNjZXNzIiwiY29sLXhzLTEyIiwiY29sLXNtLTEyIiwiY29sLW1kLTEyIiwiY29sLWxnLTEyIiwibmFtZSIsInJlZnJlc2hBcHByb3ZhbHMiLCJyZWNvcmROYW1lIiwidmFsdWUiLCJ0ZXh0IiwiY2xhc3NlcyIsImFwcHJvdmFsRGl2IiwiaW5wdXREaXYiLCJjaGFuZ2VkIiwiZmllbGROYW1lIiwicmVjb3JkTnVtIiwiYXBwcm92ZUZpZWxkIiwic3VnZ2VzdGlvbiIsInBob3RvQWRkZWQiLCJpbmZvIiwiJGFwcGx5Iiwic3VibWl0Rm9ybSIsImRlbGl2ZXJ5T2JqZWN0Iiwic3VibWl0Rm9ybURhdGEiLCJ0aGVuIiwicmVzcG9uc2UiLCJwYXRoIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwiJGluamVjdCIsImRpcmVjdGl2ZSIsInJlc3RyaWN0IiwicmVwbGFjZSIsImxpbmsiLCJiaW5kVG9Db250cm9sbGVyIiwibGFuZGluZ0NvbnRyb2xsZXIiLCJmb3JtTmFtZSIsIiRodHRwIiwiX2dldCIsImRpciIsImZpbGVuYW1lIiwiUHJvbWlzZSIsInJlamVjdCIsIm1ldGhvZCIsInVybCIsIl9wb3N0IiwicG9zdCIsIl9idWlsZFBvc3NpYmxlTWFya2V0cyIsInJlc291cmNlcyIsInJldHVybk9iamVjdCIsInJlcG9ydHNEdWUiLCJyZXBvcnRzUGFzdER1ZSIsImFsbExvY2F0aW9ucyIsImFsbEVtcGxveWVlcyIsInJlcG9ydHNfZHVlIiwicHVzaCIsIm1hcmtldCIsImVtcGxveWVlIiwic2NoZWR1bGVkIiwiZmlyc3RfbmFtZSIsImxhc3RfbmFtZSIsInJlcG9ydHNfcGFzdF9kdWUiLCJkdWVEYXRlIiwic2xpY2UiLCJmb3JtIiwic2VydmljZSIsImFsbEZvcm1zIiwibWFya2V0UmVjZWlwdCIsInJlaiIsInBvc3NpYmxlTWFya2V0c0xpc3QiLCJwYXJhbXMiLCJNYXJrZXQiLCJOYW1lIiwiR3Jvc3MiLCJGZWUiLCJQYXkiLCJSZWNpZXB0cyIsIkJhbmsiLCJEdWUiLCJlcnIiLCJtYXJrZXRSZWNlaXB0Q29udHJvbGxlciIsInBvc3NpYmxlTWFya2V0cyIsImxlbmd0aCIsInNob3dGb3JtIiwibmF2YmFyIiwibmF2YmFyQ29udHJvbGxlciIsInNlbGVjdFByZWZpbGxlZEZvcm0iLCJzZWxlY3RQcmVmaWxsZWRGb3JtQ29udHJvbGxlciIsImJ1aWxkcHJlZmlsbGVkTWFya2V0Rm9ybVBhdGgiLCJvcHRpb25WYWx1ZXMiLCJkYXRlIiwic3RhcnQiLCJ6aXAiLCJsb2MiLCJzZWxlY3RPcHRpb24iLCJzZWxlY3Rpb24iLCJtYXJrZXRGb3JtIiwic2VhcmNoIiwic3VjY2Vzc0NvbnRyb2xsZXIiLCJhbmd1bGFyIiwibW9kdWxlIiwiZmFjdG9yeSJdLCJtYXBwaW5ncyI6IkFBSUEsUUFBQUEsUUFBQUMsR0FDQUEsRUFDQUMsS0FBQSxLQUNBQyxZQUFBLDBCQUNBQyxXQUFBLG9CQUNBQyxhQUFBLEtBQ0FDLFNBQ0FDLFNBQUFBLFlBR0FMLEtBQUEsa0JBQ0FDLFlBQUEsc0NBQ0FDLFdBQUEsMEJBQ0FDLGFBQUEsS0FDQUcsZ0JBQUEsRUFDQUYsU0FDQUcsVUFBQSxjQUFBLFNBQUFDLEdBRUEsTUFBQUEsR0FBQUMsWUFBQSxtQkFFQUMscUJBQUEsY0FBQSxTQUFBRixHQUVBLE1BQUFBLEdBQUFHLHVCQUVBQyxhQUFBLGNBQUEsZUFBQSxTQUFBSixFQUFBSyxHQUNBLE1BQUFMLEdBQUFNLGtCQUFBRCxLQUVBRSxjQUFBLGVBQUEsU0FBQUYsR0FBQSxNQUFBQSxRQUdBYixLQUFBLFlBQ0FDLFlBQUEsMEJBQ0FDLFdBQUEsb0JBQ0FDLGFBQUEsT0FFQWEsV0FDQUMsV0FBQSxNQUlBLFFBQUFaLFVBQUFHLEdBQ0FBLEVBQUFVLGVDY0EsUUFBU0MsZUN0Q1QsUUFBQUMsR0FBQUMsRUFBQUMsRUFBQUMsRUFBQUMsSUFNQSxRQUFBTCxHQUFBTSxFQUFBQyxFQUFBQyxFQUFBbkIsR0FxQ0EsUUFBQW9CLEtBR0FDLEVBQUFDLGlCQUFBLGVBQUEsRUFDQUQsRUFBQUMsaUJBQUEsZ0JBQUEsRUFHQSxRQUFBQyxLQUdBRixFQUFBQyxpQkFBQSxlQUFBLEVBQ0FELEVBQUFDLGlCQUFBLGdCQUFBLEVBR0EsUUFBQUUsS0FDQSxHQUFBQyxHQUFBLENBYUEsT0FYQUMsUUFBQUMsS0FBQU4sRUFBQU8sS0FBQUMsV0FBQUMsUUFBQSxTQUFBQyxHQUVBLEdBQUFDLEdBQUFYLEVBQUFPLEtBQUFDLFVBQUFFLEdBQUFFLFVBQUFDLFNBRUFGLElBQUFQLE1BSUFBLEdBQUFVLEVBQUFmLElBQ0FHLElBRUFFLEVBR0EsUUFBQVcsS0FDQSxHQUFBQyxHQUFBQyxTQUFBQyxlQUFBLGdCQUNBQyxFQUFBRixTQUFBQyxlQUFBLFNBQUFFLE1BQUEsR0FDQUMsRUFBQSxHQUFBQyxZQUNBQyxFQUFBLElBRUFGLEdBQUFHLGlCQUFBLE9BQUEsV0FDQUQsRUFBQUYsRUFBQUksT0FDQVQsRUFBQVUsSUFBQUgsSUFFQSxHQUVBSixJQUVBRSxFQUFBTSxjQUFBUixHQUdBbkIsRUFBQTRCLE9BQUEsT0FDQUYsSUFBQSxxQkFDQUcsT0FBQU4sSUF0RkEsR0FBQXZCLEdBQUE4QixLQUdBaEIsRUFBQSxFQUNBaUIsSUFHQS9CLEdBQUFnQyxZQUFBLEdBQUFDLE1BRUFqQyxFQUFBLFVBQ0FBLEVBQUEsYUFDQUEsRUFBQSxrQkFDQWtDLEtBQUEsRUFDQUMsY0FBQSxFQUNBQyxlQUFBLEVBQ0FDLGFBQUEsRUFDQUMsYUFBQSxFQUNBQyxhQUFBLEVBQ0FDLGFBQUEsR0FJQW5DLE9BQUFDLEtBQUFOLEVBQUFPLEtBQUFDLFdBQUFDLFFBQUEsU0FBQUMsR0FDQSxHQUFBK0IsR0FBQXpDLEVBQUFPLEtBQUFDLFVBQUFFLEdBQUErQixJQUdBVixHQUFBVSxHQUFBM0IsRUFHQUEsTUFLQWQsRUFBQTRCLE9BQUE1QixFQUFBakIsWUEwREFpQixFQUFBMEMsaUJBQUEsV0FFQXJDLE9BQUFDLEtBQUFOLEVBQUFPLEtBQUFDLFdBQUFDLFFBQUEsU0FBQUMsR0FDQSxHQUFBaUMsR0FBQTNDLEVBQUFPLEtBQUFDLFVBQUFFLEdBQUErQixJQUtBekMsR0FBQTRCLE9BQUFlLEdBQUFDLE1BQUEsR0FHQTVDLEVBQUFPLEtBQUFDLFVBQUFFLEdBQUFFLFVBQUFDLFdBQUEsRUFDQWIsRUFBQU8sS0FBQUMsVUFBQUUsR0FBQUUsVUFBQWdDLE1BQUEsS0FDQTVDLEVBQUFPLEtBQUFDLFVBQUFFLEdBQUFFLFVBQUFpQyxLQUFBLE1BR0E3QyxFQUFBTyxLQUFBQyxVQUFBRSxHQUFBb0MsUUFBQUMsWUFBQSw2QkFBQSxFQUNBL0MsRUFBQU8sS0FBQUMsVUFBQUUsR0FBQW9DLFFBQUFDLFlBQUEsaUNBQUEsRUFDQS9DLEVBQUFPLEtBQUFDLFVBQUFFLEdBQUFvQyxRQUFBQyxZQUFBLGdDQUFBLEVBRUEvQyxFQUFBTyxLQUFBQyxVQUFBRSxHQUFBb0MsUUFBQUUsU0FBQSxnQkFBQSxFQUNBaEQsRUFBQU8sS0FBQUMsVUFBQUUsR0FBQW9DLFFBQUFFLFNBQUEsZ0JBQUEsRUFDQWhELEVBQUFPLEtBQUFDLFVBQUFFLEdBQUFvQyxRQUFBRSxTQUFBLGVBQUEsSUFHQTdDLEtBR0FILEVBQUFpRCxRQUFBLFNBQUFDLEdBQ0EsR0FBQUMsR0FBQXBCLEVBQUFtQixFQUtBbEQsR0FBQU8sS0FBQUMsVUFBQTJDLEdBQUF2QyxVQUFBQyxXQUFBLEVBQ0FiLEVBQUFPLEtBQUFDLFVBQUEyQyxHQUFBdkMsVUFBQWdDLE9BQUEsRUFDQTVDLEVBQUFPLEtBQUFDLFVBQUEyQyxHQUFBdkMsVUFBQWlDLEtBQUEsTUFHQTdDLEVBQUFPLEtBQUFDLFVBQUEyQyxHQUFBTCxRQUFBQyxZQUFBLDZCQUFBLEVBQ0EvQyxFQUFBTyxLQUFBQyxVQUFBMkMsR0FBQUwsUUFBQUMsWUFBQSxnQ0FBQSxFQUdBL0MsRUFBQU8sS0FBQUMsVUFBQTJDLEdBQUFMLFFBQUFFLFNBQUEsZUFBQSxFQUVBN0MsS0FHQUgsRUFBQW9ELGFBQUEsU0FBQUYsR0FDQSxHQUFBQyxHQUFBcEIsRUFBQW1CLEdBQ0F2QyxFQUFBWCxFQUFBTyxLQUFBQyxVQUFBMkMsR0FBQXZDLFVBQUFDLFNBRUFGLEtBR0FYLEVBQUE0QixPQUFBc0IsR0FBQU4sTUFBQTVDLEVBQUE0QixPQUFBc0IsR0FBQUcsV0FHQXJELEVBQUFPLEtBQUFDLFVBQUEyQyxHQUFBdkMsVUFBQUMsV0FBQSxFQUNBYixFQUFBTyxLQUFBQyxVQUFBMkMsR0FBQXZDLFVBQUFnQyxPQUFBLEVBQ0E1QyxFQUFBTyxLQUFBQyxVQUFBMkMsR0FBQXZDLFVBQUFpQyxLQUFBLE9BR0E3QyxFQUFBTyxLQUFBQyxVQUFBMkMsR0FBQUwsUUFBQUMsWUFBQSw2QkFBQSxFQUNBL0MsRUFBQU8sS0FBQUMsVUFBQTJDLEdBQUFMLFFBQUFDLFlBQUEsaUNBQUEsRUFHQS9DLEVBQUFPLEtBQUFDLFVBQUEyQyxHQUFBTCxRQUFBRSxTQUFBLGdCQUFBLEVBRUE3QyxNQU9BUCxFQUFBMEQsV0FBQSxXQUNBLEdBQUFILEdBQUFwQixFQUFBLEtBR0FoQixLQUdBbEIsRUFBQTBELEtBQUF2RCxFQUFBNEIsT0FBQSxPQUdBNUIsRUFBQU8sS0FBQUMsVUFBQTJDLEdBQUF2QyxVQUFBQyxXQUFBLEVBQ0FiLEVBQUFPLEtBQUFDLFVBQUEyQyxHQUFBdkMsVUFBQWdDLE9BQUEsRUFHQTVDLEVBQUFPLEtBQUFDLFVBQUEyQyxHQUFBTCxRQUFBRSxTQUFBLGdCQUFBLEVBRUE3QyxJQUVBUCxFQUFBNEQsVUFHQXhELEVBQUF5RCxXQUFBLFdBRUEsR0FBQXRELEtBQUFXLEVBQUEsQ0FDQSxHQUFBNEMsS0FFQXJELFFBQUFDLEtBQUFOLEVBQUE0QixRQUFBbkIsUUFBQSxTQUFBQyxHQUNBLFVBQUFBLEVBRUEsZ0JBQUFWLEdBQUE0QixPQUFBbEIsR0FBQWtDLE1BQ0FjLEVBQUFoRCxHQUFBLElBQUFWLEVBQUE0QixPQUFBbEIsR0FBQWtDLE1BQ0FjLEVBQUFoRCxHQUFBVixFQUFBNEIsT0FBQWxCLEdBQUFrQyxNQUdBYyxFQUFBaEQsR0FBQVYsRUFBQTRCLE9BQUFsQixLQUtBL0IsRUFBQWdGLGVBQUFELEdBQ0FFLEtBQUEsU0FBQUMsR0FFQWhFLEVBQUEwRCxLQUFBLGFBQUFNLEdBR0EvRCxFQUFBZ0UsS0FBQSxZQUNBbEUsRUFBQTRELFdBUEE3RSxTQVNBLFNBQUFvRixHQUNBbEUsRUFBQTBELEtBQUEsU0FBQVEsU0FPQUMsU0FBQUMsSUFBQSw4QkFLQWpFLEVBQUEwQyxtQkRyTUluRCxFQUFTMkUsU0FBVyxRQUFTLEtBQU0sT0FBUSxPQ3REL0MsSUFBQUMsSUFDQUMsU0FBQSxPQUNBaEcsWUFBQSw4QkFDQWlHLFNBQUEsRUFDQTdFLE9BQ0FlLEtBQUEsSUFDQXhCLFlBQUEsS0FFQXVGLEtBQUEvRSxFQUNBbEIsV0FBQWlCLEVBQ0FoQixhQUFBLEtBQ0FpRyxrQkFBQSxFQW1QQSxPQTVPQWpGLEdBQUE0RSxTQUFBLFNBQUEsT0FBQSxZQUFBLGVBNE9BQyxFQzdQQSxRQUFBSyxtQkFBQTNFLEVBQUFDLEdBQ0EsR0FBQUUsR0FBQThCLElBRUE5QixHQUFBWixXQUFBLFNBQUFxRixHQUNBNUUsRUFBQTBELEtBQUEsVUFBQWtCLEdBQ0EzRSxFQUFBZ0UsS0FBQSxJQUFBVyxJQ0xBLFFBQUE5RixhQUFBa0IsRUFBQTZFLEdBY0EsUUFBQUMsR0FBQUMsRUFBQUMsR0FLQSxNQUZBYixTQUFBQyxJQUFBLE1BQUFXLEVBQUEsV0FBQUMsR0FFQSxHQUFBQyxTQUFBLFNBQUF2RyxFQUFBd0csR0FFQUwsR0FDQU0sT0FBQSxNQUNBQyxJQUFBTCxFQUFBQyxJQUNBakIsS0FBQSxTQUFBQyxHQUVBdEYsRUFBQXNGLEVBQUF0RCxPQUVBLFNBQUFzRCxHQUNBRyxRQUFBQyxJQUFBLFNBQUFKLE9BT0EsUUFBQXFCLEdBQUEzRSxHQUlBLE1BRkFWLEdBQUEwRCxLQUFBLG9CQUFBaEQsR0FFQSxHQUFBdUUsU0FBQSxTQUFBdkcsRUFBQXdHLEdBRUEsR0FBQXRELEdBQUFpRCxFQUFBUyxLQUFBLHNCQUFBNUUsR0FDQXFELEtBQUEsU0FBQUMsR0FDQXRGLEVBQUEsWUFDQSxTQUFBc0YsR0FDQXRGLEVBQUEsVUFHQXlGLFNBQUFDLElBQUF4QyxLQUtBLFFBQUEyRCxHQUFBQyxHQUNBLEdBQUFDLE1BQ0FDLEVBQUFGLEVBQUEsR0FDQUcsRUFBQUgsRUFBQSxHQUNBSSxFQUFBSixFQUFBLEdBQ0FLLEVBQUFMLEVBQUEsRUF3QkEsT0FyQkFDLEdBQUEsZUFDQWpGLE9BQUFDLEtBQUFpRixHQUFBOUUsUUFBQSxTQUFBQyxHQUVBNEUsRUFBQUssWUFBQUMsTUFDQW5ELEtBQUFnRCxFQUFBRixFQUFBN0UsR0FBQW1GLFFBQUFwRCxLQUNBcUQsU0FBQUosRUFBQUgsRUFBQTdFLEdBQUFxRixXQUFBQyxXQUFBLElBQUFOLEVBQUFILEVBQUE3RSxHQUFBcUYsV0FBQUUsY0FNQVgsRUFBQSxvQkFDQWpGLE9BQUFDLEtBQUFrRixHQUFBL0UsUUFBQSxTQUFBQyxHQUVBNEUsRUFBQVksaUJBQUFOLE1BQ0FuRCxLQUFBZ0QsRUFBQUQsRUFBQTlFLEdBQUFtRixRQUFBcEQsS0FDQXFELFNBQUFKLEVBQUFGLEVBQUE5RSxHQUFBcUYsV0FBQUMsV0FBQSxJQUFBTixFQUFBRixFQUFBOUUsR0FBQXFGLFdBQUFFLFVBQ0FFLFFBQUF6RixFQUFBMEYsTUFBQSxFQUFBLEdBQUEsSUFBQTFGLEVBQUEwRixNQUFBLEVBQUEsR0FBQSxJQUFBMUYsRUFBQTBGLE1BQUEsRUFBQSxPQUlBZCxFQUdBLFFBQUExRyxHQUFBeUgsR0FDQSxHQUFBQyxHQUFBeEUsSUFFQXdFLEdBQUFDLFVBQUFDLGNBQUEscUJBRUEsSUFBQXZCLEdBQUFxQixFQUFBQyxTQUFBRixFQUVBLE9BQUEsSUFBQXZCLFNBQUEsU0FBQXZHLEVBQUFrSSxHQUVBLG1CQUFBSCxHQUFBRCxHQUNBOUgsRUFBQStILEVBQUFELElBRUFDLEVBQUEzQixLQUFBLFVBQUFNLEdBQUFyQixLQUFBLFNBQUFDLEdBQ0F5QyxFQUFBRCxHQUFBeEMsRUFDQXRGLEVBQUErSCxFQUFBRCxRQVFBLFFBQUF2SCxLQUNBLEdBQUF3SCxHQUFBeEUsSUFFQSxPQUFBLElBQUFnRCxTQUFBLFNBQUF2RyxFQUFBd0csR0FFQXVCLEVBQUEzQixLQUFBLFlBQUEsdUJBQUFmLEtBQUEsU0FBQUMsR0FFQSxHQUFBNkMsR0FBQUosRUFBQWxCLHNCQUFBdkIsRUFFQXRGLEdBQUFtSSxLQUpBSixTQUtBLFNBQUF2QyxHQUNBZ0IsRUFBQWhCLE9BT0EsUUFBQTFFLEtBQ0EsR0FBQWlILEdBQUF4RSxJQUVBd0UsR0FBQUMsVUFBQUMsY0FBQSxzQkFFQXhDLFFBQUFDLElBQUFxQyxFQUFBQyxVQUdBbEcsT0FBQUMsS0FBQWdHLEVBQUFDLFVBQUE5RixRQUFBLFNBQUE0RixHQUNBLEdBQUFwQixHQUFBcUIsRUFBQUMsU0FBQUYsRUFFQUMsR0FBQTNCLEtBQUEsVUFBQU0sR0FBQXJCLEtBQUEsU0FBQUMsR0FDQXlDLEVBQUFELEdBQUF4QyxFQUFBdEQsU0FPQSxRQUFBdEIsR0FBQTBILEdBSUEsTUFGQTNDLFNBQUFDLElBQUEsWUFBQTBDLElBR0FDLE9BQUEsWUFDQUMsS0FBQSxRQUNBQyxNQUFBLElBQ0FDLElBQUEsR0FDQUMsSUFBQSxHQUNBQyxTQUFBLEdBQ0FDLEtBQUEsR0FDQUMsSUFBQSxLQUlBLFFBQUF4RCxHQUFBcEQsR0FDQSxHQUFBK0YsR0FBQXhFLElBTUEsT0FIQWpDLEdBQUEwRCxLQUFBLFdBQUFoRCxHQUdBLEdBQUF1RSxTQUFBLFNBQUF2RyxFQUFBd0csR0FHQXVCLEVBQUFwQixNQUFBM0UsR0FBQXFELEtBQUEsU0FBQUMsR0FJQXRGLEVBQUFzRixLQUpBeUMsU0FLQSxTQUFBYyxHQUVBckMsRUFBQXFDLE9BakxBLEdBRUF6SSxJQUNBZ0csS0FBQUEsRUFDQU8sTUFBQUEsRUFDQUUsc0JBQUFBLEVBQ0F4RyxZQUFBQSxFQUNBRSxtQkFBQUEsRUFDQU8sYUFBQUEsRUFDQUosa0JBQUFBLEVBQ0EwRSxlQUFBQSxFQThLQSxPQUFBaEYsR0N6TEEsUUFBQTBJLHlCQUFBeEgsRUFBQWxCLEVBQUFELEVBQUFHLEVBQUFFLEVBQUFHLEdBQ0EsR0FBQWMsR0FBQThCLElBR0E5QixHQUFBTyxLQUFBN0IsRUFDQXNCLEVBQUFzSCxnQkFBQXpJLEVBQ0FtQixFQUFBakIsWUFBQUEsRUFFQWMsRUFBQTBELEtBQUEsZUFBQXJFLEVBQUFtQixPQUFBQyxLQUFBcEIsR0FBQXFJLFFBQ0ExSCxFQUFBMEQsS0FBQSxjQUFBeEUsR0FHQSxHQUFBc0IsT0FBQUMsS0FBQXBCLEdBQUFxSSxPQUFBdkgsRUFBQXdILFVBQUEsRUFDQXhILEVBQUF3SCxVQUFBLEVKb2lCQSxRQUFTQyxVS3RpQlQsUUFBQWxJLEdBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLElBTUEsUUFBQStILEdBQUE5SCxFQUFBQyxJTGlpQklOLEVBQVMyRSxTQUFXLFFBQVMsS0FBTSxPQUFRLE9LbmpCL0MsSUFBQUMsSUFDQUMsU0FBQSxPQUNBaEcsWUFBQSxrQ0FDQWlHLFNBQUEsRUFDQTdFLFNBQ0E4RSxLQUFBL0UsRUFDQWxCLFdBQUFxSixFQUNBcEosYUFBQSxLQUNBaUcsa0JBQUEsRUFjQSxPQVBBbUQsR0FBQXhELFNBQUEsU0FBQSxRQU9BQyxFTDJqQkEsUUFBU3dELHVCTW5rQlQsUUFBQXBJLEdBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLElBTUEsUUFBQWlJLEdBQUFoSSxFQUFBQyxFQUFBQyxHQUdBLFFBQUErSCxHQUFBQyxHQUNBLE9BQ0FoRSxLQUFBLGlCQUNBNkMsUUFDQW9CLEtBQUEsV0FDQUMsTUFBQSxPQUNBQyxJQUFBLFFBQ0FDLElBQUEsT0FUQSxHQUFBbEksR0FBQThCLElBY0E5QixHQUFBbUksYUFBQSxTQUFBQyxHQUNBLEdBQUFOLEdBQUE5SCxFQUFBTyxLQUFBNkgsR0FFQUMsRUFBQVIsRUFBQUMsRUFFQTlELFNBQUFDLElBQUFvRSxHQUdBdkksRUFBQWdFLEtBQUF1RSxFQUFBdkUsTUFBQXdFLE9BQUFELEVBQUExQixTTnVpQklwSCxFQUFTMkUsU0FBVyxRQUFTLEtBQU0sT0FBUSxPTWxsQi9DLElBQUFDLElBQ0FDLFNBQUEsT0FDQWhHLFlBQUEsMENBQ0FpRyxTQUFBLEVBQ0E3RSxPQUNBZSxLQUFBLEtBRUErRCxLQUFBL0UsRUFDQWxCLFdBQUF1SixFQUNBdEosYUFBQSxLQUNBaUcsa0JBQUEsRUFzQ0EsT0EvQkFxRCxHQUFBMUQsU0FBQSxTQUFBLE9BQUEsYUErQkFDLEVDL0NBLFFBQUFvRSxtQkFBQTFJLEdBRUFBLEVBQUEwRCxLQUFBLHNCUFJBdEYsT0FBT2lHLFNBQVcsa0JBQ2xCMUYsU0FBUzBGLFNBQVcsZVFGcEJzRSxRQUNBQyxPQUFBLGlCQUNBLFlURkFELFFBQ0FDLE9BQUEsaUJBQ0F4SyxPQUFBQSxRRUZBdUssUUFDQUMsT0FBQSxpQkFDQXRFLFVBQUEsY0FBQTdFLGFDRkFrSixRQUNBQyxPQUFBLGlCQUNBcEssV0FBQSxvQkFBQW1HLG1CQUVBQSxrQkFBQU4sU0FBQSxPQUFBLGFDSkFzRSxRQUNBQyxPQUFBLGlCQUNBQyxRQUFBLGNBQUEvSixhQUVBQSxZQUFBdUYsU0FBQSxPQUFBLFNDSkFzRSxRQUNBQyxPQUFBLGlCQUNBcEssV0FBQSwwQkFBQWdKLHlCQUVBQSx3QkFBQW5ELFNBQUEsT0FBQSxjQUFBLFdBQUEsc0JBQUEsY0FBQSxnQkNKQXNFLFFBQ0FDLE9BQUEsaUJBQ0F0RSxVQUFBLFNBQUFzRCxRQ0ZBZSxRQUNBQyxPQUFBLGlCQUNBdEUsVUFBQSxzQkFBQXdELHFCQ0ZBYSxRQUNBQyxPQUFBLGlCQUNBcEssV0FBQSxvQkFBQWtLLG1CQUVBQSxrQkFBQXJFLFNBQUEiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiYW5ndWxhclxuXHQubW9kdWxlKCdtYXJrZXRSZWNlaXB0Jylcblx0LmNvbmZpZyhjb25maWcpO1xuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBjb25maWcoJHJvdXRlUHJvdmlkZXIpIHtcblx0JHJvdXRlUHJvdmlkZXJcbiAgICAud2hlbignLycsIHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdhcHAvbGFuZGluZy9sYW5kaW5nLmh0bScsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdsYW5kaW5nQ29udHJvbGxlcicsXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcbiAgICAgICAgcmVzb2x2ZToge1x0LyogQG5nSW5qZWN0ICovXG4gICAgICAgICAgICBsb2FkRGF0YTpsb2FkRGF0YVxuICAgICAgICB9XG4gICAgfSlcbiAgICAud2hlbignL21hcmtldFJlY2VpcHQnLCB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAnYXBwL21hcmtldFJlY2VpcHQvbWFya2V0UmVjZWlwdC5odG0nLFxuICAgICAgICBjb250cm9sbGVyOiAnbWFya2V0UmVjZWlwdENvbnRyb2xsZXInLFxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXG4gICAgICAgIHJlbG9hZE9uU2VhcmNoOiB0cnVlLFxuICAgICAgICByZXNvbHZlOiB7IC8qIEBuZ0luamVjdCAqL1xuICAgICAgICAgICAgZm9ybURhdGE6IGZ1bmN0aW9uKGJhY2tlbmRTcnZjKSB7XG4gICAgICAgICAgICAgICAgLy9yZXR1cm4geydyZXNvbHZlVGVzdCc6J2dvb2QgdGVzdCd9O1xuICAgICAgICAgICAgICAgIHJldHVybiBiYWNrZW5kU3J2Yy5nZXRGb3JtRGF0YSgnbWFya2V0UmVjZWlwdCcpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1hcmtldFBvc3NpYmlsaXRpZXM6IGZ1bmN0aW9uKGJhY2tlbmRTcnZjLyosICRyb3V0ZVBhcmFtcyovKSB7XG4gICAgICAgICAgICAgICAgLy9yZXR1cm4gezE6J1NvbWV0aGluZycsIDI6J3NvbWV0aGluZyBlbHNlJ31cbiAgICAgICAgICAgICAgICByZXR1cm4gYmFja2VuZFNydmMuZ2V0UG9zc2libGVNYXJrZXRzKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3VnZ2VzdGlvbnM6IGZ1bmN0aW9uKGJhY2tlbmRTcnZjLCAkcm91dGVQYXJhbXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYmFja2VuZFNydmMuZ2V0U3VnZ2VzdGlvbkRhdGEoJHJvdXRlUGFyYW1zKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZWFyY2hQYXJhbXM6IGZ1bmN0aW9uKCRyb3V0ZVBhcmFtcykgeyByZXR1cm4gJHJvdXRlUGFyYW1zOyB9XG4gICAgICAgIH1cbiAgICB9KVxuICAgIC53aGVuKCcvc3VjY2VzcycsIHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdhcHAvc3VjY2Vzcy9zdWNjZXNzLmh0bScsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdzdWNjZXNzQ29udHJvbGxlcicsXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJ1xuICAgIH0pXG4gICAgLm90aGVyd2lzZSh7XG4gICAgICAgIHJlZGlyZWN0VG86ICcvJ1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBsb2FkRGF0YShiYWNrZW5kU3J2Yykge1xuXHRiYWNrZW5kU3J2Yy5sb2FkQWxsRm9ybXMoKTtcbn0iLCJcbmNvbmZpZy4kaW5qZWN0ID0gW1wiJHJvdXRlUHJvdmlkZXJcIl07XG5sb2FkRGF0YS4kaW5qZWN0ID0gW1wiYmFja2VuZFNydmNcIl07YW5ndWxhclxuXHQubW9kdWxlKCdtYXJrZXRSZWNlaXB0JywgW1xuXHRcdCduZ1JvdXRlJ1xuXHRdKTtcblxuYW5ndWxhclxuXHQubW9kdWxlKCdtYXJrZXRSZWNlaXB0Jylcblx0LmNvbmZpZyhjb25maWcpO1xuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBjb25maWcoJHJvdXRlUHJvdmlkZXIpIHtcblx0JHJvdXRlUHJvdmlkZXJcbiAgICAud2hlbignLycsIHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdhcHAvbGFuZGluZy9sYW5kaW5nLmh0bScsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdsYW5kaW5nQ29udHJvbGxlcicsXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcbiAgICAgICAgcmVzb2x2ZToge1x0LyogQG5nSW5qZWN0ICovXG4gICAgICAgICAgICBsb2FkRGF0YTpsb2FkRGF0YVxuICAgICAgICB9XG4gICAgfSlcbiAgICAud2hlbignL21hcmtldFJlY2VpcHQnLCB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAnYXBwL21hcmtldFJlY2VpcHQvbWFya2V0UmVjZWlwdC5odG0nLFxuICAgICAgICBjb250cm9sbGVyOiAnbWFya2V0UmVjZWlwdENvbnRyb2xsZXInLFxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXG4gICAgICAgIHJlbG9hZE9uU2VhcmNoOiB0cnVlLFxuICAgICAgICByZXNvbHZlOiB7IC8qIEBuZ0luamVjdCAqL1xuICAgICAgICAgICAgZm9ybURhdGE6IFtcImJhY2tlbmRTcnZjXCIsIGZ1bmN0aW9uKGJhY2tlbmRTcnZjKSB7XG4gICAgICAgICAgICAgICAgLy9yZXR1cm4geydyZXNvbHZlVGVzdCc6J2dvb2QgdGVzdCd9O1xuICAgICAgICAgICAgICAgIHJldHVybiBiYWNrZW5kU3J2Yy5nZXRGb3JtRGF0YSgnbWFya2V0UmVjZWlwdCcpO1xuICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICBtYXJrZXRQb3NzaWJpbGl0aWVzOiBbXCJiYWNrZW5kU3J2Y1wiLCBmdW5jdGlvbihiYWNrZW5kU3J2Yy8qLCAkcm91dGVQYXJhbXMqLykge1xuICAgICAgICAgICAgICAgIC8vcmV0dXJuIHsxOidTb21ldGhpbmcnLCAyOidzb21ldGhpbmcgZWxzZSd9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJhY2tlbmRTcnZjLmdldFBvc3NpYmxlTWFya2V0cygpO1xuICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICBzdWdnZXN0aW9uczogW1wiYmFja2VuZFNydmNcIiwgXCIkcm91dGVQYXJhbXNcIiwgZnVuY3Rpb24oYmFja2VuZFNydmMsICRyb3V0ZVBhcmFtcykge1xuICAgICAgICAgICAgICAgIHJldHVybiBiYWNrZW5kU3J2Yy5nZXRTdWdnZXN0aW9uRGF0YSgkcm91dGVQYXJhbXMpO1xuICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICBzZWFyY2hQYXJhbXM6IFtcIiRyb3V0ZVBhcmFtc1wiLCBmdW5jdGlvbigkcm91dGVQYXJhbXMpIHsgcmV0dXJuICRyb3V0ZVBhcmFtczsgfV1cbiAgICAgICAgfVxuICAgIH0pXG4gICAgLndoZW4oJy9zdWNjZXNzJywge1xuICAgICAgICB0ZW1wbGF0ZVVybDogJ2FwcC9zdWNjZXNzL3N1Y2Nlc3MuaHRtJyxcbiAgICAgICAgY29udHJvbGxlcjogJ3N1Y2Nlc3NDb250cm9sbGVyJyxcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nXG4gICAgfSlcbiAgICAub3RoZXJ3aXNlKHtcbiAgICAgICAgcmVkaXJlY3RUbzogJy8nXG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGxvYWREYXRhKGJhY2tlbmRTcnZjKSB7XG5cdGJhY2tlbmRTcnZjLmxvYWRBbGxGb3JtcygpO1xufVxuYW5ndWxhclxuXHQubW9kdWxlKCdtYXJrZXRSZWNlaXB0Jylcblx0LmRpcmVjdGl2ZSgncmVjaWVwdEZvcm0nLCByZWNpZXB0Rm9ybSk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gcmVjaWVwdEZvcm0oKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAnYXBwL2Zvcm0vZm9ybS5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHRkYXRhOiAnPScsXG5cdFx0XHRzdWdnZXN0aW9uczogJz0nXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiByZWNpZXB0Rm9ybSxcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIHJlY2llcHRGb3JtLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJywgJyRsb2NhdGlvbicsICdiYWNrZW5kU3J2YyddO1xuICAgIFxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHJlY2llcHRGb3JtKCRzY29wZSwgJGxvZywgJGxvY2F0aW9uLCBiYWNrZW5kU3J2Yykge1xuXHRcdHZhciB2bSA9IHRoaXM7XG5cblx0XHQvL2xvY2FsIHZhcmlhYmxlc1xuXHRcdHZhciB0b3RhbEZpZWxkcyA9IDA7XG5cdFx0dmFyIGZpZWxkc0hhc2ggPSB7fTtcblxuXHRcdC8vc2V0IHZpZXcgbW9kZWwgdmFsdWVzXG5cdFx0dm0uY3VycmVudERhdGUgPSBuZXcgRGF0ZSgpO1xuXG5cdFx0dm1bJ2lucHV0cyddID0ge307XG5cdFx0dm1bJ2FwcHJvdmFscyddID0ge307XG5cdFx0dm1bJ3N1Ym1pdEJ0bkNsYXNzZXMnXSA9IHtcblx0XHRcdFwiYnRuXCI6dHJ1ZSxcblx0XHRcdFwiYnRuLWRhbmdlclwiOnRydWUsXG5cdFx0XHRcImJ0bi1zdWNjZXNzXCI6ZmFsc2UsXG5cdFx0XHRcImNvbC14cy0xMlwiOnRydWUsXG5cdFx0XHRcImNvbC1zbS0xMlwiOnRydWUsXG5cdFx0XHRcImNvbC1tZC0xMlwiOnRydWUsXG5cdFx0XHRcImNvbC1sZy0xMlwiOnRydWVcblx0XHR9XG5cblx0XHQvL2NyZWF0ZSB0aGUgbmVlZGVkIG9iamVjdHNcblx0XHRPYmplY3Qua2V5cyh2bS5kYXRhLnF1ZXN0aW9ucykuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcblx0XHRcdHZhciBuYW1lID0gdm0uZGF0YS5xdWVzdGlvbnNba2V5XS5uYW1lO1xuXG5cdFx0XHQvL2J1aWxkIGZpZWxkcyBoYXNoXG5cdFx0XHRmaWVsZHNIYXNoW25hbWVdID0gdG90YWxGaWVsZHM7XG5cblx0XHRcdC8vaW5jcmltZW50IGZpZWxkcyBjb3VudFxuXHRcdFx0dG90YWxGaWVsZHMrKztcblxuXHRcdH0pO1xuXG5cdFx0Ly9nZXQgc3VnZ2VzdGVkIHZhbHVlc1xuXHRcdHZtLmlucHV0cyA9IHZtLnN1Z2dlc3Rpb25zO1xuXG5cdFx0ZnVuY3Rpb24gdW5sb2NrU3VibWl0QnRuKCkge1xuXHRcdFx0Ly9cblx0XHRcdC8vJGxvZy5pbmZvKCdVbmxvY2tpbmcgYnRuJyk7XG5cdFx0XHR2bS5zdWJtaXRCdG5DbGFzc2VzWydidG4tZGFuZ2VyJ10gPSBmYWxzZTtcblx0XHRcdHZtLnN1Ym1pdEJ0bkNsYXNzZXNbJ2J0bi1zdWNjZXNzJ10gPSB0cnVlO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGxvY2tTdWJtaXRCdG4oKSB7XG5cdFx0XHQvL1xuXHRcdFx0Ly8kbG9nLmluZm8oJ0xvY2tpbmcgYnRuJyk7XG5cdFx0XHR2bS5zdWJtaXRCdG5DbGFzc2VzWydidG4tZGFuZ2VyJ10gPSB0cnVlO1xuXHRcdFx0dm0uc3VibWl0QnRuQ2xhc3Nlc1snYnRuLXN1Y2Nlc3MnXSA9IGZhbHNlO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGNvdW50QXBwcm92ZWQoKSB7XG5cdFx0XHR2YXIgbnVtYmVyT2YgPSAwO1xuXG5cdFx0XHRPYmplY3Qua2V5cyh2bS5kYXRhLnF1ZXN0aW9ucykuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcblx0XHRcdFx0Ly9kZWZpbmUgdmFyaWFibGVcblx0XHRcdFx0dmFyIGlzQXBwcm92ZWQgPSB2bS5kYXRhLnF1ZXN0aW9uc1trZXldLmFwcHJvdmFscy5hZGRyZXNzZWQ7XG5cdFx0XHRcdC8vY2hlY2sgdmFsdWVcblx0XHRcdFx0aWYoaXNBcHByb3ZlZCkgbnVtYmVyT2YrKztcblx0XHRcdH0pO1xuXG5cdFx0XHQvLyRsb2cuaW5mbyhudW1iZXJPZiwgdG90YWxGaWVsZHMsIG51bWJlck9mPT10b3RhbEZpZWxkcyk7XG5cdFx0XHRpZihudW1iZXJPZj09dG90YWxGaWVsZHMpIHVubG9ja1N1Ym1pdEJ0bigpO1xuXHRcdFx0ZWxzZSBsb2NrU3VibWl0QnRuKCk7XG5cblx0XHRcdHJldHVybiBudW1iZXJPZjtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBnZXRQaG90bygpIHtcblx0XHRcdHZhciBwcmV2aWV3ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlY2llcHRJbWFnZScpXG5cdFx0XHR2YXIgZmlsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdQaG90bycpLmZpbGVzWzBdO1xuXHRcdFx0dmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG5cdFx0XHR2YXIgaW1hZ2ViaW5hcnkgPSBudWxsO1xuXG5cdFx0XHRyZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpbWFnZWJpbmFyeSA9IHJlYWRlci5yZXN1bHQ7XG5cdFx0XHRcdHByZXZpZXcuc3JjID0gaW1hZ2ViaW5hcnk7XG5cblx0XHRcdH0sIGZhbHNlKTtcblxuXHRcdFx0aWYgKGZpbGUpIHtcblx0XHRcdFx0Ly9wcmV2aWV3IHRoZSBpbWFnZVxuXHRcdFx0XHRyZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcblxuXHRcdFx0XHQvL3NhdmUgdGhlIHZhbHVlIHRvIHRoZSB2YXJpYWJsZVxuXHRcdFx0XHR2bS5pbnB1dHNbJ1Bob3RvJ10gPSB7XG5cdFx0XHRcdFx0c3JjOiAnTWFya2V0X1JlY2llcHQuanBnJyxcblx0XHRcdFx0XHRiaW5hcnk6IGltYWdlYmluYXJ5XG5cdFx0XHRcdH07XHRcdFx0XHRcblx0XHRcdH1cblxuXHRcdH1cblxuXHRcdHZtLnJlZnJlc2hBcHByb3ZhbHMgPSBmdW5jdGlvbigpIHtcblx0XHRcdC8vbG9vcCB0aHJvdWdoIGFsbCBxdWVzdGlvbnNcblx0XHRcdE9iamVjdC5rZXlzKHZtLmRhdGEucXVlc3Rpb25zKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuXHRcdFx0XHR2YXIgcmVjb3JkTmFtZSA9IHZtLmRhdGEucXVlc3Rpb25zW2tleV0ubmFtZTtcblx0XHRcdFx0XG5cdFx0XHRcdC8vcmVzZXQgc3VnZ2VzdGlvbnNcblxuXHRcdFx0XHQvL3Jlc2V0IHZhbHVlc1xuXHRcdFx0XHR2bS5pbnB1dHNbcmVjb3JkTmFtZV0udmFsdWUgPSAnJztcblxuXHRcdFx0XHQvL3NldCB2YWx1ZXNcblx0XHRcdFx0dm0uZGF0YS5xdWVzdGlvbnNba2V5XS5hcHByb3ZhbHMuYWRkcmVzc2VkID0gZmFsc2U7XG5cdFx0XHRcdHZtLmRhdGEucXVlc3Rpb25zW2tleV0uYXBwcm92YWxzLnZhbHVlID0gbnVsbDtcblx0XHRcdFx0dm0uZGF0YS5xdWVzdGlvbnNba2V5XS5hcHByb3ZhbHMudGV4dCA9IFwiT0s/XCI7XG5cblx0XHRcdFx0Ly9zZXQgY2xhc3Nlc1xuXHRcdFx0XHR2bS5kYXRhLnF1ZXN0aW9uc1trZXldLmNsYXNzZXMuYXBwcm92YWxEaXZbJ3JvdW5kLWJ1dHRvbi1jaXJjbGUtZnJlZSddID0gdHJ1ZTtcblx0XHRcdFx0dm0uZGF0YS5xdWVzdGlvbnNba2V5XS5jbGFzc2VzLmFwcHJvdmFsRGl2Wydyb3VuZC1idXR0b24tY2lyY2xlLWFwcHJvdmVkJ10gPSBmYWxzZTtcblx0XHRcdFx0dm0uZGF0YS5xdWVzdGlvbnNba2V5XS5jbGFzc2VzLmFwcHJvdmFsRGl2Wydyb3VuZC1idXR0b24tY2lyY2xlLXJldmlzZWQnXSA9IGZhbHNlO1xuXHRcdFx0XHRcblx0XHRcdFx0dm0uZGF0YS5xdWVzdGlvbnNba2V5XS5jbGFzc2VzLmlucHV0RGl2WydoYXMtc3VjY2VzcyddID0gZmFsc2U7XG5cdFx0XHRcdHZtLmRhdGEucXVlc3Rpb25zW2tleV0uY2xhc3Nlcy5pbnB1dERpdlsnaGFzLXdhcm5pbmcnXSA9IGZhbHNlO1xuXHRcdFx0XHR2bS5kYXRhLnF1ZXN0aW9uc1trZXldLmNsYXNzZXMuaW5wdXREaXZbJ2hhcy1kYW5nZXInXSA9IGZhbHNlO1xuXHRcdFx0fSk7XG5cblx0XHRcdGNvdW50QXBwcm92ZWQoKTtcblx0XHR9XG5cblx0XHR2bS5jaGFuZ2VkID0gZnVuY3Rpb24oZmllbGROYW1lKSB7XG5cdFx0XHR2YXIgcmVjb3JkTnVtID0gZmllbGRzSGFzaFtmaWVsZE5hbWVdO1xuXHRcdFx0Ly9ub3RpZnkgdGhlIHJlY29yZCBiZWluZyBjaGFuZ2VkXG5cdFx0XHQvLyRsb2cuaW5mbyhmaWVsZE5hbWUpO1xuXG5cdFx0XHQvL3VwZGF0ZSB0aGUgYXBwcm92YWwgYnV0dG9uXG5cdFx0XHR2bS5kYXRhLnF1ZXN0aW9uc1tyZWNvcmROdW1dLmFwcHJvdmFscy5hZGRyZXNzZWQgPSB0cnVlO1xuXHRcdFx0dm0uZGF0YS5xdWVzdGlvbnNbcmVjb3JkTnVtXS5hcHByb3ZhbHMudmFsdWUgPSB0cnVlO1xuXHRcdFx0dm0uZGF0YS5xdWVzdGlvbnNbcmVjb3JkTnVtXS5hcHByb3ZhbHMudGV4dCA9IFwiTk8hXCI7XG5cblx0XHRcdC8vY2hhbmdlIHRoZSBjbGFzc1xuXHRcdFx0dm0uZGF0YS5xdWVzdGlvbnNbcmVjb3JkTnVtXS5jbGFzc2VzLmFwcHJvdmFsRGl2Wydyb3VuZC1idXR0b24tY2lyY2xlLWZyZWUnXSA9IGZhbHNlO1xuXHRcdFx0dm0uZGF0YS5xdWVzdGlvbnNbcmVjb3JkTnVtXS5jbGFzc2VzLmFwcHJvdmFsRGl2Wydyb3VuZC1idXR0b24tY2lyY2xlLXJldmlzZWQnXSA9IHRydWU7XG5cdFx0XHRcblx0XHRcdC8vY2hhbmdlIHRoZSBpbnB1dCBjbGFzc1xuXHRcdFx0dm0uZGF0YS5xdWVzdGlvbnNbcmVjb3JkTnVtXS5jbGFzc2VzLmlucHV0RGl2WydoYXMtZGFuZ2VyJ10gPSB0cnVlO1xuXG5cdFx0XHRjb3VudEFwcHJvdmVkKCk7XG5cdFx0fVxuXG5cdFx0dm0uYXBwcm92ZUZpZWxkID0gZnVuY3Rpb24oZmllbGROYW1lKSB7XG5cdFx0XHR2YXIgcmVjb3JkTnVtID0gZmllbGRzSGFzaFtmaWVsZE5hbWVdO1xuXHRcdFx0dmFyIGlzQXBwcm92ZWQgPSB2bS5kYXRhLnF1ZXN0aW9uc1tyZWNvcmROdW1dLmFwcHJvdmFscy5hZGRyZXNzZWQ7XG5cdFx0XHRcdFxuXHRcdFx0aWYoIWlzQXBwcm92ZWQpIHtcblxuXHRcdFx0XHQvL3VwZGF0ZSB0aGUgdmFsdWVzXG5cdFx0XHRcdHZtLmlucHV0c1tmaWVsZE5hbWVdLnZhbHVlID0gdm0uaW5wdXRzW2ZpZWxkTmFtZV0uc3VnZ2VzdGlvbjtcblxuXHRcdFx0XHQvL3VwZGF0ZSB0aGUgYnV0dG9uXG5cdFx0XHRcdHZtLmRhdGEucXVlc3Rpb25zW3JlY29yZE51bV0uYXBwcm92YWxzLmFkZHJlc3NlZCA9IHRydWU7XG5cdFx0XHRcdHZtLmRhdGEucXVlc3Rpb25zW3JlY29yZE51bV0uYXBwcm92YWxzLnZhbHVlID0gdHJ1ZTtcblx0XHRcdFx0dm0uZGF0YS5xdWVzdGlvbnNbcmVjb3JkTnVtXS5hcHByb3ZhbHMudGV4dCA9IFwiWUVTIVwiO1xuXHRcdFx0XHRcblx0XHRcdFx0Ly9jaGFuZ2UgdGhlIGNsYXNzXG5cdFx0XHRcdHZtLmRhdGEucXVlc3Rpb25zW3JlY29yZE51bV0uY2xhc3Nlcy5hcHByb3ZhbERpdlsncm91bmQtYnV0dG9uLWNpcmNsZS1mcmVlJ10gPSBmYWxzZTtcblx0XHRcdFx0dm0uZGF0YS5xdWVzdGlvbnNbcmVjb3JkTnVtXS5jbGFzc2VzLmFwcHJvdmFsRGl2Wydyb3VuZC1idXR0b24tY2lyY2xlLWFwcHJvdmVkJ10gPSB0cnVlO1xuXHRcdFx0XHRcblx0XHRcdFx0Ly9jaGFuZ2UgdGhlIGlucHV0IGNsYXNzXG5cdFx0XHRcdHZtLmRhdGEucXVlc3Rpb25zW3JlY29yZE51bV0uY2xhc3Nlcy5pbnB1dERpdlsnaGFzLXN1Y2Nlc3MnXSA9IHRydWU7XG5cblx0XHRcdFx0Y291bnRBcHByb3ZlZCgpO1xuXHRcdFx0XHRcblx0XHRcdH1cblxuXHRcdFx0Ly8kbG9nLmluZm8oZmllbGROYW1lKTtcblx0XHR9XG5cblx0XHQkc2NvcGUucGhvdG9BZGRlZCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHJlY29yZE51bSA9IGZpZWxkc0hhc2hbJ1Bob3RvJ107XG5cblx0XHRcdC8vZ2V0IHRoZSBwaG90b1xuXHRcdFx0Z2V0UGhvdG8oKTtcblxuXHRcdFx0Ly91cGRhdGUgdGhlIHZhbHVlc1xuXHRcdFx0JGxvZy5pbmZvKHZtLmlucHV0c1snUGhvdG8nXSk7XG5cblx0XHRcdC8vdXBkYXRlIHRoZSBidXR0b25cblx0XHRcdHZtLmRhdGEucXVlc3Rpb25zW3JlY29yZE51bV0uYXBwcm92YWxzLmFkZHJlc3NlZCA9IHRydWU7XG5cdFx0XHR2bS5kYXRhLnF1ZXN0aW9uc1tyZWNvcmROdW1dLmFwcHJvdmFscy52YWx1ZSA9IHRydWU7XG5cblx0XHRcdC8vY2hhbmdlIHRoZSBpbnB1dCBjbGFzc1xuXHRcdFx0dm0uZGF0YS5xdWVzdGlvbnNbcmVjb3JkTnVtXS5jbGFzc2VzLmlucHV0RGl2WydoYXMtc3VjY2VzcyddID0gdHJ1ZTtcblxuXHRcdFx0Y291bnRBcHByb3ZlZCgpO1xuXG5cdFx0XHQkc2NvcGUuJGFwcGx5KCk7XG5cdFx0fVxuXG5cdFx0dm0uc3VibWl0Rm9ybSA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRpZihjb3VudEFwcHJvdmVkKCkgPT0gdG90YWxGaWVsZHMpIHtcblx0XHRcdFx0dmFyIGRlbGl2ZXJ5T2JqZWN0ID0ge307XG5cblx0XHRcdFx0T2JqZWN0LmtleXModm0uaW5wdXRzKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuXHRcdFx0XHRcdGlmKGtleSAhPT0gJ1Bob3RvJykge1xuXHRcdFx0XHRcdFx0Ly9mb3Igbm90IHBob3RvcyBhZGQgdmFsdWVzXG5cdFx0XHRcdFx0XHRpZih0eXBlb2Ygdm0uaW5wdXRzW2tleV0udmFsdWUgPT0gJ251bWJlcicpXG5cdFx0XHRcdFx0XHRcdGRlbGl2ZXJ5T2JqZWN0W2tleV0gPSB2bS5pbnB1dHNba2V5XS52YWx1ZSAqIDEwMDtcblx0XHRcdFx0XHRcdGVsc2UgZGVsaXZlcnlPYmplY3Rba2V5XSA9IHZtLmlucHV0c1trZXldLnZhbHVlO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHQvL2lmIGl0IGlzIGEgcGhvdG8sIGNvcHkgZGlyZWN0bHlcblx0XHRcdFx0XHRcdGRlbGl2ZXJ5T2JqZWN0W2tleV0gPSB2bS5pbnB1dHNba2V5XTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdC8vc2VuZCB0aGUgdmFsdWVzXG5cdFx0XHRcdGJhY2tlbmRTcnZjLnN1Ym1pdEZvcm1EYXRhKGRlbGl2ZXJ5T2JqZWN0KVxuXHRcdFx0XHQudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuXHRcdFx0XHRcdC8vbm90aWZ5IHRoZSB1c2VyXG5cdFx0XHRcdFx0JGxvZy5pbmZvKCdzdWJtaXR0ZWQhJywgcmVzcG9uc2UpO1xuXG5cdFx0XHRcdFx0Ly9pZiBzdWNjZXNzZnVsLCByZWRpcmVjdFxuXHRcdFx0XHRcdCRsb2NhdGlvbi5wYXRoKCcvc3VjY2VzcycpO1xuXHRcdFx0XHRcdCRzY29wZS4kYXBwbHkoKTtcblxuXHRcdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuXHRcdFx0XHRcdCRsb2cuaW5mbygnRXJyb3I6JywgZXJyb3IpO1xuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0Ly9ub3RpZnkgdGhlIHVzZXJcblx0XHRcdFx0Y29uc29sZS5sb2coJ25lZWQgdG8gZmluaXNoIHRoZSBmaWVsZHMnKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvL2F1dG9tYXRpY2FsbHkgcnVuIHRoZSByZWZyZXNoXG5cdFx0dm0ucmVmcmVzaEFwcHJvdmFscygpO1xuXHR9XG5cblx0cmV0dXJuIGRpcmVjdGl2ZTtcbn1cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdtYXJrZXRSZWNlaXB0JylcbiAgICAuY29udHJvbGxlcignbGFuZGluZ0NvbnRyb2xsZXInLCBsYW5kaW5nQ29udHJvbGxlcik7XG5cbmxhbmRpbmdDb250cm9sbGVyLiRpbmplY3QgPSBbJyRsb2cnLCAnJGxvY2F0aW9uJ107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gbGFuZGluZ0NvbnRyb2xsZXIoJGxvZywgJGxvY2F0aW9uKSB7XG5cdHZhciB2bSA9IHRoaXM7XG5cblx0dm0ucmVkaXJlY3RUbyA9IGZ1bmN0aW9uKGZvcm1OYW1lKSB7XG5cdFx0JGxvZy5pbmZvKCdjbGlja2VkJywgZm9ybU5hbWUpO1xuXHRcdCRsb2NhdGlvbi5wYXRoKCcvJytmb3JtTmFtZSk7XG5cdH1cbn1cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdtYXJrZXRSZWNlaXB0JylcbiAgICAuZmFjdG9yeSgnYmFja2VuZFNydmMnLCBiYWNrZW5kU3J2Yyk7XG5cbmJhY2tlbmRTcnZjLiRpbmplY3QgPSBbJyRsb2cnLCAnJGh0dHAnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBiYWNrZW5kU3J2YygkbG9nLCAkaHR0cCkge1xuXHR2YXIgc2VydmljZSA9IHRoaXM7XG5cblx0dmFyIGJhY2tlbmRTcnZjID0ge1xuXHRcdF9nZXQ6X2dldCxcblx0XHRfcG9zdDpfcG9zdCxcblx0XHRfYnVpbGRQb3NzaWJsZU1hcmtldHM6X2J1aWxkUG9zc2libGVNYXJrZXRzLFxuXHRcdGdldEZvcm1EYXRhOmdldEZvcm1EYXRhLFxuXHRcdGdldFBvc3NpYmxlTWFya2V0czpnZXRQb3NzaWJsZU1hcmtldHMsXG5cdFx0bG9hZEFsbEZvcm1zOmxvYWRBbGxGb3Jtcyxcblx0XHRnZXRTdWdnZXN0aW9uRGF0YTpnZXRTdWdnZXN0aW9uRGF0YSxcblx0XHRzdWJtaXRGb3JtRGF0YTpzdWJtaXRGb3JtRGF0YVxuXHR9O1xuXG5cdGZ1bmN0aW9uIF9nZXQoZGlyLCBmaWxlbmFtZSkge1xuXHRcdHZhciB0aGlzUmVzcG9uc2UgPSBudWxsO1xuXG5cdFx0Y29uc29sZS5sb2coXCJkaXJcIiwgZGlyLCBcImZpbGVuYW1lXCIsIGZpbGVuYW1lKTtcblxuXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblxuXHRcdFx0JGh0dHAoe1xuXHRcdFx0XHRtZXRob2Q6ICdHRVQnLFxuXHRcdFx0XHR1cmw6IGRpciArIGZpbGVuYW1lXG5cdFx0XHR9KS50aGVuKGZ1bmN0aW9uIHN1Y2Nlc3NDYWxsYmFjayhyZXNwb25zZSkge1xuXHRcdFx0XHRcblx0XHRcdFx0cmVzb2x2ZShyZXNwb25zZS5kYXRhKTtcblx0XHRcdFx0XG5cdFx0XHR9LCBmdW5jdGlvbiBlcnJvckNhbGxiYWNrKHJlc3BvbnNlKSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKCdFcnJvcjonLHJlc3BvbnNlKTtcblx0XHRcdH0pO1xuXG5cdFx0fSk7XG5cblx0fVxuXG5cdGZ1bmN0aW9uIF9wb3N0KGRhdGEpIHtcblxuXHRcdCRsb2cuaW5mbygnZ290IHRoaXMgaW4gX3Bvc3QnLCBkYXRhKTtcblxuXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblxuXHRcdFx0dmFyIHJlc3VsdCA9ICRodHRwLnBvc3QoJ2Zvcm1zL21hcmtldFJlY2llcHQnLCBkYXRhKVxuXHRcdFx0LnRoZW4oZnVuY3Rpb24gc3VjY2Vzc0NhbGxiYWNrKHJlc3BvbnNlKSB7XG5cdFx0XHRcdHJlc29sdmUoJ3N1Y2Nlc3MnKTtcblx0XHRcdH0sIGZ1bmN0aW9uIGVycm9yQ2FsbGJhY2socmVzcG9uc2UpIHtcblx0XHRcdFx0cmVzb2x2ZSgnZXJyb3InKTtcblx0XHRcdH0pO1xuXG5cdFx0XHRjb25zb2xlLmxvZyhyZXN1bHQpO1xuXHRcdH0pO1xuXG5cdH1cblxuXHRmdW5jdGlvbiBfYnVpbGRQb3NzaWJsZU1hcmtldHMocmVzb3VyY2VzKSB7XG5cdFx0dmFyIHJldHVybk9iamVjdCA9IHt9O1xuXHRcdHZhciByZXBvcnRzRHVlID0gcmVzb3VyY2VzWzBdO1xuXHRcdHZhciByZXBvcnRzUGFzdER1ZSA9IHJlc291cmNlc1sxXTtcblx0XHR2YXIgYWxsTG9jYXRpb25zID0gcmVzb3VyY2VzWzJdO1xuXHRcdHZhciBhbGxFbXBsb3llZXMgPSByZXNvdXJjZXNbM107XG5cblx0XHQvL2J1aWxkIHRoZSByZXBvcnRzIGR1ZVxuXHRcdHJldHVybk9iamVjdFsncmVwb3J0c19kdWUnXSA9IFtdO1xuXHRcdE9iamVjdC5rZXlzKHJlcG9ydHNEdWUpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG5cblx0XHRcdHJldHVybk9iamVjdC5yZXBvcnRzX2R1ZS5wdXNoKHtcblx0XHRcdFx0bmFtZTogYWxsTG9jYXRpb25zW3JlcG9ydHNEdWVba2V5XS5tYXJrZXRdLm5hbWUsXG5cdFx0XHRcdGVtcGxveWVlOiAoYWxsRW1wbG95ZWVzW3JlcG9ydHNEdWVba2V5XS5zY2hlZHVsZWRdLmZpcnN0X25hbWUgKyAnICcgKyBhbGxFbXBsb3llZXNbcmVwb3J0c0R1ZVtrZXldLnNjaGVkdWxlZF0ubGFzdF9uYW1lKVxuXHRcdFx0fSk7XG5cblx0XHR9KTtcblxuXHRcdC8vYnVpbGQgdGhlIHJlcG9ydHMgcGFzdCBkdWVcblx0XHRyZXR1cm5PYmplY3RbJ3JlcG9ydHNfcGFzdF9kdWUnXSA9IFtdO1xuXHRcdE9iamVjdC5rZXlzKHJlcG9ydHNQYXN0RHVlKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuXG5cdFx0XHRyZXR1cm5PYmplY3QucmVwb3J0c19wYXN0X2R1ZS5wdXNoKHtcblx0XHRcdFx0bmFtZTogYWxsTG9jYXRpb25zW3JlcG9ydHNQYXN0RHVlW2tleV0ubWFya2V0XS5uYW1lLFxuXHRcdFx0XHRlbXBsb3llZTogKGFsbEVtcGxveWVlc1tyZXBvcnRzUGFzdER1ZVtrZXldLnNjaGVkdWxlZF0uZmlyc3RfbmFtZSArICcgJyArIGFsbEVtcGxveWVlc1tyZXBvcnRzUGFzdER1ZVtrZXldLnNjaGVkdWxlZF0ubGFzdF9uYW1lKSxcblx0XHRcdFx0ZHVlRGF0ZTogKGtleS5zbGljZSg0LDYpICsgJy8nICsga2V5LnNsaWNlKDYsOCkgKyAnLycgKyBrZXkuc2xpY2UoMiw0KSlcblx0XHRcdH0pO1xuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHJldHVybk9iamVjdFxuXHR9XG5cblx0ZnVuY3Rpb24gZ2V0Rm9ybURhdGEoZm9ybSkge1xuXHRcdHZhciBzZXJ2aWNlID0gdGhpcztcblxuXHRcdHNlcnZpY2UuYWxsRm9ybXMgPSB7XCJtYXJrZXRSZWNlaXB0XCI6J21hcmtldFJlY2VpcHQuanNvbid9O1xuXG5cdFx0dmFyIHVybCA9IHNlcnZpY2UuYWxsRm9ybXNbZm9ybV07XG5cdFx0XG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlaikge1xuXHRcdFx0Ly9jaGVjayBmb3IgZXhpc3RpbmcgdmFsdWVzXG5cdFx0XHRpZih0eXBlb2Ygc2VydmljZVtmb3JtXSAhPT0gJ3VuZGVmaW5lZCcpXG5cdFx0XHRcdHJlc29sdmUoc2VydmljZVtmb3JtXSk7XG5cdFx0XHRlbHNlIHsgXG5cdFx0XHRcdHNlcnZpY2UuX2dldCgnYXNzZXRzLycsIHVybCkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuXHRcdFx0XHRcdHNlcnZpY2VbZm9ybV0gPSByZXNwb25zZTtcblx0XHRcdFx0XHRyZXNvbHZlKHNlcnZpY2VbZm9ybV0pO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblxuXHRcdH0pO1xuXHRcblx0fVxuXG5cdGZ1bmN0aW9uIGdldFBvc3NpYmxlTWFya2V0cygpIHtcblx0XHR2YXIgc2VydmljZSA9IHRoaXM7XG5cblx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdFx0XHQvL2NvbGxlY3QgdGhlIHJlc291cmNlc1xuXHRcdFx0c2VydmljZS5fZ2V0KFwiL2RiL2Zvcm0vXCIsICdtYXJrZXRfcmVjZWlwdHMvZHVlJykudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuXHRcdFx0XHQvL2Zyb20gdGhlIHJlc3BvbnNlIGJ1aWxkIHRoZSByZXR1cm5hYmxlIG9iamVjdFxuXHRcdFx0XHR2YXIgcG9zc2libGVNYXJrZXRzTGlzdCA9IHNlcnZpY2UuX2J1aWxkUG9zc2libGVNYXJrZXRzKHJlc3BvbnNlKTtcblx0XHRcdFx0Ly9yZXR1cm4gdGhlIHBvc3NpYmxlTWFya2V0c0xpc3Rcblx0XHRcdFx0cmVzb2x2ZShwb3NzaWJsZU1hcmtldHNMaXN0KTtcblx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XG5cdFx0XHRcdHJlamVjdChlcnJvcik7XG5cdFx0XHR9KTtcblxuXHRcdH0pO1xuXG5cdH1cblxuXHRmdW5jdGlvbiBsb2FkQWxsRm9ybXMoKSB7XG5cdFx0dmFyIHNlcnZpY2UgPSB0aGlzO1xuXG5cdFx0c2VydmljZS5hbGxGb3JtcyA9IHtcIm1hcmtldFJlY2VpcHRcIjonbWFya2V0UmVjZWlwdC5qc29uJ307XG5cdFxuXHRcdGNvbnNvbGUubG9nKHNlcnZpY2UuYWxsRm9ybXMpO1xuXG5cdFx0Ly9ydW4gdGhyb3VnaCBlYWNoIGZvcm1cblx0XHRPYmplY3Qua2V5cyhzZXJ2aWNlLmFsbEZvcm1zKS5mb3JFYWNoKGZ1bmN0aW9uKGZvcm0pIHtcblx0XHRcdHZhciB1cmwgPSBzZXJ2aWNlLmFsbEZvcm1zW2Zvcm1dO1xuXG5cdFx0XHRzZXJ2aWNlLl9nZXQoJ2Fzc2V0cy8nLCB1cmwpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcblx0XHRcdFx0c2VydmljZVtmb3JtXSA9IHJlc3BvbnNlLmRhdGE7XG5cdFx0XHR9KTtcblxuXHRcdH0pO1xuXG5cdH1cblxuXHRmdW5jdGlvbiBnZXRTdWdnZXN0aW9uRGF0YShwYXJhbXMpIHtcblx0XHQvL1RPRE8gVEFLRSBUSElTIE9VVCBMQVRFUlxuXHRcdGNvbnNvbGUubG9nKFwiZ290IHRoZXNlXCIsIHBhcmFtcyk7XG5cdFx0Ly90ZW1wb3Jhcnkgc3VnZ2VzdGlvbnNcblx0XHRyZXR1cm4ge1xuXHRcdFx0J01hcmtldCc6J1N1cmYgQ2l0eScsXG5cdFx0XHQnTmFtZSc6J0FobWVkJyxcblx0XHRcdCdHcm9zcyc6NDE1LFxuXHRcdFx0J0ZlZSc6NDIsXG5cdFx0XHQnUGF5Jzo4Myxcblx0XHRcdCdSZWNpZXB0cyc6MTAsXG5cdFx0XHQnQmFuayc6NjAsXG5cdFx0XHQnRHVlJzoyMjBcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiBzdWJtaXRGb3JtRGF0YShkYXRhKSB7XG5cdFx0dmFyIHNlcnZpY2UgPSB0aGlzO1xuXG5cdFx0Ly9ub3RpZnkgdGhlIHVzZXJcblx0XHQkbG9nLmluZm8oJ2dvdCB0aGlzJywgZGF0YSk7XG5cblx0XHRcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cblx0XHRcdC8vc3VibWl0IGZvcm1cblx0XHRcdHNlcnZpY2UuX3Bvc3QoZGF0YSkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuXHRcdFx0XHQvL25vdGlmeSB0aGUgdXNlclxuXHRcdFx0XHQvL2NvbnNvbGUubG9nKCdyZXNwb25zZTonLCByZXNwb25zZSk7XG5cdFx0XHRcdC8vd2hlbiBzdWNjZXNzIGlzIGFjaGlldmVkIHJlZGlyZWN0XG5cdFx0XHRcdHJlc29sdmUocmVzcG9uc2UpO1xuXHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XG5cdFx0XHRcdC8vY29uc29sZS5sb2coJ0Vycm9yOicsIGVycik7XG5cdFx0XHRcdHJlamVjdChlcnIpO1xuXHRcdFx0fSk7XG5cblx0XHR9KTtcblxuXHR9XG5cblx0cmV0dXJuIGJhY2tlbmRTcnZjO1xufVxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ21hcmtldFJlY2VpcHQnKVxuICAgIC5jb250cm9sbGVyKCdtYXJrZXRSZWNlaXB0Q29udHJvbGxlcicsIG1hcmtldFJlY2VpcHRDb250cm9sbGVyKTtcblxubWFya2V0UmVjZWlwdENvbnRyb2xsZXIuJGluamVjdCA9IFsnJGxvZycsICdiYWNrZW5kU3J2YycsICdmb3JtRGF0YScsICdtYXJrZXRQb3NzaWJpbGl0aWVzJywgJ3N1Z2dlc3Rpb25zJywgJ3NlYXJjaFBhcmFtcyddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIG1hcmtldFJlY2VpcHRDb250cm9sbGVyKCRsb2csIGJhY2tlbmRTcnZjLCBmb3JtRGF0YSwgbWFya2V0UG9zc2liaWxpdGllcywgc3VnZ2VzdGlvbnMsIHNlYXJjaFBhcmFtcykge1xuXHR2YXIgdm0gPSB0aGlzO1xuXG5cdC8vbG9jYWwgdmFyaWFibGVzXG5cdHZtLmRhdGEgPSBmb3JtRGF0YTtcblx0dm0ucG9zc2libGVNYXJrZXRzID0gbWFya2V0UG9zc2liaWxpdGllcztcblx0dm0uc3VnZ2VzdGlvbnMgPSBzdWdnZXN0aW9ucztcblxuXHQkbG9nLmluZm8oJ3NlYXJjaFBhcmFtcycsIHNlYXJjaFBhcmFtcywgT2JqZWN0LmtleXMoc2VhcmNoUGFyYW1zKS5sZW5ndGgpO1xuXHQkbG9nLmluZm8oJ3N1Z2dlc3Rpb25zJywgc3VnZ2VzdGlvbnMpO1xuXG5cdC8vaWYgYSBtYXJrZXQgaGFzIGJlZW4gc2VsZWN0ZWQsIHNob3cgdGhlIHByZWZpbGxlZCBtYXJrZXRcblx0aWYoT2JqZWN0LmtleXMoc2VhcmNoUGFyYW1zKS5sZW5ndGggPT0gMCkgdm0uc2hvd0Zvcm0gPSBmYWxzZTtcblx0ZWxzZSB2bS5zaG93Rm9ybSA9IHRydWU7XG5cdFxuXHR2YXIgdGl0bGVDbGFzc2VzID0ge1xuXHRcdCdjb2wteHMtNSc6dHJ1ZSxcblx0XHQnY29sLXNtLTUnOnRydWUsXG5cdFx0J2NvbC1tZC01Jzp0cnVlLFxuXHRcdCdjb2wtbGctNSc6dHJ1ZVx0XHRcblx0fTtcblxuXHR2YXIgaW5wdXRDbGFzc2VzID0ge1xuXHRcdCdjb2wteHMtNyc6dHJ1ZSxcblx0XHQnY29sLXNtLTcnOnRydWUsXG5cdFx0J2NvbC1tZC03Jzp0cnVlLFxuXHRcdCdjb2wtbGctNyc6dHJ1ZVxuXHR9O1xuXG59XG5hbmd1bGFyXG5cdC5tb2R1bGUoJ21hcmtldFJlY2VpcHQnKVxuXHQuZGlyZWN0aXZlKCduYXZiYXInLCBuYXZiYXIpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIG5hdmJhcigpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICdhcHAvbmF2YmFyL25hdmJhci5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBuYXZiYXJDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgbmF2YmFyQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIFxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIG5hdmJhckNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG4gICAgXHQvL3ZhciB2bSA9IHRoaXM7XG5cdH1cblxuXHRyZXR1cm4gZGlyZWN0aXZlO1xufVxuYW5ndWxhclxuXHQubW9kdWxlKCdtYXJrZXRSZWNlaXB0Jylcblx0LmRpcmVjdGl2ZSgnc2VsZWN0UHJlZmlsbGVkRm9ybScsIHNlbGVjdFByZWZpbGxlZEZvcm0pO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHNlbGVjdFByZWZpbGxlZEZvcm0oKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAnYXBwL3NlbGVjdEZvcm0vc2VsZWN0Rm9ybS5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHRkYXRhOiAnPSdcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IHNlbGVjdFByZWZpbGxlZEZvcm1Db250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgc2VsZWN0UHJlZmlsbGVkRm9ybUNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnLCAnJGxvY2F0aW9uJ107XG4gICAgXG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gc2VsZWN0UHJlZmlsbGVkRm9ybUNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nLCAkbG9jYXRpb24pIHtcblx0XHR2YXIgdm0gPSB0aGlzO1xuXG5cdFx0ZnVuY3Rpb24gYnVpbGRwcmVmaWxsZWRNYXJrZXRGb3JtUGF0aChvcHRpb25WYWx1ZXMpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHBhdGg6Jy9tYXJrZXRSZWNlaXB0Jyxcblx0XHRcdFx0cGFyYW1zOiB7XG5cdFx0XHRcdFx0ZGF0ZTogJzIwMTYwNjI3Jyxcblx0XHRcdFx0XHRzdGFydDogJzE3MDAnLFxuXHRcdFx0XHRcdHppcDogJzAwMDAwJyxcblx0XHRcdFx0XHRsb2M6ICcwMSdcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHR2bS5zZWxlY3RPcHRpb24gPSBmdW5jdGlvbihzZWxlY3Rpb24pIHtcblx0XHRcdHZhciBvcHRpb25WYWx1ZXMgPSB2bS5kYXRhW3NlbGVjdGlvbl07XG5cdFx0XHRcblx0XHRcdHZhciBtYXJrZXRGb3JtID0gYnVpbGRwcmVmaWxsZWRNYXJrZXRGb3JtUGF0aChvcHRpb25WYWx1ZXMpO1xuXHRcdFx0XG5cdFx0XHRjb25zb2xlLmxvZyhtYXJrZXRGb3JtKTtcblxuXHRcdFx0Ly9zZW5kIHRoZSB1c2VyIHRvIHRoZSByZXF1ZXN0ZWQgZm9ybVxuXHRcdFx0JGxvY2F0aW9uLnBhdGgobWFya2V0Rm9ybS5wYXRoKS5zZWFyY2gobWFya2V0Rm9ybS5wYXJhbXMpO1xuXHRcdFxuXHRcdH1cblx0fVxuXG5cdHJldHVybiBkaXJlY3RpdmU7XG59XG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnbWFya2V0UmVjZWlwdCcpXG4gICAgLmNvbnRyb2xsZXIoJ3N1Y2Nlc3NDb250cm9sbGVyJywgc3VjY2Vzc0NvbnRyb2xsZXIpO1xuXG5zdWNjZXNzQ29udHJvbGxlci4kaW5qZWN0ID0gWyckbG9nJ107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gc3VjY2Vzc0NvbnRyb2xsZXIoJGxvZykge1xuXHQvL3ZhciB2bSA9IHRoaXM7XG5cdCRsb2cuaW5mbygnc3VjY2VzcyBjb250cm9sbGVyJyk7XG59IiwiYW5ndWxhclxuXHQubW9kdWxlKCdtYXJrZXRSZWNlaXB0Jylcblx0LmRpcmVjdGl2ZSgncmVjaWVwdEZvcm0nLCByZWNpZXB0Rm9ybSk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gcmVjaWVwdEZvcm0oKSB7XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ2FwcC9mb3JtL2Zvcm0uZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0ZGF0YTogJz0nLFxuXHRcdFx0c3VnZ2VzdGlvbnM6ICc9J1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogcmVjaWVwdEZvcm0sXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICByZWNpZXB0Rm9ybS4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZycsICckbG9jYXRpb24nLCAnYmFja2VuZFNydmMnXTtcbiAgICBcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiByZWNpZXB0Rm9ybSgkc2NvcGUsICRsb2csICRsb2NhdGlvbiwgYmFja2VuZFNydmMpIHtcblx0XHR2YXIgdm0gPSB0aGlzO1xuXG5cdFx0Ly9sb2NhbCB2YXJpYWJsZXNcblx0XHR2YXIgdG90YWxGaWVsZHMgPSAwO1xuXHRcdHZhciBmaWVsZHNIYXNoID0ge307XG5cblx0XHQvL3NldCB2aWV3IG1vZGVsIHZhbHVlc1xuXHRcdHZtLmN1cnJlbnREYXRlID0gbmV3IERhdGUoKTtcblxuXHRcdHZtWydpbnB1dHMnXSA9IHt9O1xuXHRcdHZtWydhcHByb3ZhbHMnXSA9IHt9O1xuXHRcdHZtWydzdWJtaXRCdG5DbGFzc2VzJ10gPSB7XG5cdFx0XHRcImJ0blwiOnRydWUsXG5cdFx0XHRcImJ0bi1kYW5nZXJcIjp0cnVlLFxuXHRcdFx0XCJidG4tc3VjY2Vzc1wiOmZhbHNlLFxuXHRcdFx0XCJjb2wteHMtMTJcIjp0cnVlLFxuXHRcdFx0XCJjb2wtc20tMTJcIjp0cnVlLFxuXHRcdFx0XCJjb2wtbWQtMTJcIjp0cnVlLFxuXHRcdFx0XCJjb2wtbGctMTJcIjp0cnVlXG5cdFx0fVxuXG5cdFx0Ly9jcmVhdGUgdGhlIG5lZWRlZCBvYmplY3RzXG5cdFx0T2JqZWN0LmtleXModm0uZGF0YS5xdWVzdGlvbnMpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG5cdFx0XHR2YXIgbmFtZSA9IHZtLmRhdGEucXVlc3Rpb25zW2tleV0ubmFtZTtcblxuXHRcdFx0Ly9idWlsZCBmaWVsZHMgaGFzaFxuXHRcdFx0ZmllbGRzSGFzaFtuYW1lXSA9IHRvdGFsRmllbGRzO1xuXG5cdFx0XHQvL2luY3JpbWVudCBmaWVsZHMgY291bnRcblx0XHRcdHRvdGFsRmllbGRzKys7XG5cblx0XHR9KTtcblxuXHRcdC8vZ2V0IHN1Z2dlc3RlZCB2YWx1ZXNcblx0XHR2bS5pbnB1dHMgPSB2bS5zdWdnZXN0aW9ucztcblxuXHRcdGZ1bmN0aW9uIHVubG9ja1N1Ym1pdEJ0bigpIHtcblx0XHRcdC8vXG5cdFx0XHQvLyRsb2cuaW5mbygnVW5sb2NraW5nIGJ0bicpO1xuXHRcdFx0dm0uc3VibWl0QnRuQ2xhc3Nlc1snYnRuLWRhbmdlciddID0gZmFsc2U7XG5cdFx0XHR2bS5zdWJtaXRCdG5DbGFzc2VzWydidG4tc3VjY2VzcyddID0gdHJ1ZTtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBsb2NrU3VibWl0QnRuKCkge1xuXHRcdFx0Ly9cblx0XHRcdC8vJGxvZy5pbmZvKCdMb2NraW5nIGJ0bicpO1xuXHRcdFx0dm0uc3VibWl0QnRuQ2xhc3Nlc1snYnRuLWRhbmdlciddID0gdHJ1ZTtcblx0XHRcdHZtLnN1Ym1pdEJ0bkNsYXNzZXNbJ2J0bi1zdWNjZXNzJ10gPSBmYWxzZTtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBjb3VudEFwcHJvdmVkKCkge1xuXHRcdFx0dmFyIG51bWJlck9mID0gMDtcblxuXHRcdFx0T2JqZWN0LmtleXModm0uZGF0YS5xdWVzdGlvbnMpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG5cdFx0XHRcdC8vZGVmaW5lIHZhcmlhYmxlXG5cdFx0XHRcdHZhciBpc0FwcHJvdmVkID0gdm0uZGF0YS5xdWVzdGlvbnNba2V5XS5hcHByb3ZhbHMuYWRkcmVzc2VkO1xuXHRcdFx0XHQvL2NoZWNrIHZhbHVlXG5cdFx0XHRcdGlmKGlzQXBwcm92ZWQpIG51bWJlck9mKys7XG5cdFx0XHR9KTtcblxuXHRcdFx0Ly8kbG9nLmluZm8obnVtYmVyT2YsIHRvdGFsRmllbGRzLCBudW1iZXJPZj09dG90YWxGaWVsZHMpO1xuXHRcdFx0aWYobnVtYmVyT2Y9PXRvdGFsRmllbGRzKSB1bmxvY2tTdWJtaXRCdG4oKTtcblx0XHRcdGVsc2UgbG9ja1N1Ym1pdEJ0bigpO1xuXG5cdFx0XHRyZXR1cm4gbnVtYmVyT2Y7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gZ2V0UGhvdG8oKSB7XG5cdFx0XHR2YXIgcHJldmlldyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZWNpZXB0SW1hZ2UnKVxuXHRcdFx0dmFyIGZpbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnUGhvdG8nKS5maWxlc1swXTtcblx0XHRcdHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuXHRcdFx0dmFyIGltYWdlYmluYXJ5ID0gbnVsbDtcblxuXHRcdFx0cmVhZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0aW1hZ2ViaW5hcnkgPSByZWFkZXIucmVzdWx0O1xuXHRcdFx0XHRwcmV2aWV3LnNyYyA9IGltYWdlYmluYXJ5O1xuXG5cdFx0XHR9LCBmYWxzZSk7XG5cblx0XHRcdGlmIChmaWxlKSB7XG5cdFx0XHRcdC8vcHJldmlldyB0aGUgaW1hZ2Vcblx0XHRcdFx0cmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XG5cblx0XHRcdFx0Ly9zYXZlIHRoZSB2YWx1ZSB0byB0aGUgdmFyaWFibGVcblx0XHRcdFx0dm0uaW5wdXRzWydQaG90byddID0ge1xuXHRcdFx0XHRcdHNyYzogJ01hcmtldF9SZWNpZXB0LmpwZycsXG5cdFx0XHRcdFx0YmluYXJ5OiBpbWFnZWJpbmFyeVxuXHRcdFx0XHR9O1x0XHRcdFx0XG5cdFx0XHR9XG5cblx0XHR9XG5cblx0XHR2bS5yZWZyZXNoQXBwcm92YWxzID0gZnVuY3Rpb24oKSB7XG5cdFx0XHQvL2xvb3AgdGhyb3VnaCBhbGwgcXVlc3Rpb25zXG5cdFx0XHRPYmplY3Qua2V5cyh2bS5kYXRhLnF1ZXN0aW9ucykuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcblx0XHRcdFx0dmFyIHJlY29yZE5hbWUgPSB2bS5kYXRhLnF1ZXN0aW9uc1trZXldLm5hbWU7XG5cdFx0XHRcdFxuXHRcdFx0XHQvL3Jlc2V0IHN1Z2dlc3Rpb25zXG5cblx0XHRcdFx0Ly9yZXNldCB2YWx1ZXNcblx0XHRcdFx0dm0uaW5wdXRzW3JlY29yZE5hbWVdLnZhbHVlID0gJyc7XG5cblx0XHRcdFx0Ly9zZXQgdmFsdWVzXG5cdFx0XHRcdHZtLmRhdGEucXVlc3Rpb25zW2tleV0uYXBwcm92YWxzLmFkZHJlc3NlZCA9IGZhbHNlO1xuXHRcdFx0XHR2bS5kYXRhLnF1ZXN0aW9uc1trZXldLmFwcHJvdmFscy52YWx1ZSA9IG51bGw7XG5cdFx0XHRcdHZtLmRhdGEucXVlc3Rpb25zW2tleV0uYXBwcm92YWxzLnRleHQgPSBcIk9LP1wiO1xuXG5cdFx0XHRcdC8vc2V0IGNsYXNzZXNcblx0XHRcdFx0dm0uZGF0YS5xdWVzdGlvbnNba2V5XS5jbGFzc2VzLmFwcHJvdmFsRGl2Wydyb3VuZC1idXR0b24tY2lyY2xlLWZyZWUnXSA9IHRydWU7XG5cdFx0XHRcdHZtLmRhdGEucXVlc3Rpb25zW2tleV0uY2xhc3Nlcy5hcHByb3ZhbERpdlsncm91bmQtYnV0dG9uLWNpcmNsZS1hcHByb3ZlZCddID0gZmFsc2U7XG5cdFx0XHRcdHZtLmRhdGEucXVlc3Rpb25zW2tleV0uY2xhc3Nlcy5hcHByb3ZhbERpdlsncm91bmQtYnV0dG9uLWNpcmNsZS1yZXZpc2VkJ10gPSBmYWxzZTtcblx0XHRcdFx0XG5cdFx0XHRcdHZtLmRhdGEucXVlc3Rpb25zW2tleV0uY2xhc3Nlcy5pbnB1dERpdlsnaGFzLXN1Y2Nlc3MnXSA9IGZhbHNlO1xuXHRcdFx0XHR2bS5kYXRhLnF1ZXN0aW9uc1trZXldLmNsYXNzZXMuaW5wdXREaXZbJ2hhcy13YXJuaW5nJ10gPSBmYWxzZTtcblx0XHRcdFx0dm0uZGF0YS5xdWVzdGlvbnNba2V5XS5jbGFzc2VzLmlucHV0RGl2WydoYXMtZGFuZ2VyJ10gPSBmYWxzZTtcblx0XHRcdH0pO1xuXG5cdFx0XHRjb3VudEFwcHJvdmVkKCk7XG5cdFx0fVxuXG5cdFx0dm0uY2hhbmdlZCA9IGZ1bmN0aW9uKGZpZWxkTmFtZSkge1xuXHRcdFx0dmFyIHJlY29yZE51bSA9IGZpZWxkc0hhc2hbZmllbGROYW1lXTtcblx0XHRcdC8vbm90aWZ5IHRoZSByZWNvcmQgYmVpbmcgY2hhbmdlZFxuXHRcdFx0Ly8kbG9nLmluZm8oZmllbGROYW1lKTtcblxuXHRcdFx0Ly91cGRhdGUgdGhlIGFwcHJvdmFsIGJ1dHRvblxuXHRcdFx0dm0uZGF0YS5xdWVzdGlvbnNbcmVjb3JkTnVtXS5hcHByb3ZhbHMuYWRkcmVzc2VkID0gdHJ1ZTtcblx0XHRcdHZtLmRhdGEucXVlc3Rpb25zW3JlY29yZE51bV0uYXBwcm92YWxzLnZhbHVlID0gdHJ1ZTtcblx0XHRcdHZtLmRhdGEucXVlc3Rpb25zW3JlY29yZE51bV0uYXBwcm92YWxzLnRleHQgPSBcIk5PIVwiO1xuXG5cdFx0XHQvL2NoYW5nZSB0aGUgY2xhc3Ncblx0XHRcdHZtLmRhdGEucXVlc3Rpb25zW3JlY29yZE51bV0uY2xhc3Nlcy5hcHByb3ZhbERpdlsncm91bmQtYnV0dG9uLWNpcmNsZS1mcmVlJ10gPSBmYWxzZTtcblx0XHRcdHZtLmRhdGEucXVlc3Rpb25zW3JlY29yZE51bV0uY2xhc3Nlcy5hcHByb3ZhbERpdlsncm91bmQtYnV0dG9uLWNpcmNsZS1yZXZpc2VkJ10gPSB0cnVlO1xuXHRcdFx0XG5cdFx0XHQvL2NoYW5nZSB0aGUgaW5wdXQgY2xhc3Ncblx0XHRcdHZtLmRhdGEucXVlc3Rpb25zW3JlY29yZE51bV0uY2xhc3Nlcy5pbnB1dERpdlsnaGFzLWRhbmdlciddID0gdHJ1ZTtcblxuXHRcdFx0Y291bnRBcHByb3ZlZCgpO1xuXHRcdH1cblxuXHRcdHZtLmFwcHJvdmVGaWVsZCA9IGZ1bmN0aW9uKGZpZWxkTmFtZSkge1xuXHRcdFx0dmFyIHJlY29yZE51bSA9IGZpZWxkc0hhc2hbZmllbGROYW1lXTtcblx0XHRcdHZhciBpc0FwcHJvdmVkID0gdm0uZGF0YS5xdWVzdGlvbnNbcmVjb3JkTnVtXS5hcHByb3ZhbHMuYWRkcmVzc2VkO1xuXHRcdFx0XHRcblx0XHRcdGlmKCFpc0FwcHJvdmVkKSB7XG5cblx0XHRcdFx0Ly91cGRhdGUgdGhlIHZhbHVlc1xuXHRcdFx0XHR2bS5pbnB1dHNbZmllbGROYW1lXS52YWx1ZSA9IHZtLmlucHV0c1tmaWVsZE5hbWVdLnN1Z2dlc3Rpb247XG5cblx0XHRcdFx0Ly91cGRhdGUgdGhlIGJ1dHRvblxuXHRcdFx0XHR2bS5kYXRhLnF1ZXN0aW9uc1tyZWNvcmROdW1dLmFwcHJvdmFscy5hZGRyZXNzZWQgPSB0cnVlO1xuXHRcdFx0XHR2bS5kYXRhLnF1ZXN0aW9uc1tyZWNvcmROdW1dLmFwcHJvdmFscy52YWx1ZSA9IHRydWU7XG5cdFx0XHRcdHZtLmRhdGEucXVlc3Rpb25zW3JlY29yZE51bV0uYXBwcm92YWxzLnRleHQgPSBcIllFUyFcIjtcblx0XHRcdFx0XG5cdFx0XHRcdC8vY2hhbmdlIHRoZSBjbGFzc1xuXHRcdFx0XHR2bS5kYXRhLnF1ZXN0aW9uc1tyZWNvcmROdW1dLmNsYXNzZXMuYXBwcm92YWxEaXZbJ3JvdW5kLWJ1dHRvbi1jaXJjbGUtZnJlZSddID0gZmFsc2U7XG5cdFx0XHRcdHZtLmRhdGEucXVlc3Rpb25zW3JlY29yZE51bV0uY2xhc3Nlcy5hcHByb3ZhbERpdlsncm91bmQtYnV0dG9uLWNpcmNsZS1hcHByb3ZlZCddID0gdHJ1ZTtcblx0XHRcdFx0XG5cdFx0XHRcdC8vY2hhbmdlIHRoZSBpbnB1dCBjbGFzc1xuXHRcdFx0XHR2bS5kYXRhLnF1ZXN0aW9uc1tyZWNvcmROdW1dLmNsYXNzZXMuaW5wdXREaXZbJ2hhcy1zdWNjZXNzJ10gPSB0cnVlO1xuXG5cdFx0XHRcdGNvdW50QXBwcm92ZWQoKTtcblx0XHRcdFx0XG5cdFx0XHR9XG5cblx0XHRcdC8vJGxvZy5pbmZvKGZpZWxkTmFtZSk7XG5cdFx0fVxuXG5cdFx0JHNjb3BlLnBob3RvQWRkZWQgPSBmdW5jdGlvbigpIHtcblx0XHRcdHZhciByZWNvcmROdW0gPSBmaWVsZHNIYXNoWydQaG90byddO1xuXG5cdFx0XHQvL2dldCB0aGUgcGhvdG9cblx0XHRcdGdldFBob3RvKCk7XG5cblx0XHRcdC8vdXBkYXRlIHRoZSB2YWx1ZXNcblx0XHRcdCRsb2cuaW5mbyh2bS5pbnB1dHNbJ1Bob3RvJ10pO1xuXG5cdFx0XHQvL3VwZGF0ZSB0aGUgYnV0dG9uXG5cdFx0XHR2bS5kYXRhLnF1ZXN0aW9uc1tyZWNvcmROdW1dLmFwcHJvdmFscy5hZGRyZXNzZWQgPSB0cnVlO1xuXHRcdFx0dm0uZGF0YS5xdWVzdGlvbnNbcmVjb3JkTnVtXS5hcHByb3ZhbHMudmFsdWUgPSB0cnVlO1xuXG5cdFx0XHQvL2NoYW5nZSB0aGUgaW5wdXQgY2xhc3Ncblx0XHRcdHZtLmRhdGEucXVlc3Rpb25zW3JlY29yZE51bV0uY2xhc3Nlcy5pbnB1dERpdlsnaGFzLXN1Y2Nlc3MnXSA9IHRydWU7XG5cblx0XHRcdGNvdW50QXBwcm92ZWQoKTtcblxuXHRcdFx0JHNjb3BlLiRhcHBseSgpO1xuXHRcdH1cblxuXHRcdHZtLnN1Ym1pdEZvcm0gPSBmdW5jdGlvbigpIHtcblxuXHRcdFx0aWYoY291bnRBcHByb3ZlZCgpID09IHRvdGFsRmllbGRzKSB7XG5cdFx0XHRcdHZhciBkZWxpdmVyeU9iamVjdCA9IHt9O1xuXG5cdFx0XHRcdE9iamVjdC5rZXlzKHZtLmlucHV0cykuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcblx0XHRcdFx0XHRpZihrZXkgIT09ICdQaG90bycpIHtcblx0XHRcdFx0XHRcdC8vZm9yIG5vdCBwaG90b3MgYWRkIHZhbHVlc1xuXHRcdFx0XHRcdFx0aWYodHlwZW9mIHZtLmlucHV0c1trZXldLnZhbHVlID09ICdudW1iZXInKVxuXHRcdFx0XHRcdFx0XHRkZWxpdmVyeU9iamVjdFtrZXldID0gdm0uaW5wdXRzW2tleV0udmFsdWUgKiAxMDA7XG5cdFx0XHRcdFx0XHRlbHNlIGRlbGl2ZXJ5T2JqZWN0W2tleV0gPSB2bS5pbnB1dHNba2V5XS52YWx1ZTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0Ly9pZiBpdCBpcyBhIHBob3RvLCBjb3B5IGRpcmVjdGx5XG5cdFx0XHRcdFx0XHRkZWxpdmVyeU9iamVjdFtrZXldID0gdm0uaW5wdXRzW2tleV07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHQvL3NlbmQgdGhlIHZhbHVlc1xuXHRcdFx0XHRiYWNrZW5kU3J2Yy5zdWJtaXRGb3JtRGF0YShkZWxpdmVyeU9iamVjdClcblx0XHRcdFx0LnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcblx0XHRcdFx0XHQvL25vdGlmeSB0aGUgdXNlclxuXHRcdFx0XHRcdCRsb2cuaW5mbygnc3VibWl0dGVkIScsIHJlc3BvbnNlKTtcblxuXHRcdFx0XHRcdC8vaWYgc3VjY2Vzc2Z1bCwgcmVkaXJlY3Rcblx0XHRcdFx0XHQkbG9jYXRpb24ucGF0aCgnL3N1Y2Nlc3MnKTtcblx0XHRcdFx0XHQkc2NvcGUuJGFwcGx5KCk7XG5cblx0XHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcblx0XHRcdFx0XHQkbG9nLmluZm8oJ0Vycm9yOicsIGVycm9yKTtcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdC8vbm90aWZ5IHRoZSB1c2VyXG5cdFx0XHRcdGNvbnNvbGUubG9nKCduZWVkIHRvIGZpbmlzaCB0aGUgZmllbGRzJyk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly9hdXRvbWF0aWNhbGx5IHJ1biB0aGUgcmVmcmVzaFxuXHRcdHZtLnJlZnJlc2hBcHByb3ZhbHMoKTtcblx0fVxuXG5cdHJldHVybiBkaXJlY3RpdmU7XG59IiwiYW5ndWxhclxuICAgIC5tb2R1bGUoJ21hcmtldFJlY2VpcHQnKVxuICAgIC5jb250cm9sbGVyKCdsYW5kaW5nQ29udHJvbGxlcicsIGxhbmRpbmdDb250cm9sbGVyKTtcblxubGFuZGluZ0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJGxvZycsICckbG9jYXRpb24nXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBsYW5kaW5nQ29udHJvbGxlcigkbG9nLCAkbG9jYXRpb24pIHtcblx0dmFyIHZtID0gdGhpcztcblxuXHR2bS5yZWRpcmVjdFRvID0gZnVuY3Rpb24oZm9ybU5hbWUpIHtcblx0XHQkbG9nLmluZm8oJ2NsaWNrZWQnLCBmb3JtTmFtZSk7XG5cdFx0JGxvY2F0aW9uLnBhdGgoJy8nK2Zvcm1OYW1lKTtcblx0fVxufSIsImFuZ3VsYXJcbiAgICAubW9kdWxlKCdtYXJrZXRSZWNlaXB0JylcbiAgICAuZmFjdG9yeSgnYmFja2VuZFNydmMnLCBiYWNrZW5kU3J2Yyk7XG5cbmJhY2tlbmRTcnZjLiRpbmplY3QgPSBbJyRsb2cnLCAnJGh0dHAnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBiYWNrZW5kU3J2YygkbG9nLCAkaHR0cCkge1xuXHR2YXIgc2VydmljZSA9IHRoaXM7XG5cblx0dmFyIGJhY2tlbmRTcnZjID0ge1xuXHRcdF9nZXQ6X2dldCxcblx0XHRfcG9zdDpfcG9zdCxcblx0XHRfYnVpbGRQb3NzaWJsZU1hcmtldHM6X2J1aWxkUG9zc2libGVNYXJrZXRzLFxuXHRcdGdldEZvcm1EYXRhOmdldEZvcm1EYXRhLFxuXHRcdGdldFBvc3NpYmxlTWFya2V0czpnZXRQb3NzaWJsZU1hcmtldHMsXG5cdFx0bG9hZEFsbEZvcm1zOmxvYWRBbGxGb3Jtcyxcblx0XHRnZXRTdWdnZXN0aW9uRGF0YTpnZXRTdWdnZXN0aW9uRGF0YSxcblx0XHRzdWJtaXRGb3JtRGF0YTpzdWJtaXRGb3JtRGF0YVxuXHR9O1xuXG5cdGZ1bmN0aW9uIF9nZXQoZGlyLCBmaWxlbmFtZSkge1xuXHRcdHZhciB0aGlzUmVzcG9uc2UgPSBudWxsO1xuXG5cdFx0Y29uc29sZS5sb2coXCJkaXJcIiwgZGlyLCBcImZpbGVuYW1lXCIsIGZpbGVuYW1lKTtcblxuXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblxuXHRcdFx0JGh0dHAoe1xuXHRcdFx0XHRtZXRob2Q6ICdHRVQnLFxuXHRcdFx0XHR1cmw6IGRpciArIGZpbGVuYW1lXG5cdFx0XHR9KS50aGVuKGZ1bmN0aW9uIHN1Y2Nlc3NDYWxsYmFjayhyZXNwb25zZSkge1xuXHRcdFx0XHRcblx0XHRcdFx0cmVzb2x2ZShyZXNwb25zZS5kYXRhKTtcblx0XHRcdFx0XG5cdFx0XHR9LCBmdW5jdGlvbiBlcnJvckNhbGxiYWNrKHJlc3BvbnNlKSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKCdFcnJvcjonLHJlc3BvbnNlKTtcblx0XHRcdH0pO1xuXG5cdFx0fSk7XG5cblx0fVxuXG5cdGZ1bmN0aW9uIF9wb3N0KGRhdGEpIHtcblxuXHRcdCRsb2cuaW5mbygnZ290IHRoaXMgaW4gX3Bvc3QnLCBkYXRhKTtcblxuXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblxuXHRcdFx0dmFyIHJlc3VsdCA9ICRodHRwLnBvc3QoJ2Zvcm1zL21hcmtldFJlY2llcHQnLCBkYXRhKVxuXHRcdFx0LnRoZW4oZnVuY3Rpb24gc3VjY2Vzc0NhbGxiYWNrKHJlc3BvbnNlKSB7XG5cdFx0XHRcdHJlc29sdmUoJ3N1Y2Nlc3MnKTtcblx0XHRcdH0sIGZ1bmN0aW9uIGVycm9yQ2FsbGJhY2socmVzcG9uc2UpIHtcblx0XHRcdFx0cmVzb2x2ZSgnZXJyb3InKTtcblx0XHRcdH0pO1xuXG5cdFx0XHRjb25zb2xlLmxvZyhyZXN1bHQpO1xuXHRcdH0pO1xuXG5cdH1cblxuXHRmdW5jdGlvbiBfYnVpbGRQb3NzaWJsZU1hcmtldHMocmVzb3VyY2VzKSB7XG5cdFx0dmFyIHJldHVybk9iamVjdCA9IHt9O1xuXHRcdHZhciByZXBvcnRzRHVlID0gcmVzb3VyY2VzWzBdO1xuXHRcdHZhciByZXBvcnRzUGFzdER1ZSA9IHJlc291cmNlc1sxXTtcblx0XHR2YXIgYWxsTG9jYXRpb25zID0gcmVzb3VyY2VzWzJdO1xuXHRcdHZhciBhbGxFbXBsb3llZXMgPSByZXNvdXJjZXNbM107XG5cblx0XHQvL2J1aWxkIHRoZSByZXBvcnRzIGR1ZVxuXHRcdHJldHVybk9iamVjdFsncmVwb3J0c19kdWUnXSA9IFtdO1xuXHRcdE9iamVjdC5rZXlzKHJlcG9ydHNEdWUpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG5cblx0XHRcdHJldHVybk9iamVjdC5yZXBvcnRzX2R1ZS5wdXNoKHtcblx0XHRcdFx0bmFtZTogYWxsTG9jYXRpb25zW3JlcG9ydHNEdWVba2V5XS5tYXJrZXRdLm5hbWUsXG5cdFx0XHRcdGVtcGxveWVlOiAoYWxsRW1wbG95ZWVzW3JlcG9ydHNEdWVba2V5XS5zY2hlZHVsZWRdLmZpcnN0X25hbWUgKyAnICcgKyBhbGxFbXBsb3llZXNbcmVwb3J0c0R1ZVtrZXldLnNjaGVkdWxlZF0ubGFzdF9uYW1lKVxuXHRcdFx0fSk7XG5cblx0XHR9KTtcblxuXHRcdC8vYnVpbGQgdGhlIHJlcG9ydHMgcGFzdCBkdWVcblx0XHRyZXR1cm5PYmplY3RbJ3JlcG9ydHNfcGFzdF9kdWUnXSA9IFtdO1xuXHRcdE9iamVjdC5rZXlzKHJlcG9ydHNQYXN0RHVlKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuXG5cdFx0XHRyZXR1cm5PYmplY3QucmVwb3J0c19wYXN0X2R1ZS5wdXNoKHtcblx0XHRcdFx0bmFtZTogYWxsTG9jYXRpb25zW3JlcG9ydHNQYXN0RHVlW2tleV0ubWFya2V0XS5uYW1lLFxuXHRcdFx0XHRlbXBsb3llZTogKGFsbEVtcGxveWVlc1tyZXBvcnRzUGFzdER1ZVtrZXldLnNjaGVkdWxlZF0uZmlyc3RfbmFtZSArICcgJyArIGFsbEVtcGxveWVlc1tyZXBvcnRzUGFzdER1ZVtrZXldLnNjaGVkdWxlZF0ubGFzdF9uYW1lKSxcblx0XHRcdFx0ZHVlRGF0ZTogKGtleS5zbGljZSg0LDYpICsgJy8nICsga2V5LnNsaWNlKDYsOCkgKyAnLycgKyBrZXkuc2xpY2UoMiw0KSlcblx0XHRcdH0pO1xuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHJldHVybk9iamVjdFxuXHR9XG5cblx0ZnVuY3Rpb24gZ2V0Rm9ybURhdGEoZm9ybSkge1xuXHRcdHZhciBzZXJ2aWNlID0gdGhpcztcblxuXHRcdHNlcnZpY2UuYWxsRm9ybXMgPSB7XCJtYXJrZXRSZWNlaXB0XCI6J21hcmtldFJlY2VpcHQuanNvbid9O1xuXG5cdFx0dmFyIHVybCA9IHNlcnZpY2UuYWxsRm9ybXNbZm9ybV07XG5cdFx0XG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlaikge1xuXHRcdFx0Ly9jaGVjayBmb3IgZXhpc3RpbmcgdmFsdWVzXG5cdFx0XHRpZih0eXBlb2Ygc2VydmljZVtmb3JtXSAhPT0gJ3VuZGVmaW5lZCcpXG5cdFx0XHRcdHJlc29sdmUoc2VydmljZVtmb3JtXSk7XG5cdFx0XHRlbHNlIHsgXG5cdFx0XHRcdHNlcnZpY2UuX2dldCgnYXNzZXRzLycsIHVybCkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuXHRcdFx0XHRcdHNlcnZpY2VbZm9ybV0gPSByZXNwb25zZTtcblx0XHRcdFx0XHRyZXNvbHZlKHNlcnZpY2VbZm9ybV0pO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblxuXHRcdH0pO1xuXHRcblx0fVxuXG5cdGZ1bmN0aW9uIGdldFBvc3NpYmxlTWFya2V0cygpIHtcblx0XHR2YXIgc2VydmljZSA9IHRoaXM7XG5cblx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdFx0XHQvL2NvbGxlY3QgdGhlIHJlc291cmNlc1xuXHRcdFx0c2VydmljZS5fZ2V0KFwiL2RiL2Zvcm0vXCIsICdtYXJrZXRfcmVjZWlwdHMvZHVlJykudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuXHRcdFx0XHQvL2Zyb20gdGhlIHJlc3BvbnNlIGJ1aWxkIHRoZSByZXR1cm5hYmxlIG9iamVjdFxuXHRcdFx0XHR2YXIgcG9zc2libGVNYXJrZXRzTGlzdCA9IHNlcnZpY2UuX2J1aWxkUG9zc2libGVNYXJrZXRzKHJlc3BvbnNlKTtcblx0XHRcdFx0Ly9yZXR1cm4gdGhlIHBvc3NpYmxlTWFya2V0c0xpc3Rcblx0XHRcdFx0cmVzb2x2ZShwb3NzaWJsZU1hcmtldHNMaXN0KTtcblx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XG5cdFx0XHRcdHJlamVjdChlcnJvcik7XG5cdFx0XHR9KTtcblxuXHRcdH0pO1xuXG5cdH1cblxuXHRmdW5jdGlvbiBsb2FkQWxsRm9ybXMoKSB7XG5cdFx0dmFyIHNlcnZpY2UgPSB0aGlzO1xuXG5cdFx0c2VydmljZS5hbGxGb3JtcyA9IHtcIm1hcmtldFJlY2VpcHRcIjonbWFya2V0UmVjZWlwdC5qc29uJ307XG5cdFxuXHRcdGNvbnNvbGUubG9nKHNlcnZpY2UuYWxsRm9ybXMpO1xuXG5cdFx0Ly9ydW4gdGhyb3VnaCBlYWNoIGZvcm1cblx0XHRPYmplY3Qua2V5cyhzZXJ2aWNlLmFsbEZvcm1zKS5mb3JFYWNoKGZ1bmN0aW9uKGZvcm0pIHtcblx0XHRcdHZhciB1cmwgPSBzZXJ2aWNlLmFsbEZvcm1zW2Zvcm1dO1xuXG5cdFx0XHRzZXJ2aWNlLl9nZXQoJ2Fzc2V0cy8nLCB1cmwpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcblx0XHRcdFx0c2VydmljZVtmb3JtXSA9IHJlc3BvbnNlLmRhdGE7XG5cdFx0XHR9KTtcblxuXHRcdH0pO1xuXG5cdH1cblxuXHRmdW5jdGlvbiBnZXRTdWdnZXN0aW9uRGF0YShwYXJhbXMpIHtcblx0XHQvL1RPRE8gVEFLRSBUSElTIE9VVCBMQVRFUlxuXHRcdGNvbnNvbGUubG9nKFwiZ290IHRoZXNlXCIsIHBhcmFtcyk7XG5cdFx0Ly90ZW1wb3Jhcnkgc3VnZ2VzdGlvbnNcblx0XHRyZXR1cm4ge1xuXHRcdFx0J01hcmtldCc6J1N1cmYgQ2l0eScsXG5cdFx0XHQnTmFtZSc6J0FobWVkJyxcblx0XHRcdCdHcm9zcyc6NDE1LFxuXHRcdFx0J0ZlZSc6NDIsXG5cdFx0XHQnUGF5Jzo4Myxcblx0XHRcdCdSZWNpZXB0cyc6MTAsXG5cdFx0XHQnQmFuayc6NjAsXG5cdFx0XHQnRHVlJzoyMjBcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiBzdWJtaXRGb3JtRGF0YShkYXRhKSB7XG5cdFx0dmFyIHNlcnZpY2UgPSB0aGlzO1xuXG5cdFx0Ly9ub3RpZnkgdGhlIHVzZXJcblx0XHQkbG9nLmluZm8oJ2dvdCB0aGlzJywgZGF0YSk7XG5cblx0XHRcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cblx0XHRcdC8vc3VibWl0IGZvcm1cblx0XHRcdHNlcnZpY2UuX3Bvc3QoZGF0YSkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuXHRcdFx0XHQvL25vdGlmeSB0aGUgdXNlclxuXHRcdFx0XHQvL2NvbnNvbGUubG9nKCdyZXNwb25zZTonLCByZXNwb25zZSk7XG5cdFx0XHRcdC8vd2hlbiBzdWNjZXNzIGlzIGFjaGlldmVkIHJlZGlyZWN0XG5cdFx0XHRcdHJlc29sdmUocmVzcG9uc2UpO1xuXHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XG5cdFx0XHRcdC8vY29uc29sZS5sb2coJ0Vycm9yOicsIGVycik7XG5cdFx0XHRcdHJlamVjdChlcnIpO1xuXHRcdFx0fSk7XG5cblx0XHR9KTtcblxuXHR9XG5cblx0cmV0dXJuIGJhY2tlbmRTcnZjO1xufSIsImFuZ3VsYXJcbiAgICAubW9kdWxlKCdtYXJrZXRSZWNlaXB0JylcbiAgICAuY29udHJvbGxlcignbWFya2V0UmVjZWlwdENvbnRyb2xsZXInLCBtYXJrZXRSZWNlaXB0Q29udHJvbGxlcik7XG5cbm1hcmtldFJlY2VpcHRDb250cm9sbGVyLiRpbmplY3QgPSBbJyRsb2cnLCAnYmFja2VuZFNydmMnLCAnZm9ybURhdGEnLCAnbWFya2V0UG9zc2liaWxpdGllcycsICdzdWdnZXN0aW9ucycsICdzZWFyY2hQYXJhbXMnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBtYXJrZXRSZWNlaXB0Q29udHJvbGxlcigkbG9nLCBiYWNrZW5kU3J2YywgZm9ybURhdGEsIG1hcmtldFBvc3NpYmlsaXRpZXMsIHN1Z2dlc3Rpb25zLCBzZWFyY2hQYXJhbXMpIHtcblx0dmFyIHZtID0gdGhpcztcblxuXHQvL2xvY2FsIHZhcmlhYmxlc1xuXHR2bS5kYXRhID0gZm9ybURhdGE7XG5cdHZtLnBvc3NpYmxlTWFya2V0cyA9IG1hcmtldFBvc3NpYmlsaXRpZXM7XG5cdHZtLnN1Z2dlc3Rpb25zID0gc3VnZ2VzdGlvbnM7XG5cblx0JGxvZy5pbmZvKCdzZWFyY2hQYXJhbXMnLCBzZWFyY2hQYXJhbXMsIE9iamVjdC5rZXlzKHNlYXJjaFBhcmFtcykubGVuZ3RoKTtcblx0JGxvZy5pbmZvKCdzdWdnZXN0aW9ucycsIHN1Z2dlc3Rpb25zKTtcblxuXHQvL2lmIGEgbWFya2V0IGhhcyBiZWVuIHNlbGVjdGVkLCBzaG93IHRoZSBwcmVmaWxsZWQgbWFya2V0XG5cdGlmKE9iamVjdC5rZXlzKHNlYXJjaFBhcmFtcykubGVuZ3RoID09IDApIHZtLnNob3dGb3JtID0gZmFsc2U7XG5cdGVsc2Ugdm0uc2hvd0Zvcm0gPSB0cnVlO1xuXHRcblx0dmFyIHRpdGxlQ2xhc3NlcyA9IHtcblx0XHQnY29sLXhzLTUnOnRydWUsXG5cdFx0J2NvbC1zbS01Jzp0cnVlLFxuXHRcdCdjb2wtbWQtNSc6dHJ1ZSxcblx0XHQnY29sLWxnLTUnOnRydWVcdFx0XG5cdH07XG5cblx0dmFyIGlucHV0Q2xhc3NlcyA9IHtcblx0XHQnY29sLXhzLTcnOnRydWUsXG5cdFx0J2NvbC1zbS03Jzp0cnVlLFxuXHRcdCdjb2wtbWQtNyc6dHJ1ZSxcblx0XHQnY29sLWxnLTcnOnRydWVcblx0fTtcblxufSIsImFuZ3VsYXJcblx0Lm1vZHVsZSgnbWFya2V0UmVjZWlwdCcpXG5cdC5kaXJlY3RpdmUoJ25hdmJhcicsIG5hdmJhcik7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gbmF2YmFyKCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICdhcHAvbmF2YmFyL25hdmJhci5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBuYXZiYXJDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgbmF2YmFyQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIFxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIG5hdmJhckNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG4gICAgXHQvL3ZhciB2bSA9IHRoaXM7XG5cdH1cblxuXHRyZXR1cm4gZGlyZWN0aXZlO1xufSIsImFuZ3VsYXJcblx0Lm1vZHVsZSgnbWFya2V0UmVjZWlwdCcpXG5cdC5kaXJlY3RpdmUoJ3NlbGVjdFByZWZpbGxlZEZvcm0nLCBzZWxlY3RQcmVmaWxsZWRGb3JtKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBzZWxlY3RQcmVmaWxsZWRGb3JtKCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICdhcHAvc2VsZWN0Rm9ybS9zZWxlY3RGb3JtLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdGRhdGE6ICc9J1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogc2VsZWN0UHJlZmlsbGVkRm9ybUNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBzZWxlY3RQcmVmaWxsZWRGb3JtQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZycsICckbG9jYXRpb24nXTtcbiAgICBcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBzZWxlY3RQcmVmaWxsZWRGb3JtQ29udHJvbGxlcigkc2NvcGUsICRsb2csICRsb2NhdGlvbikge1xuXHRcdHZhciB2bSA9IHRoaXM7XG5cblx0XHRmdW5jdGlvbiBidWlsZHByZWZpbGxlZE1hcmtldEZvcm1QYXRoKG9wdGlvblZhbHVlcykge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0cGF0aDonL21hcmtldFJlY2VpcHQnLFxuXHRcdFx0XHRwYXJhbXM6IHtcblx0XHRcdFx0XHRkYXRlOiAnMjAxNjA2MjcnLFxuXHRcdFx0XHRcdHN0YXJ0OiAnMTcwMCcsXG5cdFx0XHRcdFx0emlwOiAnMDAwMDAnLFxuXHRcdFx0XHRcdGxvYzogJzAxJ1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdHZtLnNlbGVjdE9wdGlvbiA9IGZ1bmN0aW9uKHNlbGVjdGlvbikge1xuXHRcdFx0dmFyIG9wdGlvblZhbHVlcyA9IHZtLmRhdGFbc2VsZWN0aW9uXTtcblx0XHRcdFxuXHRcdFx0dmFyIG1hcmtldEZvcm0gPSBidWlsZHByZWZpbGxlZE1hcmtldEZvcm1QYXRoKG9wdGlvblZhbHVlcyk7XG5cdFx0XHRcblx0XHRcdGNvbnNvbGUubG9nKG1hcmtldEZvcm0pO1xuXG5cdFx0XHQvL3NlbmQgdGhlIHVzZXIgdG8gdGhlIHJlcXVlc3RlZCBmb3JtXG5cdFx0XHQkbG9jYXRpb24ucGF0aChtYXJrZXRGb3JtLnBhdGgpLnNlYXJjaChtYXJrZXRGb3JtLnBhcmFtcyk7XG5cdFx0XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGRpcmVjdGl2ZTtcbn0iLCJhbmd1bGFyXG4gICAgLm1vZHVsZSgnbWFya2V0UmVjZWlwdCcpXG4gICAgLmNvbnRyb2xsZXIoJ3N1Y2Nlc3NDb250cm9sbGVyJywgc3VjY2Vzc0NvbnRyb2xsZXIpO1xuXG5zdWNjZXNzQ29udHJvbGxlci4kaW5qZWN0ID0gWyckbG9nJ107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gc3VjY2Vzc0NvbnRyb2xsZXIoJGxvZykge1xuXHQvL3ZhciB2bSA9IHRoaXM7XG5cdCRsb2cuaW5mbygnc3VjY2VzcyBjb250cm9sbGVyJyk7XG59IiwiYW5ndWxhclxuXHQubW9kdWxlKCdtYXJrZXRSZWNlaXB0JywgW1xuXHRcdCduZ1JvdXRlJ1xuXHRdKTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
