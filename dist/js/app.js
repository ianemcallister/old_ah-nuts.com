function config(e){e.when("/",{templateUrl:"app/landing/landing.htm",controller:"landingController",controllerAs:"vm",resolve:{loadData:loadData}}).when("/marketReceipt",{templateUrl:"app/marketReceipt/marketReceipt.htm",controller:"marketReceiptController",controllerAs:"vm",reloadOnSearch:!0,resolve:{formData:["backendSrvc",function(e){return e.getFormData("marketReceipt")}],marketPossibilities:["backendSrvc",function(e){return e.getPossibleMarkets()}],suggestions:["backendSrvc","$routeParams",function(e,t){return e.getSuggestionData(t)}],searchParams:["$routeParams",function(e){return e}]}}).when("/success",{templateUrl:"app/success/success.htm",controller:"successController",controllerAs:"vm"}).otherwise({redirectTo:"/"})}function loadData(e){e.loadAllForms()}function recieptForm(){function e(e,t,a,n){}function t(e,t,a,n){function s(){c.submitBtnClasses["btn-danger"]=!1,c.submitBtnClasses["btn-success"]=!0}function o(){c.submitBtnClasses["btn-danger"]=!0,c.submitBtnClasses["btn-success"]=!1}function r(){var e=0;return Object.keys(c.data.questions).forEach(function(t){var a=c.data.questions[t].approvals.addressed;a&&e++}),e==l?s():o(),e}function i(){var e=document.getElementById("recieptImage"),t=document.getElementById("Photo").files[0],a=new FileReader,n=null;a.addEventListener("load",function(){n=a.result,e.src=n},!1),t&&(a.readAsDataURL(t),c.inputs.Photo={src:"Market_Reciept.jpg",binary:n})}var c=this,l=0,u={};c.currentDate=new Date,c.inputs={},c.approvals={},c.submitBtnClasses={btn:!0,"btn-danger":!0,"btn-success":!1,"col-xs-12":!0,"col-sm-12":!0,"col-md-12":!0,"col-lg-12":!0},Object.keys(c.data.questions).forEach(function(e){var t=c.data.questions[e].name;u[t]=l,l++}),c.inputs=c.suggestions,c.refreshApprovals=function(){Object.keys(c.data.questions).forEach(function(e){var t=c.data.questions[e].name;c.inputs[t].value="",c.data.questions[e].approvals.addressed=!1,c.data.questions[e].approvals.value=null,c.data.questions[e].approvals.text="OK?",c.data.questions[e].classes.approvalDiv["round-button-circle-free"]=!0,c.data.questions[e].classes.approvalDiv["round-button-circle-approved"]=!1,c.data.questions[e].classes.approvalDiv["round-button-circle-revised"]=!1,c.data.questions[e].classes.inputDiv["has-success"]=!1,c.data.questions[e].classes.inputDiv["has-warning"]=!1,c.data.questions[e].classes.inputDiv["has-danger"]=!1}),r()},c.changed=function(e){var t=u[e];c.data.questions[t].approvals.addressed=!0,c.data.questions[t].approvals.value=!0,c.data.questions[t].approvals.text="NO!",c.data.questions[t].classes.approvalDiv["round-button-circle-free"]=!1,c.data.questions[t].classes.approvalDiv["round-button-circle-revised"]=!0,c.data.questions[t].classes.inputDiv["has-danger"]=!0,r()},c.approveField=function(e){var t=u[e],a=c.data.questions[t].approvals.addressed;a||(c.inputs[e].value=c.inputs[e].suggestion,c.data.questions[t].approvals.addressed=!0,c.data.questions[t].approvals.value=!0,c.data.questions[t].approvals.text="YES!",c.data.questions[t].classes.approvalDiv["round-button-circle-free"]=!1,c.data.questions[t].classes.approvalDiv["round-button-circle-approved"]=!0,c.data.questions[t].classes.inputDiv["has-success"]=!0,r())},e.photoAdded=function(){var a=u.Photo;i(),t.info(c.inputs.Photo),c.data.questions[a].approvals.addressed=!0,c.data.questions[a].approvals.value=!0,c.data.questions[a].classes.inputDiv["has-success"]=!0,r(),e.$apply()},c.submitForm=function(){if(r()==l){var s={};Object.keys(c.inputs).forEach(function(e){"Photo"!==e?"number"==typeof c.inputs[e].value?s[e]=100*c.inputs[e].value:s[e]=c.inputs[e].value:s[e]=c.inputs[e]}),n.submitFormData(s).then(function(n){t.info("submitted!",n),a.path("/success"),e.$apply()})["catch"](function(e){t.info("Error:",e)})}else console.log("need to finish the fields")},c.refreshApprovals()}e.$inject=["scope","el","attr","ctrl"];var a={restrict:"AECM",templateUrl:"app/form/form.directive.htm",replace:!0,scope:{data:"=",suggestions:"="},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log","$location","backendSrvc"],a}function landingController(e,t){var a=this;a.redirectTo=function(a){e.info("clicked",a),t.path("/"+a)}}function marketReceiptController(e,t,a,n,s,o){var r=this;r.data=a,r.possibleMarkets=n,r.suggestions=s,e.info("searchParams",o,Object.keys(o).length),e.info("suggestions",s),0==Object.keys(o).length?r.showForm=!1:r.showForm=!0}function navbar(){function e(e,t,a,n){}function t(e,t){}e.$inject=["scope","el","attr","ctrl"];var a={restrict:"AECM",templateUrl:"app/navbar/navbar.directive.htm",replace:!0,scope:{},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],a}function selectPrefilledForm(){function e(e,t,a,n){}function t(e,t,a){function n(e){return{path:"/marketReceipt",params:{date:"20160627",start:"1700",zip:"00000",loc:"01"}}}var s=this;s.selectOption=function(e){var t=s.data[e],o=n(t);console.log(o),a.path(o.path).search(o.params)}}e.$inject=["scope","el","attr","ctrl"];var a={restrict:"AECM",templateUrl:"app/selectForm/selectForm.directive.htm",replace:!0,scope:{data:"="},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log","$location"],a}function successController(e){e.info("success controller")}function backendSrvc(e,t){function a(e,a){return new Promise(function(n,s){t({method:"GET",url:e+a}).then(function(e){n(e.data)},function(e){console.log("Error:",e)})})}function n(a){return e.info("got this in _post",a),new Promise(function(e,n){var s=t.post("forms/marketReciept",a).then(function(t){e("success")},function(t){e("error")});console.log(s)})}function s(e){var t={},a=e[0],n=e[1],s=e[2],o=e[3];return t.reports_due=[],Object.keys(a).forEach(function(e){t.reports_due.push({name:s[a[e].market].name,employee:o[a[e].scheduled].first_name+" "+o[a[e].scheduled].last_name})}),t.reports_past_due=[],Object.keys(n).forEach(function(e){t.reports_past_due.push({name:s[n[e].market].name,employee:o[n[e].scheduled].first_name+" "+o[n[e].scheduled].last_name,dueDate:e.slice(4,6)+"/"+e.slice(6,8)+"/"+e.slice(2,4)})}),t}function o(e){var t=this;t.allForms={marketReceipt:"marketReceipt.json"};var a=t.allForms[e];return new Promise(function(n,s){"undefined"!=typeof t[e]?n(t[e]):t._get("assets/",a).then(function(a){t[e]=a,n(t[e])})})}function r(){var e=this;return new Promise(function(t,a){e._get("/db/form/","market_receipts/due").then(function(a){var n=e._buildPossibleMarkets(a);t(n)})["catch"](function(e){a(e)})})}function i(){var e=this;e.allForms={marketReceipt:"marketReceipt.json"},console.log(e.allForms),Object.keys(e.allForms).forEach(function(t){var a=e.allForms[t];e._get("assets/",a).then(function(a){e[t]=a.data})})}function c(e){return console.log("got these",e),{Market:"Surf City",Name:"Ahmed",Gross:415,Fee:42,Pay:83,Reciepts:10,Bank:60,Due:220}}function l(t){var a=this;return e.info("got this",t),new Promise(function(e,n){a._post(t).then(function(t){e(t)})["catch"](function(e){n(e)})})}var u={_get:a,_post:n,_buildPossibleMarkets:s,getFormData:o,getPossibleMarkets:r,loadAllForms:i,getSuggestionData:c,submitFormData:l};return u}config.$inject=["$routeProvider"],loadData.$inject=["backendSrvc"],angular.module("marketReceipt",["ngRoute"]),angular.module("marketReceipt").config(config),angular.module("marketReceipt").directive("recieptForm",recieptForm),angular.module("marketReceipt").controller("landingController",landingController),landingController.$inject=["$log","$location"],angular.module("marketReceipt").controller("marketReceiptController",marketReceiptController),marketReceiptController.$inject=["$log","backendSrvc","formData","marketPossibilities","suggestions","searchParams"],angular.module("marketReceipt").directive("navbar",navbar),angular.module("marketReceipt").directive("selectPrefilledForm",selectPrefilledForm),angular.module("marketReceipt").controller("successController",successController),successController.$inject=["$log"],angular.module("marketReceipt").factory("backendSrvc",backendSrvc),backendSrvc.$inject=["$log","$http"];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9yb3V0ZS1jb25maWcuanMiLCJhcHAuanMiLCJhcHAvZm9ybS9mb3JtLmRpcmVjdGl2ZS5qcyIsImFwcC9sYW5kaW5nL2xhbmRpbmcuY29udHJvbGxlci5qcyIsImFwcC9tYXJrZXRSZWNlaXB0L21hcmtldFJlY2VpcHQuY29udHJvbGxlci5qcyIsImFwcC9uYXZiYXIvbmF2YmFyLmRpcmVjdGl2ZS5qcyIsImFwcC9zZWxlY3RGb3JtL3NlbGVjdEZvcm0uZGlyZWN0aXZlLmpzIiwiYXBwL3N1Y2Nlc3Mvc3VjY2Vzcy5jb250cm9sbGVyLmpzIiwiYXBwL2JhY2tlbmRTcnZjL2JhY2tlbmRTcnZjLmpzIiwiYXBwLm1vZHVsZS5qcyJdLCJuYW1lcyI6WyJjb25maWciLCIkcm91dGVQcm92aWRlciIsIndoZW4iLCJ0ZW1wbGF0ZVVybCIsImNvbnRyb2xsZXIiLCJjb250cm9sbGVyQXMiLCJyZXNvbHZlIiwibG9hZERhdGEiLCJyZWxvYWRPblNlYXJjaCIsImZvcm1EYXRhIiwiYmFja2VuZFNydmMiLCJnZXRGb3JtRGF0YSIsIm1hcmtldFBvc3NpYmlsaXRpZXMiLCJnZXRQb3NzaWJsZU1hcmtldHMiLCJzdWdnZXN0aW9ucyIsIiRyb3V0ZVBhcmFtcyIsImdldFN1Z2dlc3Rpb25EYXRhIiwic2VhcmNoUGFyYW1zIiwib3RoZXJ3aXNlIiwicmVkaXJlY3RUbyIsImxvYWRBbGxGb3JtcyIsInJlY2llcHRGb3JtIiwibGlua0Z1bmMiLCJzY29wZSIsImVsIiwiYXR0ciIsImN0cmwiLCIkc2NvcGUiLCIkbG9nIiwiJGxvY2F0aW9uIiwidW5sb2NrU3VibWl0QnRuIiwidm0iLCJzdWJtaXRCdG5DbGFzc2VzIiwibG9ja1N1Ym1pdEJ0biIsImNvdW50QXBwcm92ZWQiLCJudW1iZXJPZiIsIk9iamVjdCIsImtleXMiLCJkYXRhIiwicXVlc3Rpb25zIiwiZm9yRWFjaCIsImtleSIsImlzQXBwcm92ZWQiLCJhcHByb3ZhbHMiLCJhZGRyZXNzZWQiLCJ0b3RhbEZpZWxkcyIsImdldFBob3RvIiwicHJldmlldyIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJmaWxlIiwiZmlsZXMiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwiaW1hZ2ViaW5hcnkiLCJhZGRFdmVudExpc3RlbmVyIiwicmVzdWx0Iiwic3JjIiwicmVhZEFzRGF0YVVSTCIsImlucHV0cyIsImJpbmFyeSIsInRoaXMiLCJmaWVsZHNIYXNoIiwiY3VycmVudERhdGUiLCJEYXRlIiwiYnRuIiwiYnRuLWRhbmdlciIsImJ0bi1zdWNjZXNzIiwiY29sLXhzLTEyIiwiY29sLXNtLTEyIiwiY29sLW1kLTEyIiwiY29sLWxnLTEyIiwibmFtZSIsInJlZnJlc2hBcHByb3ZhbHMiLCJyZWNvcmROYW1lIiwidmFsdWUiLCJ0ZXh0IiwiY2xhc3NlcyIsImFwcHJvdmFsRGl2IiwiaW5wdXREaXYiLCJjaGFuZ2VkIiwiZmllbGROYW1lIiwicmVjb3JkTnVtIiwiYXBwcm92ZUZpZWxkIiwic3VnZ2VzdGlvbiIsInBob3RvQWRkZWQiLCJpbmZvIiwiJGFwcGx5Iiwic3VibWl0Rm9ybSIsImRlbGl2ZXJ5T2JqZWN0Iiwic3VibWl0Rm9ybURhdGEiLCJ0aGVuIiwicmVzcG9uc2UiLCJwYXRoIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwiJGluamVjdCIsImRpcmVjdGl2ZSIsInJlc3RyaWN0IiwicmVwbGFjZSIsImxpbmsiLCJiaW5kVG9Db250cm9sbGVyIiwibGFuZGluZ0NvbnRyb2xsZXIiLCJmb3JtTmFtZSIsIm1hcmtldFJlY2VpcHRDb250cm9sbGVyIiwicG9zc2libGVNYXJrZXRzIiwibGVuZ3RoIiwic2hvd0Zvcm0iLCJuYXZiYXIiLCJuYXZiYXJDb250cm9sbGVyIiwic2VsZWN0UHJlZmlsbGVkRm9ybSIsInNlbGVjdFByZWZpbGxlZEZvcm1Db250cm9sbGVyIiwiYnVpbGRwcmVmaWxsZWRNYXJrZXRGb3JtUGF0aCIsIm9wdGlvblZhbHVlcyIsInBhcmFtcyIsImRhdGUiLCJzdGFydCIsInppcCIsImxvYyIsInNlbGVjdE9wdGlvbiIsInNlbGVjdGlvbiIsIm1hcmtldEZvcm0iLCJzZWFyY2giLCJzdWNjZXNzQ29udHJvbGxlciIsIiRodHRwIiwiX2dldCIsImRpciIsImZpbGVuYW1lIiwiUHJvbWlzZSIsInJlamVjdCIsIm1ldGhvZCIsInVybCIsIl9wb3N0IiwicG9zdCIsIl9idWlsZFBvc3NpYmxlTWFya2V0cyIsInJlc291cmNlcyIsInJldHVybk9iamVjdCIsInJlcG9ydHNEdWUiLCJyZXBvcnRzUGFzdER1ZSIsImFsbExvY2F0aW9ucyIsImFsbEVtcGxveWVlcyIsInJlcG9ydHNfZHVlIiwicHVzaCIsIm1hcmtldCIsImVtcGxveWVlIiwic2NoZWR1bGVkIiwiZmlyc3RfbmFtZSIsImxhc3RfbmFtZSIsInJlcG9ydHNfcGFzdF9kdWUiLCJkdWVEYXRlIiwic2xpY2UiLCJmb3JtIiwic2VydmljZSIsImFsbEZvcm1zIiwibWFya2V0UmVjZWlwdCIsInJlaiIsInBvc3NpYmxlTWFya2V0c0xpc3QiLCJNYXJrZXQiLCJOYW1lIiwiR3Jvc3MiLCJGZWUiLCJQYXkiLCJSZWNpZXB0cyIsIkJhbmsiLCJEdWUiLCJlcnIiLCJhbmd1bGFyIiwibW9kdWxlIiwiZmFjdG9yeSJdLCJtYXBwaW5ncyI6IkFBSUEsUUFBQUEsUUFBQUMsR0FDQUEsRUFDQUMsS0FBQSxLQUNBQyxZQUFBLDBCQUNBQyxXQUFBLG9CQUNBQyxhQUFBLEtBQ0FDLFNBQ0FDLFNBQUFBLFlBR0FMLEtBQUEsa0JBQ0FDLFlBQUEsc0NBQ0FDLFdBQUEsMEJBQ0FDLGFBQUEsS0FDQUcsZ0JBQUEsRUFDQUYsU0FDQUcsVUFBQSxjQUFBLFNBQUFDLEdBRUEsTUFBQUEsR0FBQUMsWUFBQSxtQkFFQUMscUJBQUEsY0FBQSxTQUFBRixHQUVBLE1BQUFBLEdBQUFHLHVCQUVBQyxhQUFBLGNBQUEsZUFBQSxTQUFBSixFQUFBSyxHQUNBLE1BQUFMLEdBQUFNLGtCQUFBRCxLQUVBRSxjQUFBLGVBQUEsU0FBQUYsR0FBQSxNQUFBQSxRQUdBYixLQUFBLFlBQ0FDLFlB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R0F1QixFQUFBcEIsTUFBQS9GLEdBQUFxRCxLQUFBLFNBQUFDLEdBSUF0RixFQUFBc0YsS0FKQTZELFNBS0EsU0FBQWEsR0FFQXBDLEVBQUFvQyxPQS9LQSxHQUVBNUosSUFDQW9ILEtBQUFBLEVBQ0FPLE1BQUFBLEVBQ0FFLHNCQUFBQSxFQUNBNUgsWUFBQUEsRUFDQUUsbUJBQUFBLEVBQ0FPLGFBQUFBLEVBQ0FKLGtCQUFBQSxFQUNBMEUsZUFBQUEsRUE0S0EsT0FBQWhGLEdQN0xBVixPQUFPaUcsU0FBVyxrQkFDbEIxRixTQUFTMEYsU0FBVyxlUUZwQnNFLFFBQ0FDLE9BQUEsaUJBQ0EsWVRGQUQsUUFDQUMsT0FBQSxpQkFDQXhLLE9BQUFBLFFFRkF1SyxRQUNBQyxPQUFBLGlCQUNBdEUsVUFBQSxjQUFBN0UsYUNGQWtKLFFBQ0FDLE9BQUEsaUJBQ0FwSyxXQUFBLG9CQUFBbUcsbUJBRUFBLGtCQUFBTixTQUFBLE9BQUEsYUNKQXNFLFFBQ0FDLE9BQUEsaUJBQ0FwSyxXQUFBLDBCQUFBcUcseUJBRUFBLHdCQUFBUixTQUFBLE9BQUEsY0FBQSxXQUFBLHNCQUFBLGNBQUEsZ0JDSkFzRSxRQUNBQyxPQUFBLGlCQUNBdEUsVUFBQSxTQUFBVyxRQ0ZBMEQsUUFDQUMsT0FBQSxpQkFDQXRFLFVBQUEsc0JBQUFhLHFCQ0ZBd0QsUUFDQUMsT0FBQSxpQkFDQXBLLFdBQUEsb0JBQUF3SCxtQkFFQUEsa0JBQUEzQixTQUFBLFFDSkFzRSxRQUNBQyxPQUFBLGlCQUNBQyxRQUFBLGNBQUEvSixhQUVBQSxZQUFBdUYsU0FBQSxPQUFBIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbImFuZ3VsYXJcblx0Lm1vZHVsZSgnbWFya2V0UmVjZWlwdCcpXG5cdC5jb25maWcoY29uZmlnKTtcbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gY29uZmlnKCRyb3V0ZVByb3ZpZGVyKSB7XG5cdCRyb3V0ZVByb3ZpZGVyXG4gICAgLndoZW4oJy8nLCB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAnYXBwL2xhbmRpbmcvbGFuZGluZy5odG0nLFxuICAgICAgICBjb250cm9sbGVyOiAnbGFuZGluZ0NvbnRyb2xsZXInLFxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXG4gICAgICAgIHJlc29sdmU6IHtcdC8qIEBuZ0luamVjdCAqL1xuICAgICAgICAgICAgbG9hZERhdGE6bG9hZERhdGFcbiAgICAgICAgfVxuICAgIH0pXG4gICAgLndoZW4oJy9tYXJrZXRSZWNlaXB0Jywge1xuICAgICAgICB0ZW1wbGF0ZVVybDogJ2FwcC9tYXJrZXRSZWNlaXB0L21hcmtldFJlY2VpcHQuaHRtJyxcbiAgICAgICAgY29udHJvbGxlcjogJ21hcmtldFJlY2VpcHRDb250cm9sbGVyJyxcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxuICAgICAgICByZWxvYWRPblNlYXJjaDogdHJ1ZSxcbiAgICAgICAgcmVzb2x2ZTogeyAvKiBAbmdJbmplY3QgKi9cbiAgICAgICAgICAgIGZvcm1EYXRhOiBmdW5jdGlvbihiYWNrZW5kU3J2Yykge1xuICAgICAgICAgICAgICAgIC8vcmV0dXJuIHsncmVzb2x2ZVRlc3QnOidnb29kIHRlc3QnfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYmFja2VuZFNydmMuZ2V0Rm9ybURhdGEoJ21hcmtldFJlY2VpcHQnKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtYXJrZXRQb3NzaWJpbGl0aWVzOiBmdW5jdGlvbihiYWNrZW5kU3J2Yy8qLCAkcm91dGVQYXJhbXMqLykge1xuICAgICAgICAgICAgICAgIC8vcmV0dXJuIHsxOidTb21ldGhpbmcnLCAyOidzb21ldGhpbmcgZWxzZSd9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJhY2tlbmRTcnZjLmdldFBvc3NpYmxlTWFya2V0cygpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN1Z2dlc3Rpb25zOiBmdW5jdGlvbihiYWNrZW5kU3J2YywgJHJvdXRlUGFyYW1zKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJhY2tlbmRTcnZjLmdldFN1Z2dlc3Rpb25EYXRhKCRyb3V0ZVBhcmFtcyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2VhcmNoUGFyYW1zOiBmdW5jdGlvbigkcm91dGVQYXJhbXMpIHsgcmV0dXJuICRyb3V0ZVBhcmFtczsgfVxuICAgICAgICB9XG4gICAgfSlcbiAgICAud2hlbignL3N1Y2Nlc3MnLCB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAnYXBwL3N1Y2Nlc3Mvc3VjY2Vzcy5odG0nLFxuICAgICAgICBjb250cm9sbGVyOiAnc3VjY2Vzc0NvbnRyb2xsZXInLFxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bSdcbiAgICB9KVxuICAgIC5vdGhlcndpc2Uoe1xuICAgICAgICByZWRpcmVjdFRvOiAnLydcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gbG9hZERhdGEoYmFja2VuZFNydmMpIHtcblx0YmFja2VuZFNydmMubG9hZEFsbEZvcm1zKCk7XG59IiwiXG5jb25maWcuJGluamVjdCA9IFtcIiRyb3V0ZVByb3ZpZGVyXCJdO1xubG9hZERhdGEuJGluamVjdCA9IFtcImJhY2tlbmRTcnZjXCJdO2FuZ3VsYXJcblx0Lm1vZHVsZSgnbWFya2V0UmVjZWlwdCcsIFtcblx0XHQnbmdSb3V0ZSdcblx0XSk7XG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnbWFya2V0UmVjZWlwdCcpXG5cdC5jb25maWcoY29uZmlnKTtcbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gY29uZmlnKCRyb3V0ZVByb3ZpZGVyKSB7XG5cdCRyb3V0ZVByb3ZpZGVyXG4gICAgLndoZW4oJy8nLCB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAnYXBwL2xhbmRpbmcvbGFuZGluZy5odG0nLFxuICAgICAgICBjb250cm9sbGVyOiAnbGFuZGluZ0NvbnRyb2xsZXInLFxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXG4gICAgICAgIHJlc29sdmU6IHtcdC8qIEBuZ0luamVjdCAqL1xuICAgICAgICAgICAgbG9hZERhdGE6bG9hZERhdGFcbiAgICAgICAgfVxuICAgIH0pXG4gICAgLndoZW4oJy9tYXJrZXRSZWNlaXB0Jywge1xuICAgICAgICB0ZW1wbGF0ZVVybDogJ2FwcC9tYXJrZXRSZWNlaXB0L21hcmtldFJlY2VpcHQuaHRtJyxcbiAgICAgICAgY29udHJvbGxlcjogJ21hcmtldFJlY2VpcHRDb250cm9sbGVyJyxcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxuICAgICAgICByZWxvYWRPblNlYXJjaDogdHJ1ZSxcbiAgICAgICAgcmVzb2x2ZTogeyAvKiBAbmdJbmplY3QgKi9cbiAgICAgICAgICAgIGZvcm1EYXRhOiBbXCJiYWNrZW5kU3J2Y1wiLCBmdW5jdGlvbihiYWNrZW5kU3J2Yykge1xuICAgICAgICAgICAgICAgIC8vcmV0dXJuIHsncmVzb2x2ZVRlc3QnOidnb29kIHRlc3QnfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYmFja2VuZFNydmMuZ2V0Rm9ybURhdGEoJ21hcmtldFJlY2VpcHQnKTtcbiAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgbWFya2V0UG9zc2liaWxpdGllczogW1wiYmFja2VuZFNydmNcIiwgZnVuY3Rpb24oYmFja2VuZFNydmMvKiwgJHJvdXRlUGFyYW1zKi8pIHtcbiAgICAgICAgICAgICAgICAvL3JldHVybiB7MTonU29tZXRoaW5nJywgMjonc29tZXRoaW5nIGVsc2UnfVxuICAgICAgICAgICAgICAgIHJldHVybiBiYWNrZW5kU3J2Yy5nZXRQb3NzaWJsZU1hcmtldHMoKTtcbiAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgc3VnZ2VzdGlvbnM6IFtcImJhY2tlbmRTcnZjXCIsIFwiJHJvdXRlUGFyYW1zXCIsIGZ1bmN0aW9uKGJhY2tlbmRTcnZjLCAkcm91dGVQYXJhbXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYmFja2VuZFNydmMuZ2V0U3VnZ2VzdGlvbkRhdGEoJHJvdXRlUGFyYW1zKTtcbiAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgc2VhcmNoUGFyYW1zOiBbXCIkcm91dGVQYXJhbXNcIiwgZnVuY3Rpb24oJHJvdXRlUGFyYW1zKSB7IHJldHVybiAkcm91dGVQYXJhbXM7IH1dXG4gICAgICAgIH1cbiAgICB9KVxuICAgIC53aGVuKCcvc3VjY2VzcycsIHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdhcHAvc3VjY2Vzcy9zdWNjZXNzLmh0bScsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdzdWNjZXNzQ29udHJvbGxlcicsXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJ1xuICAgIH0pXG4gICAgLm90aGVyd2lzZSh7XG4gICAgICAgIHJlZGlyZWN0VG86ICcvJ1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBsb2FkRGF0YShiYWNrZW5kU3J2Yykge1xuXHRiYWNrZW5kU3J2Yy5sb2FkQWxsRm9ybXMoKTtcbn1cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnbWFya2V0UmVjZWlwdCcpXG5cdC5kaXJlY3RpdmUoJ3JlY2llcHRGb3JtJywgcmVjaWVwdEZvcm0pO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHJlY2llcHRGb3JtKCkge1xuICAgIGxpbmtGdW5jLiRpbmplY3QgPSBbXCJzY29wZVwiLCBcImVsXCIsIFwiYXR0clwiLCBcImN0cmxcIl07XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ2FwcC9mb3JtL2Zvcm0uZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0ZGF0YTogJz0nLFxuXHRcdFx0c3VnZ2VzdGlvbnM6ICc9J1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogcmVjaWVwdEZvcm0sXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICByZWNpZXB0Rm9ybS4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZycsICckbG9jYXRpb24nLCAnYmFja2VuZFNydmMnXTtcbiAgICBcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiByZWNpZXB0Rm9ybSgkc2NvcGUsICRsb2csICRsb2NhdGlvbiwgYmFja2VuZFNydmMpIHtcblx0XHR2YXIgdm0gPSB0aGlzO1xuXG5cdFx0Ly9sb2NhbCB2YXJpYWJsZXNcblx0XHR2YXIgdG90YWxGaWVsZHMgPSAwO1xuXHRcdHZhciBmaWVsZHNIYXNoID0ge307XG5cblx0XHQvL3NldCB2aWV3IG1vZGVsIHZhbHVlc1xuXHRcdHZtLmN1cnJlbnREYXRlID0gbmV3IERhdGUoKTtcblxuXHRcdHZtWydpbnB1dHMnXSA9IHt9O1xuXHRcdHZtWydhcHByb3ZhbHMnXSA9IHt9O1xuXHRcdHZtWydzdWJtaXRCdG5DbGFzc2VzJ10gPSB7XG5cdFx0XHRcImJ0blwiOnRydWUsXG5cdFx0XHRcImJ0bi1kYW5nZXJcIjp0cnVlLFxuXHRcdFx0XCJidG4tc3VjY2Vzc1wiOmZhbHNlLFxuXHRcdFx0XCJjb2wteHMtMTJcIjp0cnVlLFxuXHRcdFx0XCJjb2wtc20tMTJcIjp0cnVlLFxuXHRcdFx0XCJjb2wtbWQtMTJcIjp0cnVlLFxuXHRcdFx0XCJjb2wtbGctMTJcIjp0cnVlXG5cdFx0fVxuXG5cdFx0Ly9jcmVhdGUgdGhlIG5lZWRlZCBvYmplY3RzXG5cdFx0T2JqZWN0LmtleXModm0uZGF0YS5xdWVzdGlvbnMpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG5cdFx0XHR2YXIgbmFtZSA9IHZtLmRhdGEucXVlc3Rpb25zW2tleV0ubmFtZTtcblxuXHRcdFx0Ly9idWlsZCBmaWVsZHMgaGFzaFxuXHRcdFx0ZmllbGRzSGFzaFtuYW1lXSA9IHRvdGFsRmllbGRzO1xuXG5cdFx0XHQvL2luY3JpbWVudCBmaWVsZHMgY291bnRcblx0XHRcdHRvdGFsRmllbGRzKys7XG5cblx0XHR9KTtcblxuXHRcdC8vZ2V0IHN1Z2dlc3RlZCB2YWx1ZXNcblx0XHR2bS5pbnB1dHMgPSB2bS5zdWdnZXN0aW9ucztcblxuXHRcdGZ1bmN0aW9uIHVubG9ja1N1Ym1pdEJ0bigpIHtcblx0XHRcdC8vXG5cdFx0XHQvLyRsb2cuaW5mbygnVW5sb2NraW5nIGJ0bicpO1xuXHRcdFx0dm0uc3VibWl0QnRuQ2xhc3Nlc1snYnRuLWRhbmdlciddID0gZmFsc2U7XG5cdFx0XHR2bS5zdWJtaXRCdG5DbGFzc2VzWydidG4tc3VjY2VzcyddID0gdHJ1ZTtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBsb2NrU3VibWl0QnRuKCkge1xuXHRcdFx0Ly9cblx0XHRcdC8vJGxvZy5pbmZvKCdMb2NraW5nIGJ0bicpO1xuXHRcdFx0dm0uc3VibWl0QnRuQ2xhc3Nlc1snYnRuLWRhbmdlciddID0gdHJ1ZTtcblx0XHRcdHZtLnN1Ym1pdEJ0bkNsYXNzZXNbJ2J0bi1zdWNjZXNzJ10gPSBmYWxzZTtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBjb3VudEFwcHJvdmVkKCkge1xuXHRcdFx0dmFyIG51bWJlck9mID0gMDtcblxuXHRcdFx0T2JqZWN0LmtleXModm0uZGF0YS5xdWVzdGlvbnMpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG5cdFx0XHRcdC8vZGVmaW5lIHZhcmlhYmxlXG5cdFx0XHRcdHZhciBpc0FwcHJvdmVkID0gdm0uZGF0YS5xdWVzdGlvbnNba2V5XS5hcHByb3ZhbHMuYWRkcmVzc2VkO1xuXHRcdFx0XHQvL2NoZWNrIHZhbHVlXG5cdFx0XHRcdGlmKGlzQXBwcm92ZWQpIG51bWJlck9mKys7XG5cdFx0XHR9KTtcblxuXHRcdFx0Ly8kbG9nLmluZm8obnVtYmVyT2YsIHRvdGFsRmllbGRzLCBudW1iZXJPZj09dG90YWxGaWVsZHMpO1xuXHRcdFx0aWYobnVtYmVyT2Y9PXRvdGFsRmllbGRzKSB1bmxvY2tTdWJtaXRCdG4oKTtcblx0XHRcdGVsc2UgbG9ja1N1Ym1pdEJ0bigpO1xuXG5cdFx0XHRyZXR1cm4gbnVtYmVyT2Y7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gZ2V0UGhvdG8oKSB7XG5cdFx0XHR2YXIgcHJldmlldyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZWNpZXB0SW1hZ2UnKVxuXHRcdFx0dmFyIGZpbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnUGhvdG8nKS5maWxlc1swXTtcblx0XHRcdHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuXHRcdFx0dmFyIGltYWdlYmluYXJ5ID0gbnVsbDtcblxuXHRcdFx0cmVhZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0aW1hZ2ViaW5hcnkgPSByZWFkZXIucmVzdWx0O1xuXHRcdFx0XHRwcmV2aWV3LnNyYyA9IGltYWdlYmluYXJ5O1xuXG5cdFx0XHR9LCBmYWxzZSk7XG5cblx0XHRcdGlmIChmaWxlKSB7XG5cdFx0XHRcdC8vcHJldmlldyB0aGUgaW1hZ2Vcblx0XHRcdFx0cmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XG5cblx0XHRcdFx0Ly9zYXZlIHRoZSB2YWx1ZSB0byB0aGUgdmFyaWFibGVcblx0XHRcdFx0dm0uaW5wdXRzWydQaG90byddID0ge1xuXHRcdFx0XHRcdHNyYzogJ01hcmtldF9SZWNpZXB0LmpwZycsXG5cdFx0XHRcdFx0YmluYXJ5OiBpbWFnZWJpbmFyeVxuXHRcdFx0XHR9O1x0XHRcdFx0XG5cdFx0XHR9XG5cblx0XHR9XG5cblx0XHR2bS5yZWZyZXNoQXBwcm92YWxzID0gZnVuY3Rpb24oKSB7XG5cdFx0XHQvL2xvb3AgdGhyb3VnaCBhbGwgcXVlc3Rpb25zXG5cdFx0XHRPYmplY3Qua2V5cyh2bS5kYXRhLnF1ZXN0aW9ucykuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcblx0XHRcdFx0dmFyIHJlY29yZE5hbWUgPSB2bS5kYXRhLnF1ZXN0aW9uc1trZXldLm5hbWU7XG5cdFx0XHRcdFxuXHRcdFx0XHQvL3Jlc2V0IHN1Z2dlc3Rpb25zXG5cblx0XHRcdFx0Ly9yZXNldCB2YWx1ZXNcblx0XHRcdFx0dm0uaW5wdXRzW3JlY29yZE5hbWVdLnZhbHVlID0gJyc7XG5cblx0XHRcdFx0Ly9zZXQgdmFsdWVzXG5cdFx0XHRcdHZtLmRhdGEucXVlc3Rpb25zW2tleV0uYXBwcm92YWxzLmFkZHJlc3NlZCA9IGZhbHNlO1xuXHRcdFx0XHR2bS5kYXRhLnF1ZXN0aW9uc1trZXldLmFwcHJvdmFscy52YWx1ZSA9IG51bGw7XG5cdFx0XHRcdHZtLmRhdGEucXVlc3Rpb25zW2tleV0uYXBwcm92YWxzLnRleHQgPSBcIk9LP1wiO1xuXG5cdFx0XHRcdC8vc2V0IGNsYXNzZXNcblx0XHRcdFx0dm0uZGF0YS5xdWVzdGlvbnNba2V5XS5jbGFzc2VzLmFwcHJvdmFsRGl2Wydyb3VuZC1idXR0b24tY2lyY2xlLWZyZWUnXSA9IHRydWU7XG5cdFx0XHRcdHZtLmRhdGEucXVlc3Rpb25zW2tleV0uY2xhc3Nlcy5hcHByb3ZhbERpdlsncm91bmQtYnV0dG9uLWNpcmNsZS1hcHByb3ZlZCddID0gZmFsc2U7XG5cdFx0XHRcdHZtLmRhdGEucXVlc3Rpb25zW2tleV0uY2xhc3Nlcy5hcHByb3ZhbERpdlsncm91bmQtYnV0dG9uLWNpcmNsZS1yZXZpc2VkJ10gPSBmYWxzZTtcblx0XHRcdFx0XG5cdFx0XHRcdHZtLmRhdGEucXVlc3Rpb25zW2tleV0uY2xhc3Nlcy5pbnB1dERpdlsnaGFzLXN1Y2Nlc3MnXSA9IGZhbHNlO1xuXHRcdFx0XHR2bS5kYXRhLnF1ZXN0aW9uc1trZXldLmNsYXNzZXMuaW5wdXREaXZbJ2hhcy13YXJuaW5nJ10gPSBmYWxzZTtcblx0XHRcdFx0dm0uZGF0YS5xdWVzdGlvbnNba2V5XS5jbGFzc2VzLmlucHV0RGl2WydoYXMtZGFuZ2VyJ10gPSBmYWxzZTtcblx0XHRcdH0pO1xuXG5cdFx0XHRjb3VudEFwcHJvdmVkKCk7XG5cdFx0fVxuXG5cdFx0dm0uY2hhbmdlZCA9IGZ1bmN0aW9uKGZpZWxkTmFtZSkge1xuXHRcdFx0dmFyIHJlY29yZE51bSA9IGZpZWxkc0hhc2hbZmllbGROYW1lXTtcblx0XHRcdC8vbm90aWZ5IHRoZSByZWNvcmQgYmVpbmcgY2hhbmdlZFxuXHRcdFx0Ly8kbG9nLmluZm8oZmllbGROYW1lKTtcblxuXHRcdFx0Ly91cGRhdGUgdGhlIGFwcHJvdmFsIGJ1dHRvblxuXHRcdFx0dm0uZGF0YS5xdWVzdGlvbnNbcmVjb3JkTnVtXS5hcHByb3ZhbHMuYWRkcmVzc2VkID0gdHJ1ZTtcblx0XHRcdHZtLmRhdGEucXVlc3Rpb25zW3JlY29yZE51bV0uYXBwcm92YWxzLnZhbHVlID0gdHJ1ZTtcblx0XHRcdHZtLmRhdGEucXVlc3Rpb25zW3JlY29yZE51bV0uYXBwcm92YWxzLnRleHQgPSBcIk5PIVwiO1xuXG5cdFx0XHQvL2NoYW5nZSB0aGUgY2xhc3Ncblx0XHRcdHZtLmRhdGEucXVlc3Rpb25zW3JlY29yZE51bV0uY2xhc3Nlcy5hcHByb3ZhbERpdlsncm91bmQtYnV0dG9uLWNpcmNsZS1mcmVlJ10gPSBmYWxzZTtcblx0XHRcdHZtLmRhdGEucXVlc3Rpb25zW3JlY29yZE51bV0uY2xhc3Nlcy5hcHByb3ZhbERpdlsncm91bmQtYnV0dG9uLWNpcmNsZS1yZXZpc2VkJ10gPSB0cnVlO1xuXHRcdFx0XG5cdFx0XHQvL2NoYW5nZSB0aGUgaW5wdXQgY2xhc3Ncblx0XHRcdHZtLmRhdGEucXVlc3Rpb25zW3JlY29yZE51bV0uY2xhc3Nlcy5pbnB1dERpdlsnaGFzLWRhbmdlciddID0gdHJ1ZTtcblxuXHRcdFx0Y291bnRBcHByb3ZlZCgpO1xuXHRcdH1cblxuXHRcdHZtLmFwcHJvdmVGaWVsZCA9IGZ1bmN0aW9uKGZpZWxkTmFtZSkge1xuXHRcdFx0dmFyIHJlY29yZE51bSA9IGZpZWxkc0hhc2hbZmllbGROYW1lXTtcblx0XHRcdHZhciBpc0FwcHJvdmVkID0gdm0uZGF0YS5xdWVzdGlvbnNbcmVjb3JkTnVtXS5hcHByb3ZhbHMuYWRkcmVzc2VkO1xuXHRcdFx0XHRcblx0XHRcdGlmKCFpc0FwcHJvdmVkKSB7XG5cblx0XHRcdFx0Ly91cGRhdGUgdGhlIHZhbHVlc1xuXHRcdFx0XHR2bS5pbnB1dHNbZmllbGROYW1lXS52YWx1ZSA9IHZtLmlucHV0c1tmaWVsZE5hbWVdLnN1Z2dlc3Rpb247XG5cblx0XHRcdFx0Ly91cGRhdGUgdGhlIGJ1dHRvblxuXHRcdFx0XHR2bS5kYXRhLnF1ZXN0aW9uc1tyZWNvcmROdW1dLmFwcHJvdmFscy5hZGRyZXNzZWQgPSB0cnVlO1xuXHRcdFx0XHR2bS5kYXRhLnF1ZXN0aW9uc1tyZWNvcmROdW1dLmFwcHJvdmFscy52YWx1ZSA9IHRydWU7XG5cdFx0XHRcdHZtLmRhdGEucXVlc3Rpb25zW3JlY29yZE51bV0uYXBwcm92YWxzLnRleHQgPSBcIllFUyFcIjtcblx0XHRcdFx0XG5cdFx0XHRcdC8vY2hhbmdlIHRoZSBjbGFzc1xuXHRcdFx0XHR2bS5kYXRhLnF1ZXN0aW9uc1tyZWNvcmROdW1dLmNsYXNzZXMuYXBwcm92YWxEaXZbJ3JvdW5kLWJ1dHRvbi1jaXJjbGUtZnJlZSddID0gZmFsc2U7XG5cdFx0XHRcdHZtLmRhdGEucXVlc3Rpb25zW3JlY29yZE51bV0uY2xhc3Nlcy5hcHByb3ZhbERpdlsncm91bmQtYnV0dG9uLWNpcmNsZS1hcHByb3ZlZCddID0gdHJ1ZTtcblx0XHRcdFx0XG5cdFx0XHRcdC8vY2hhbmdlIHRoZSBpbnB1dCBjbGFzc1xuXHRcdFx0XHR2bS5kYXRhLnF1ZXN0aW9uc1tyZWNvcmROdW1dLmNsYXNzZXMuaW5wdXREaXZbJ2hhcy1zdWNjZXNzJ10gPSB0cnVlO1xuXG5cdFx0XHRcdGNvdW50QXBwcm92ZWQoKTtcblx0XHRcdFx0XG5cdFx0XHR9XG5cblx0XHRcdC8vJGxvZy5pbmZvKGZpZWxkTmFtZSk7XG5cdFx0fVxuXG5cdFx0JHNjb3BlLnBob3RvQWRkZWQgPSBmdW5jdGlvbigpIHtcblx0XHRcdHZhciByZWNvcmROdW0gPSBmaWVsZHNIYXNoWydQaG90byddO1xuXG5cdFx0XHQvL2dldCB0aGUgcGhvdG9cblx0XHRcdGdldFBob3RvKCk7XG5cblx0XHRcdC8vdXBkYXRlIHRoZSB2YWx1ZXNcblx0XHRcdCRsb2cuaW5mbyh2bS5pbnB1dHNbJ1Bob3RvJ10pO1xuXG5cdFx0XHQvL3VwZGF0ZSB0aGUgYnV0dG9uXG5cdFx0XHR2bS5kYXRhLnF1ZXN0aW9uc1tyZWNvcmROdW1dLmFwcHJvdmFscy5hZGRyZXNzZWQgPSB0cnVlO1xuXHRcdFx0dm0uZGF0YS5xdWVzdGlvbnNbcmVjb3JkTnVtXS5hcHByb3ZhbHMudmFsdWUgPSB0cnVlO1xuXG5cdFx0XHQvL2NoYW5nZSB0aGUgaW5wdXQgY2xhc3Ncblx0XHRcdHZtLmRhdGEucXVlc3Rpb25zW3JlY29yZE51bV0uY2xhc3Nlcy5pbnB1dERpdlsnaGFzLXN1Y2Nlc3MnXSA9IHRydWU7XG5cblx0XHRcdGNvdW50QXBwcm92ZWQoKTtcblxuXHRcdFx0JHNjb3BlLiRhcHBseSgpO1xuXHRcdH1cblxuXHRcdHZtLnN1Ym1pdEZvcm0gPSBmdW5jdGlvbigpIHtcblxuXHRcdFx0aWYoY291bnRBcHByb3ZlZCgpID09IHRvdGFsRmllbGRzKSB7XG5cdFx0XHRcdHZhciBkZWxpdmVyeU9iamVjdCA9IHt9O1xuXG5cdFx0XHRcdE9iamVjdC5rZXlzKHZtLmlucHV0cykuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcblx0XHRcdFx0XHRpZihrZXkgIT09ICdQaG90bycpIHtcblx0XHRcdFx0XHRcdC8vZm9yIG5vdCBwaG90b3MgYWRkIHZhbHVlc1xuXHRcdFx0XHRcdFx0aWYodHlwZW9mIHZtLmlucHV0c1trZXldLnZhbHVlID09ICdudW1iZXInKVxuXHRcdFx0XHRcdFx0XHRkZWxpdmVyeU9iamVjdFtrZXldID0gdm0uaW5wdXRzW2tleV0udmFsdWUgKiAxMDA7XG5cdFx0XHRcdFx0XHRlbHNlIGRlbGl2ZXJ5T2JqZWN0W2tleV0gPSB2bS5pbnB1dHNba2V5XS52YWx1ZTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0Ly9pZiBpdCBpcyBhIHBob3RvLCBjb3B5IGRpcmVjdGx5XG5cdFx0XHRcdFx0XHRkZWxpdmVyeU9iamVjdFtrZXldID0gdm0uaW5wdXRzW2tleV07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHQvL3NlbmQgdGhlIHZhbHVlc1xuXHRcdFx0XHRiYWNrZW5kU3J2Yy5zdWJtaXRGb3JtRGF0YShkZWxpdmVyeU9iamVjdClcblx0XHRcdFx0LnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcblx0XHRcdFx0XHQvL25vdGlmeSB0aGUgdXNlclxuXHRcdFx0XHRcdCRsb2cuaW5mbygnc3VibWl0dGVkIScsIHJlc3BvbnNlKTtcblxuXHRcdFx0XHRcdC8vaWYgc3VjY2Vzc2Z1bCwgcmVkaXJlY3Rcblx0XHRcdFx0XHQkbG9jYXRpb24ucGF0aCgnL3N1Y2Nlc3MnKTtcblx0XHRcdFx0XHQkc2NvcGUuJGFwcGx5KCk7XG5cblx0XHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcblx0XHRcdFx0XHQkbG9nLmluZm8oJ0Vycm9yOicsIGVycm9yKTtcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdC8vbm90aWZ5IHRoZSB1c2VyXG5cdFx0XHRcdGNvbnNvbGUubG9nKCduZWVkIHRvIGZpbmlzaCB0aGUgZmllbGRzJyk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly9hdXRvbWF0aWNhbGx5IHJ1biB0aGUgcmVmcmVzaFxuXHRcdHZtLnJlZnJlc2hBcHByb3ZhbHMoKTtcblx0fVxuXG5cdHJldHVybiBkaXJlY3RpdmU7XG59XG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnbWFya2V0UmVjZWlwdCcpXG4gICAgLmNvbnRyb2xsZXIoJ2xhbmRpbmdDb250cm9sbGVyJywgbGFuZGluZ0NvbnRyb2xsZXIpO1xuXG5sYW5kaW5nQ29udHJvbGxlci4kaW5qZWN0ID0gWyckbG9nJywgJyRsb2NhdGlvbiddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGxhbmRpbmdDb250cm9sbGVyKCRsb2csICRsb2NhdGlvbikge1xuXHR2YXIgdm0gPSB0aGlzO1xuXG5cdHZtLnJlZGlyZWN0VG8gPSBmdW5jdGlvbihmb3JtTmFtZSkge1xuXHRcdCRsb2cuaW5mbygnY2xpY2tlZCcsIGZvcm1OYW1lKTtcblx0XHQkbG9jYXRpb24ucGF0aCgnLycrZm9ybU5hbWUpO1xuXHR9XG59XG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnbWFya2V0UmVjZWlwdCcpXG4gICAgLmNvbnRyb2xsZXIoJ21hcmtldFJlY2VpcHRDb250cm9sbGVyJywgbWFya2V0UmVjZWlwdENvbnRyb2xsZXIpO1xuXG5tYXJrZXRSZWNlaXB0Q29udHJvbGxlci4kaW5qZWN0ID0gWyckbG9nJywgJ2JhY2tlbmRTcnZjJywgJ2Zvcm1EYXRhJywgJ21hcmtldFBvc3NpYmlsaXRpZXMnLCAnc3VnZ2VzdGlvbnMnLCAnc2VhcmNoUGFyYW1zJ107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gbWFya2V0UmVjZWlwdENvbnRyb2xsZXIoJGxvZywgYmFja2VuZFNydmMsIGZvcm1EYXRhLCBtYXJrZXRQb3NzaWJpbGl0aWVzLCBzdWdnZXN0aW9ucywgc2VhcmNoUGFyYW1zKSB7XG5cdHZhciB2bSA9IHRoaXM7XG5cblx0Ly9sb2NhbCB2YXJpYWJsZXNcblx0dm0uZGF0YSA9IGZvcm1EYXRhO1xuXHR2bS5wb3NzaWJsZU1hcmtldHMgPSBtYXJrZXRQb3NzaWJpbGl0aWVzO1xuXHR2bS5zdWdnZXN0aW9ucyA9IHN1Z2dlc3Rpb25zO1xuXG5cdCRsb2cuaW5mbygnc2VhcmNoUGFyYW1zJywgc2VhcmNoUGFyYW1zLCBPYmplY3Qua2V5cyhzZWFyY2hQYXJhbXMpLmxlbmd0aCk7XG5cdCRsb2cuaW5mbygnc3VnZ2VzdGlvbnMnLCBzdWdnZXN0aW9ucyk7XG5cblx0Ly9pZiBhIG1hcmtldCBoYXMgYmVlbiBzZWxlY3RlZCwgc2hvdyB0aGUgcHJlZmlsbGVkIG1hcmtldFxuXHRpZihPYmplY3Qua2V5cyhzZWFyY2hQYXJhbXMpLmxlbmd0aCA9PSAwKSB2bS5zaG93Rm9ybSA9IGZhbHNlO1xuXHRlbHNlIHZtLnNob3dGb3JtID0gdHJ1ZTtcblx0XG5cdHZhciB0aXRsZUNsYXNzZXMgPSB7XG5cdFx0J2NvbC14cy01Jzp0cnVlLFxuXHRcdCdjb2wtc20tNSc6dHJ1ZSxcblx0XHQnY29sLW1kLTUnOnRydWUsXG5cdFx0J2NvbC1sZy01Jzp0cnVlXHRcdFxuXHR9O1xuXG5cdHZhciBpbnB1dENsYXNzZXMgPSB7XG5cdFx0J2NvbC14cy03Jzp0cnVlLFxuXHRcdCdjb2wtc20tNyc6dHJ1ZSxcblx0XHQnY29sLW1kLTcnOnRydWUsXG5cdFx0J2NvbC1sZy03Jzp0cnVlXG5cdH07XG5cbn1cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnbWFya2V0UmVjZWlwdCcpXG5cdC5kaXJlY3RpdmUoJ25hdmJhcicsIG5hdmJhcik7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gbmF2YmFyKCkge1xuICAgIGxpbmtGdW5jLiRpbmplY3QgPSBbXCJzY29wZVwiLCBcImVsXCIsIFwiYXR0clwiLCBcImN0cmxcIl07XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ2FwcC9uYXZiYXIvbmF2YmFyLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHt9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IG5hdmJhckNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBuYXZiYXJDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgXG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gbmF2YmFyQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcbiAgICBcdC8vdmFyIHZtID0gdGhpcztcblx0fVxuXG5cdHJldHVybiBkaXJlY3RpdmU7XG59XG5hbmd1bGFyXG5cdC5tb2R1bGUoJ21hcmtldFJlY2VpcHQnKVxuXHQuZGlyZWN0aXZlKCdzZWxlY3RQcmVmaWxsZWRGb3JtJywgc2VsZWN0UHJlZmlsbGVkRm9ybSk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gc2VsZWN0UHJlZmlsbGVkRm9ybSgpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICdhcHAvc2VsZWN0Rm9ybS9zZWxlY3RGb3JtLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdGRhdGE6ICc9J1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogc2VsZWN0UHJlZmlsbGVkRm9ybUNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBzZWxlY3RQcmVmaWxsZWRGb3JtQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZycsICckbG9jYXRpb24nXTtcbiAgICBcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBzZWxlY3RQcmVmaWxsZWRGb3JtQ29udHJvbGxlcigkc2NvcGUsICRsb2csICRsb2NhdGlvbikge1xuXHRcdHZhciB2bSA9IHRoaXM7XG5cblx0XHRmdW5jdGlvbiBidWlsZHByZWZpbGxlZE1hcmtldEZvcm1QYXRoKG9wdGlvblZhbHVlcykge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0cGF0aDonL21hcmtldFJlY2VpcHQnLFxuXHRcdFx0XHRwYXJhbXM6IHtcblx0XHRcdFx0XHRkYXRlOiAnMjAxNjA2MjcnLFxuXHRcdFx0XHRcdHN0YXJ0OiAnMTcwMCcsXG5cdFx0XHRcdFx0emlwOiAnMDAwMDAnLFxuXHRcdFx0XHRcdGxvYzogJzAxJ1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdHZtLnNlbGVjdE9wdGlvbiA9IGZ1bmN0aW9uKHNlbGVjdGlvbikge1xuXHRcdFx0dmFyIG9wdGlvblZhbHVlcyA9IHZtLmRhdGFbc2VsZWN0aW9uXTtcblx0XHRcdFxuXHRcdFx0dmFyIG1hcmtldEZvcm0gPSBidWlsZHByZWZpbGxlZE1hcmtldEZvcm1QYXRoKG9wdGlvblZhbHVlcyk7XG5cdFx0XHRcblx0XHRcdGNvbnNvbGUubG9nKG1hcmtldEZvcm0pO1xuXG5cdFx0XHQvL3NlbmQgdGhlIHVzZXIgdG8gdGhlIHJlcXVlc3RlZCBmb3JtXG5cdFx0XHQkbG9jYXRpb24ucGF0aChtYXJrZXRGb3JtLnBhdGgpLnNlYXJjaChtYXJrZXRGb3JtLnBhcmFtcyk7XG5cdFx0XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGRpcmVjdGl2ZTtcbn1cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdtYXJrZXRSZWNlaXB0JylcbiAgICAuY29udHJvbGxlcignc3VjY2Vzc0NvbnRyb2xsZXInLCBzdWNjZXNzQ29udHJvbGxlcik7XG5cbnN1Y2Nlc3NDb250cm9sbGVyLiRpbmplY3QgPSBbJyRsb2cnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBzdWNjZXNzQ29udHJvbGxlcigkbG9nKSB7XG5cdC8vdmFyIHZtID0gdGhpcztcblx0JGxvZy5pbmZvKCdzdWNjZXNzIGNvbnRyb2xsZXInKTtcbn1cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdtYXJrZXRSZWNlaXB0JylcbiAgICAuZmFjdG9yeSgnYmFja2VuZFNydmMnLCBiYWNrZW5kU3J2Yyk7XG5cbmJhY2tlbmRTcnZjLiRpbmplY3QgPSBbJyRsb2cnLCAnJGh0dHAnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBiYWNrZW5kU3J2YygkbG9nLCAkaHR0cCkge1xuXHR2YXIgc2VydmljZSA9IHRoaXM7XG5cblx0dmFyIGJhY2tlbmRTcnZjID0ge1xuXHRcdF9nZXQ6X2dldCxcblx0XHRfcG9zdDpfcG9zdCxcblx0XHRfYnVpbGRQb3NzaWJsZU1hcmtldHM6X2J1aWxkUG9zc2libGVNYXJrZXRzLFxuXHRcdGdldEZvcm1EYXRhOmdldEZvcm1EYXRhLFxuXHRcdGdldFBvc3NpYmxlTWFya2V0czpnZXRQb3NzaWJsZU1hcmtldHMsXG5cdFx0bG9hZEFsbEZvcm1zOmxvYWRBbGxGb3Jtcyxcblx0XHRnZXRTdWdnZXN0aW9uRGF0YTpnZXRTdWdnZXN0aW9uRGF0YSxcblx0XHRzdWJtaXRGb3JtRGF0YTpzdWJtaXRGb3JtRGF0YVxuXHR9O1xuXG5cdGZ1bmN0aW9uIF9nZXQoZGlyLCBmaWxlbmFtZSkge1xuXHRcdHZhciB0aGlzUmVzcG9uc2UgPSBudWxsO1xuXG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXG5cdFx0XHQkaHR0cCh7XG5cdFx0XHRcdG1ldGhvZDogJ0dFVCcsXG5cdFx0XHRcdHVybDogZGlyICsgZmlsZW5hbWVcblx0XHRcdH0pLnRoZW4oZnVuY3Rpb24gc3VjY2Vzc0NhbGxiYWNrKHJlc3BvbnNlKSB7XG5cdFx0XHRcdFxuXHRcdFx0XHRyZXNvbHZlKHJlc3BvbnNlLmRhdGEpO1xuXHRcdFx0XHRcblx0XHRcdH0sIGZ1bmN0aW9uIGVycm9yQ2FsbGJhY2socmVzcG9uc2UpIHtcblx0XHRcdFx0Y29uc29sZS5sb2coJ0Vycm9yOicscmVzcG9uc2UpO1xuXHRcdFx0fSk7XG5cblx0XHR9KTtcblxuXHR9XG5cblx0ZnVuY3Rpb24gX3Bvc3QoZGF0YSkge1xuXG5cdFx0JGxvZy5pbmZvKCdnb3QgdGhpcyBpbiBfcG9zdCcsIGRhdGEpO1xuXG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXG5cdFx0XHR2YXIgcmVzdWx0ID0gJGh0dHAucG9zdCgnZm9ybXMvbWFya2V0UmVjaWVwdCcsIGRhdGEpXG5cdFx0XHQudGhlbihmdW5jdGlvbiBzdWNjZXNzQ2FsbGJhY2socmVzcG9uc2UpIHtcblx0XHRcdFx0cmVzb2x2ZSgnc3VjY2VzcycpO1xuXHRcdFx0fSwgZnVuY3Rpb24gZXJyb3JDYWxsYmFjayhyZXNwb25zZSkge1xuXHRcdFx0XHRyZXNvbHZlKCdlcnJvcicpO1xuXHRcdFx0fSk7XG5cblx0XHRcdGNvbnNvbGUubG9nKHJlc3VsdCk7XG5cdFx0fSk7XG5cblx0fVxuXG5cdGZ1bmN0aW9uIF9idWlsZFBvc3NpYmxlTWFya2V0cyhyZXNvdXJjZXMpIHtcblx0XHR2YXIgcmV0dXJuT2JqZWN0ID0ge307XG5cdFx0dmFyIHJlcG9ydHNEdWUgPSByZXNvdXJjZXNbMF07XG5cdFx0dmFyIHJlcG9ydHNQYXN0RHVlID0gcmVzb3VyY2VzWzFdO1xuXHRcdHZhciBhbGxMb2NhdGlvbnMgPSByZXNvdXJjZXNbMl07XG5cdFx0dmFyIGFsbEVtcGxveWVlcyA9IHJlc291cmNlc1szXTtcblxuXHRcdC8vYnVpbGQgdGhlIHJlcG9ydHMgZHVlXG5cdFx0cmV0dXJuT2JqZWN0WydyZXBvcnRzX2R1ZSddID0gW107XG5cdFx0T2JqZWN0LmtleXMocmVwb3J0c0R1ZSkuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcblxuXHRcdFx0cmV0dXJuT2JqZWN0LnJlcG9ydHNfZHVlLnB1c2goe1xuXHRcdFx0XHRuYW1lOiBhbGxMb2NhdGlvbnNbcmVwb3J0c0R1ZVtrZXldLm1hcmtldF0ubmFtZSxcblx0XHRcdFx0ZW1wbG95ZWU6IChhbGxFbXBsb3llZXNbcmVwb3J0c0R1ZVtrZXldLnNjaGVkdWxlZF0uZmlyc3RfbmFtZSArICcgJyArIGFsbEVtcGxveWVlc1tyZXBvcnRzRHVlW2tleV0uc2NoZWR1bGVkXS5sYXN0X25hbWUpXG5cdFx0XHR9KTtcblxuXHRcdH0pO1xuXG5cdFx0Ly9idWlsZCB0aGUgcmVwb3J0cyBwYXN0IGR1ZVxuXHRcdHJldHVybk9iamVjdFsncmVwb3J0c19wYXN0X2R1ZSddID0gW107XG5cdFx0T2JqZWN0LmtleXMocmVwb3J0c1Bhc3REdWUpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG5cblx0XHRcdHJldHVybk9iamVjdC5yZXBvcnRzX3Bhc3RfZHVlLnB1c2goe1xuXHRcdFx0XHRuYW1lOiBhbGxMb2NhdGlvbnNbcmVwb3J0c1Bhc3REdWVba2V5XS5tYXJrZXRdLm5hbWUsXG5cdFx0XHRcdGVtcGxveWVlOiAoYWxsRW1wbG95ZWVzW3JlcG9ydHNQYXN0RHVlW2tleV0uc2NoZWR1bGVkXS5maXJzdF9uYW1lICsgJyAnICsgYWxsRW1wbG95ZWVzW3JlcG9ydHNQYXN0RHVlW2tleV0uc2NoZWR1bGVkXS5sYXN0X25hbWUpLFxuXHRcdFx0XHRkdWVEYXRlOiAoa2V5LnNsaWNlKDQsNikgKyAnLycgKyBrZXkuc2xpY2UoNiw4KSArICcvJyArIGtleS5zbGljZSgyLDQpKVxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gcmV0dXJuT2JqZWN0XG5cdH1cblxuXHRmdW5jdGlvbiBnZXRGb3JtRGF0YShmb3JtKSB7XG5cdFx0dmFyIHNlcnZpY2UgPSB0aGlzO1xuXG5cdFx0c2VydmljZS5hbGxGb3JtcyA9IHtcIm1hcmtldFJlY2VpcHRcIjonbWFya2V0UmVjZWlwdC5qc29uJ307XG5cblx0XHR2YXIgdXJsID0gc2VydmljZS5hbGxGb3Jtc1tmb3JtXTtcblx0XHRcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqKSB7XG5cdFx0XHQvL2NoZWNrIGZvciBleGlzdGluZyB2YWx1ZXNcblx0XHRcdGlmKHR5cGVvZiBzZXJ2aWNlW2Zvcm1dICE9PSAndW5kZWZpbmVkJylcblx0XHRcdFx0cmVzb2x2ZShzZXJ2aWNlW2Zvcm1dKTtcblx0XHRcdGVsc2UgeyBcblx0XHRcdFx0c2VydmljZS5fZ2V0KCdhc3NldHMvJywgdXJsKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cdFx0XHRcdFx0c2VydmljZVtmb3JtXSA9IHJlc3BvbnNlO1xuXHRcdFx0XHRcdHJlc29sdmUoc2VydmljZVtmb3JtXSk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXG5cdFx0fSk7XG5cdFxuXHR9XG5cblx0ZnVuY3Rpb24gZ2V0UG9zc2libGVNYXJrZXRzKCkge1xuXHRcdHZhciBzZXJ2aWNlID0gdGhpcztcblxuXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblx0XHRcdC8vY29sbGVjdCB0aGUgcmVzb3VyY2VzXG5cdFx0XHRzZXJ2aWNlLl9nZXQoXCIvZGIvZm9ybS9cIiwgJ21hcmtldF9yZWNlaXB0cy9kdWUnKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cdFx0XHRcdC8vZnJvbSB0aGUgcmVzcG9uc2UgYnVpbGQgdGhlIHJldHVybmFibGUgb2JqZWN0XG5cdFx0XHRcdHZhciBwb3NzaWJsZU1hcmtldHNMaXN0ID0gc2VydmljZS5fYnVpbGRQb3NzaWJsZU1hcmtldHMocmVzcG9uc2UpO1xuXHRcdFx0XHQvL3JldHVybiB0aGUgcG9zc2libGVNYXJrZXRzTGlzdFxuXHRcdFx0XHRyZXNvbHZlKHBvc3NpYmxlTWFya2V0c0xpc3QpO1xuXHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcblx0XHRcdFx0cmVqZWN0KGVycm9yKTtcblx0XHRcdH0pO1xuXG5cdFx0fSk7XG5cblx0fVxuXG5cdGZ1bmN0aW9uIGxvYWRBbGxGb3JtcygpIHtcblx0XHR2YXIgc2VydmljZSA9IHRoaXM7XG5cblx0XHRzZXJ2aWNlLmFsbEZvcm1zID0ge1wibWFya2V0UmVjZWlwdFwiOidtYXJrZXRSZWNlaXB0Lmpzb24nfTtcblx0XG5cdFx0Y29uc29sZS5sb2coc2VydmljZS5hbGxGb3Jtcyk7XG5cblx0XHQvL3J1biB0aHJvdWdoIGVhY2ggZm9ybVxuXHRcdE9iamVjdC5rZXlzKHNlcnZpY2UuYWxsRm9ybXMpLmZvckVhY2goZnVuY3Rpb24oZm9ybSkge1xuXHRcdFx0dmFyIHVybCA9IHNlcnZpY2UuYWxsRm9ybXNbZm9ybV07XG5cblx0XHRcdHNlcnZpY2UuX2dldCgnYXNzZXRzLycsIHVybCkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuXHRcdFx0XHRzZXJ2aWNlW2Zvcm1dID0gcmVzcG9uc2UuZGF0YTtcblx0XHRcdH0pO1xuXG5cdFx0fSk7XG5cblx0fVxuXG5cdGZ1bmN0aW9uIGdldFN1Z2dlc3Rpb25EYXRhKHBhcmFtcykge1xuXHRcdC8vVE9ETyBUQUtFIFRISVMgT1VUIExBVEVSXG5cdFx0Y29uc29sZS5sb2coXCJnb3QgdGhlc2VcIiwgcGFyYW1zKTtcblx0XHQvL3RlbXBvcmFyeSBzdWdnZXN0aW9uc1xuXHRcdHJldHVybiB7XG5cdFx0XHQnTWFya2V0JzonU3VyZiBDaXR5Jyxcblx0XHRcdCdOYW1lJzonQWhtZWQnLFxuXHRcdFx0J0dyb3NzJzo0MTUsXG5cdFx0XHQnRmVlJzo0Mixcblx0XHRcdCdQYXknOjgzLFxuXHRcdFx0J1JlY2llcHRzJzoxMCxcblx0XHRcdCdCYW5rJzo2MCxcblx0XHRcdCdEdWUnOjIyMFxuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIHN1Ym1pdEZvcm1EYXRhKGRhdGEpIHtcblx0XHR2YXIgc2VydmljZSA9IHRoaXM7XG5cblx0XHQvL25vdGlmeSB0aGUgdXNlclxuXHRcdCRsb2cuaW5mbygnZ290IHRoaXMnLCBkYXRhKTtcblxuXHRcdFxuXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblxuXHRcdFx0Ly9zdWJtaXQgZm9ybVxuXHRcdFx0c2VydmljZS5fcG9zdChkYXRhKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cdFx0XHRcdC8vbm90aWZ5IHRoZSB1c2VyXG5cdFx0XHRcdC8vY29uc29sZS5sb2coJ3Jlc3BvbnNlOicsIHJlc3BvbnNlKTtcblx0XHRcdFx0Ly93aGVuIHN1Y2Nlc3MgaXMgYWNoaWV2ZWQgcmVkaXJlY3Rcblx0XHRcdFx0cmVzb2x2ZShyZXNwb25zZSk7XG5cdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnIpIHtcblx0XHRcdFx0Ly9jb25zb2xlLmxvZygnRXJyb3I6JywgZXJyKTtcblx0XHRcdFx0cmVqZWN0KGVycik7XG5cdFx0XHR9KTtcblxuXHRcdH0pO1xuXG5cdH1cblxuXHRyZXR1cm4gYmFja2VuZFNydmM7XG59IiwiYW5ndWxhclxuXHQubW9kdWxlKCdtYXJrZXRSZWNlaXB0Jylcblx0LmRpcmVjdGl2ZSgncmVjaWVwdEZvcm0nLCByZWNpZXB0Rm9ybSk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gcmVjaWVwdEZvcm0oKSB7XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ2FwcC9mb3JtL2Zvcm0uZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0ZGF0YTogJz0nLFxuXHRcdFx0c3VnZ2VzdGlvbnM6ICc9J1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogcmVjaWVwdEZvcm0sXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICByZWNpZXB0Rm9ybS4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZycsICckbG9jYXRpb24nLCAnYmFja2VuZFNydmMnXTtcbiAgICBcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiByZWNpZXB0Rm9ybSgkc2NvcGUsICRsb2csICRsb2NhdGlvbiwgYmFja2VuZFNydmMpIHtcblx0XHR2YXIgdm0gPSB0aGlzO1xuXG5cdFx0Ly9sb2NhbCB2YXJpYWJsZXNcblx0XHR2YXIgdG90YWxGaWVsZHMgPSAwO1xuXHRcdHZhciBmaWVsZHNIYXNoID0ge307XG5cblx0XHQvL3NldCB2aWV3IG1vZGVsIHZhbHVlc1xuXHRcdHZtLmN1cnJlbnREYXRlID0gbmV3IERhdGUoKTtcblxuXHRcdHZtWydpbnB1dHMnXSA9IHt9O1xuXHRcdHZtWydhcHByb3ZhbHMnXSA9IHt9O1xuXHRcdHZtWydzdWJtaXRCdG5DbGFzc2VzJ10gPSB7XG5cdFx0XHRcImJ0blwiOnRydWUsXG5cdFx0XHRcImJ0bi1kYW5nZXJcIjp0cnVlLFxuXHRcdFx0XCJidG4tc3VjY2Vzc1wiOmZhbHNlLFxuXHRcdFx0XCJjb2wteHMtMTJcIjp0cnVlLFxuXHRcdFx0XCJjb2wtc20tMTJcIjp0cnVlLFxuXHRcdFx0XCJjb2wtbWQtMTJcIjp0cnVlLFxuXHRcdFx0XCJjb2wtbGctMTJcIjp0cnVlXG5cdFx0fVxuXG5cdFx0Ly9jcmVhdGUgdGhlIG5lZWRlZCBvYmplY3RzXG5cdFx0T2JqZWN0LmtleXModm0uZGF0YS5xdWVzdGlvbnMpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG5cdFx0XHR2YXIgbmFtZSA9IHZtLmRhdGEucXVlc3Rpb25zW2tleV0ubmFtZTtcblxuXHRcdFx0Ly9idWlsZCBmaWVsZHMgaGFzaFxuXHRcdFx0ZmllbGRzSGFzaFtuYW1lXSA9IHRvdGFsRmllbGRzO1xuXG5cdFx0XHQvL2luY3JpbWVudCBmaWVsZHMgY291bnRcblx0XHRcdHRvdGFsRmllbGRzKys7XG5cblx0XHR9KTtcblxuXHRcdC8vZ2V0IHN1Z2dlc3RlZCB2YWx1ZXNcblx0XHR2bS5pbnB1dHMgPSB2bS5zdWdnZXN0aW9ucztcblxuXHRcdGZ1bmN0aW9uIHVubG9ja1N1Ym1pdEJ0bigpIHtcblx0XHRcdC8vXG5cdFx0XHQvLyRsb2cuaW5mbygnVW5sb2NraW5nIGJ0bicpO1xuXHRcdFx0dm0uc3VibWl0QnRuQ2xhc3Nlc1snYnRuLWRhbmdlciddID0gZmFsc2U7XG5cdFx0XHR2bS5zdWJtaXRCdG5DbGFzc2VzWydidG4tc3VjY2VzcyddID0gdHJ1ZTtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBsb2NrU3VibWl0QnRuKCkge1xuXHRcdFx0Ly9cblx0XHRcdC8vJGxvZy5pbmZvKCdMb2NraW5nIGJ0bicpO1xuXHRcdFx0dm0uc3VibWl0QnRuQ2xhc3Nlc1snYnRuLWRhbmdlciddID0gdHJ1ZTtcblx0XHRcdHZtLnN1Ym1pdEJ0bkNsYXNzZXNbJ2J0bi1zdWNjZXNzJ10gPSBmYWxzZTtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBjb3VudEFwcHJvdmVkKCkge1xuXHRcdFx0dmFyIG51bWJlck9mID0gMDtcblxuXHRcdFx0T2JqZWN0LmtleXModm0uZGF0YS5xdWVzdGlvbnMpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG5cdFx0XHRcdC8vZGVmaW5lIHZhcmlhYmxlXG5cdFx0XHRcdHZhciBpc0FwcHJvdmVkID0gdm0uZGF0YS5xdWVzdGlvbnNba2V5XS5hcHByb3ZhbHMuYWRkcmVzc2VkO1xuXHRcdFx0XHQvL2NoZWNrIHZhbHVlXG5cdFx0XHRcdGlmKGlzQXBwcm92ZWQpIG51bWJlck9mKys7XG5cdFx0XHR9KTtcblxuXHRcdFx0Ly8kbG9nLmluZm8obnVtYmVyT2YsIHRvdGFsRmllbGRzLCBudW1iZXJPZj09dG90YWxGaWVsZHMpO1xuXHRcdFx0aWYobnVtYmVyT2Y9PXRvdGFsRmllbGRzKSB1bmxvY2tTdWJtaXRCdG4oKTtcblx0XHRcdGVsc2UgbG9ja1N1Ym1pdEJ0bigpO1xuXG5cdFx0XHRyZXR1cm4gbnVtYmVyT2Y7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gZ2V0UGhvdG8oKSB7XG5cdFx0XHR2YXIgcHJldmlldyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZWNpZXB0SW1hZ2UnKVxuXHRcdFx0dmFyIGZpbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnUGhvdG8nKS5maWxlc1swXTtcblx0XHRcdHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuXHRcdFx0dmFyIGltYWdlYmluYXJ5ID0gbnVsbDtcblxuXHRcdFx0cmVhZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0aW1hZ2ViaW5hcnkgPSByZWFkZXIucmVzdWx0O1xuXHRcdFx0XHRwcmV2aWV3LnNyYyA9IGltYWdlYmluYXJ5O1xuXG5cdFx0XHR9LCBmYWxzZSk7XG5cblx0XHRcdGlmIChmaWxlKSB7XG5cdFx0XHRcdC8vcHJldmlldyB0aGUgaW1hZ2Vcblx0XHRcdFx0cmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XG5cblx0XHRcdFx0Ly9zYXZlIHRoZSB2YWx1ZSB0byB0aGUgdmFyaWFibGVcblx0XHRcdFx0dm0uaW5wdXRzWydQaG90byddID0ge1xuXHRcdFx0XHRcdHNyYzogJ01hcmtldF9SZWNpZXB0LmpwZycsXG5cdFx0XHRcdFx0YmluYXJ5OiBpbWFnZWJpbmFyeVxuXHRcdFx0XHR9O1x0XHRcdFx0XG5cdFx0XHR9XG5cblx0XHR9XG5cblx0XHR2bS5yZWZyZXNoQXBwcm92YWxzID0gZnVuY3Rpb24oKSB7XG5cdFx0XHQvL2xvb3AgdGhyb3VnaCBhbGwgcXVlc3Rpb25zXG5cdFx0XHRPYmplY3Qua2V5cyh2bS5kYXRhLnF1ZXN0aW9ucykuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcblx0XHRcdFx0dmFyIHJlY29yZE5hbWUgPSB2bS5kYXRhLnF1ZXN0aW9uc1trZXldLm5hbWU7XG5cdFx0XHRcdFxuXHRcdFx0XHQvL3Jlc2V0IHN1Z2dlc3Rpb25zXG5cblx0XHRcdFx0Ly9yZXNldCB2YWx1ZXNcblx0XHRcdFx0dm0uaW5wdXRzW3JlY29yZE5hbWVdLnZhbHVlID0gJyc7XG5cblx0XHRcdFx0Ly9zZXQgdmFsdWVzXG5cdFx0XHRcdHZtLmRhdGEucXVlc3Rpb25zW2tleV0uYXBwcm92YWxzLmFkZHJlc3NlZCA9IGZhbHNlO1xuXHRcdFx0XHR2bS5kYXRhLnF1ZXN0aW9uc1trZXldLmFwcHJvdmFscy52YWx1ZSA9IG51bGw7XG5cdFx0XHRcdHZtLmRhdGEucXVlc3Rpb25zW2tleV0uYXBwcm92YWxzLnRleHQgPSBcIk9LP1wiO1xuXG5cdFx0XHRcdC8vc2V0IGNsYXNzZXNcblx0XHRcdFx0dm0uZGF0YS5xdWVzdGlvbnNba2V5XS5jbGFzc2VzLmFwcHJvdmFsRGl2Wydyb3VuZC1idXR0b24tY2lyY2xlLWZyZWUnXSA9IHRydWU7XG5cdFx0XHRcdHZtLmRhdGEucXVlc3Rpb25zW2tleV0uY2xhc3Nlcy5hcHByb3ZhbERpdlsncm91bmQtYnV0dG9uLWNpcmNsZS1hcHByb3ZlZCddID0gZmFsc2U7XG5cdFx0XHRcdHZtLmRhdGEucXVlc3Rpb25zW2tleV0uY2xhc3Nlcy5hcHByb3ZhbERpdlsncm91bmQtYnV0dG9uLWNpcmNsZS1yZXZpc2VkJ10gPSBmYWxzZTtcblx0XHRcdFx0XG5cdFx0XHRcdHZtLmRhdGEucXVlc3Rpb25zW2tleV0uY2xhc3Nlcy5pbnB1dERpdlsnaGFzLXN1Y2Nlc3MnXSA9IGZhbHNlO1xuXHRcdFx0XHR2bS5kYXRhLnF1ZXN0aW9uc1trZXldLmNsYXNzZXMuaW5wdXREaXZbJ2hhcy13YXJuaW5nJ10gPSBmYWxzZTtcblx0XHRcdFx0dm0uZGF0YS5xdWVzdGlvbnNba2V5XS5jbGFzc2VzLmlucHV0RGl2WydoYXMtZGFuZ2VyJ10gPSBmYWxzZTtcblx0XHRcdH0pO1xuXG5cdFx0XHRjb3VudEFwcHJvdmVkKCk7XG5cdFx0fVxuXG5cdFx0dm0uY2hhbmdlZCA9IGZ1bmN0aW9uKGZpZWxkTmFtZSkge1xuXHRcdFx0dmFyIHJlY29yZE51bSA9IGZpZWxkc0hhc2hbZmllbGROYW1lXTtcblx0XHRcdC8vbm90aWZ5IHRoZSByZWNvcmQgYmVpbmcgY2hhbmdlZFxuXHRcdFx0Ly8kbG9nLmluZm8oZmllbGROYW1lKTtcblxuXHRcdFx0Ly91cGRhdGUgdGhlIGFwcHJvdmFsIGJ1dHRvblxuXHRcdFx0dm0uZGF0YS5xdWVzdGlvbnNbcmVjb3JkTnVtXS5hcHByb3ZhbHMuYWRkcmVzc2VkID0gdHJ1ZTtcblx0XHRcdHZtLmRhdGEucXVlc3Rpb25zW3JlY29yZE51bV0uYXBwcm92YWxzLnZhbHVlID0gdHJ1ZTtcblx0XHRcdHZtLmRhdGEucXVlc3Rpb25zW3JlY29yZE51bV0uYXBwcm92YWxzLnRleHQgPSBcIk5PIVwiO1xuXG5cdFx0XHQvL2NoYW5nZSB0aGUgY2xhc3Ncblx0XHRcdHZtLmRhdGEucXVlc3Rpb25zW3JlY29yZE51bV0uY2xhc3Nlcy5hcHByb3ZhbERpdlsncm91bmQtYnV0dG9uLWNpcmNsZS1mcmVlJ10gPSBmYWxzZTtcblx0XHRcdHZtLmRhdGEucXVlc3Rpb25zW3JlY29yZE51bV0uY2xhc3Nlcy5hcHByb3ZhbERpdlsncm91bmQtYnV0dG9uLWNpcmNsZS1yZXZpc2VkJ10gPSB0cnVlO1xuXHRcdFx0XG5cdFx0XHQvL2NoYW5nZSB0aGUgaW5wdXQgY2xhc3Ncblx0XHRcdHZtLmRhdGEucXVlc3Rpb25zW3JlY29yZE51bV0uY2xhc3Nlcy5pbnB1dERpdlsnaGFzLWRhbmdlciddID0gdHJ1ZTtcblxuXHRcdFx0Y291bnRBcHByb3ZlZCgpO1xuXHRcdH1cblxuXHRcdHZtLmFwcHJvdmVGaWVsZCA9IGZ1bmN0aW9uKGZpZWxkTmFtZSkge1xuXHRcdFx0dmFyIHJlY29yZE51bSA9IGZpZWxkc0hhc2hbZmllbGROYW1lXTtcblx0XHRcdHZhciBpc0FwcHJvdmVkID0gdm0uZGF0YS5xdWVzdGlvbnNbcmVjb3JkTnVtXS5hcHByb3ZhbHMuYWRkcmVzc2VkO1xuXHRcdFx0XHRcblx0XHRcdGlmKCFpc0FwcHJvdmVkKSB7XG5cblx0XHRcdFx0Ly91cGRhdGUgdGhlIHZhbHVlc1xuXHRcdFx0XHR2bS5pbnB1dHNbZmllbGROYW1lXS52YWx1ZSA9IHZtLmlucHV0c1tmaWVsZE5hbWVdLnN1Z2dlc3Rpb247XG5cblx0XHRcdFx0Ly91cGRhdGUgdGhlIGJ1dHRvblxuXHRcdFx0XHR2bS5kYXRhLnF1ZXN0aW9uc1tyZWNvcmROdW1dLmFwcHJvdmFscy5hZGRyZXNzZWQgPSB0cnVlO1xuXHRcdFx0XHR2bS5kYXRhLnF1ZXN0aW9uc1tyZWNvcmROdW1dLmFwcHJvdmFscy52YWx1ZSA9IHRydWU7XG5cdFx0XHRcdHZtLmRhdGEucXVlc3Rpb25zW3JlY29yZE51bV0uYXBwcm92YWxzLnRleHQgPSBcIllFUyFcIjtcblx0XHRcdFx0XG5cdFx0XHRcdC8vY2hhbmdlIHRoZSBjbGFzc1xuXHRcdFx0XHR2bS5kYXRhLnF1ZXN0aW9uc1tyZWNvcmROdW1dLmNsYXNzZXMuYXBwcm92YWxEaXZbJ3JvdW5kLWJ1dHRvbi1jaXJjbGUtZnJlZSddID0gZmFsc2U7XG5cdFx0XHRcdHZtLmRhdGEucXVlc3Rpb25zW3JlY29yZE51bV0uY2xhc3Nlcy5hcHByb3ZhbERpdlsncm91bmQtYnV0dG9uLWNpcmNsZS1hcHByb3ZlZCddID0gdHJ1ZTtcblx0XHRcdFx0XG5cdFx0XHRcdC8vY2hhbmdlIHRoZSBpbnB1dCBjbGFzc1xuXHRcdFx0XHR2bS5kYXRhLnF1ZXN0aW9uc1tyZWNvcmROdW1dLmNsYXNzZXMuaW5wdXREaXZbJ2hhcy1zdWNjZXNzJ10gPSB0cnVlO1xuXG5cdFx0XHRcdGNvdW50QXBwcm92ZWQoKTtcblx0XHRcdFx0XG5cdFx0XHR9XG5cblx0XHRcdC8vJGxvZy5pbmZvKGZpZWxkTmFtZSk7XG5cdFx0fVxuXG5cdFx0JHNjb3BlLnBob3RvQWRkZWQgPSBmdW5jdGlvbigpIHtcblx0XHRcdHZhciByZWNvcmROdW0gPSBmaWVsZHNIYXNoWydQaG90byddO1xuXG5cdFx0XHQvL2dldCB0aGUgcGhvdG9cblx0XHRcdGdldFBob3RvKCk7XG5cblx0XHRcdC8vdXBkYXRlIHRoZSB2YWx1ZXNcblx0XHRcdCRsb2cuaW5mbyh2bS5pbnB1dHNbJ1Bob3RvJ10pO1xuXG5cdFx0XHQvL3VwZGF0ZSB0aGUgYnV0dG9uXG5cdFx0XHR2bS5kYXRhLnF1ZXN0aW9uc1tyZWNvcmROdW1dLmFwcHJvdmFscy5hZGRyZXNzZWQgPSB0cnVlO1xuXHRcdFx0dm0uZGF0YS5xdWVzdGlvbnNbcmVjb3JkTnVtXS5hcHByb3ZhbHMudmFsdWUgPSB0cnVlO1xuXG5cdFx0XHQvL2NoYW5nZSB0aGUgaW5wdXQgY2xhc3Ncblx0XHRcdHZtLmRhdGEucXVlc3Rpb25zW3JlY29yZE51bV0uY2xhc3Nlcy5pbnB1dERpdlsnaGFzLXN1Y2Nlc3MnXSA9IHRydWU7XG5cblx0XHRcdGNvdW50QXBwcm92ZWQoKTtcblxuXHRcdFx0JHNjb3BlLiRhcHBseSgpO1xuXHRcdH1cblxuXHRcdHZtLnN1Ym1pdEZvcm0gPSBmdW5jdGlvbigpIHtcblxuXHRcdFx0aWYoY291bnRBcHByb3ZlZCgpID09IHRvdGFsRmllbGRzKSB7XG5cdFx0XHRcdHZhciBkZWxpdmVyeU9iamVjdCA9IHt9O1xuXG5cdFx0XHRcdE9iamVjdC5rZXlzKHZtLmlucHV0cykuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcblx0XHRcdFx0XHRpZihrZXkgIT09ICdQaG90bycpIHtcblx0XHRcdFx0XHRcdC8vZm9yIG5vdCBwaG90b3MgYWRkIHZhbHVlc1xuXHRcdFx0XHRcdFx0aWYodHlwZW9mIHZtLmlucHV0c1trZXldLnZhbHVlID09ICdudW1iZXInKVxuXHRcdFx0XHRcdFx0XHRkZWxpdmVyeU9iamVjdFtrZXldID0gdm0uaW5wdXRzW2tleV0udmFsdWUgKiAxMDA7XG5cdFx0XHRcdFx0XHRlbHNlIGRlbGl2ZXJ5T2JqZWN0W2tleV0gPSB2bS5pbnB1dHNba2V5XS52YWx1ZTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0Ly9pZiBpdCBpcyBhIHBob3RvLCBjb3B5IGRpcmVjdGx5XG5cdFx0XHRcdFx0XHRkZWxpdmVyeU9iamVjdFtrZXldID0gdm0uaW5wdXRzW2tleV07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHQvL3NlbmQgdGhlIHZhbHVlc1xuXHRcdFx0XHRiYWNrZW5kU3J2Yy5zdWJtaXRGb3JtRGF0YShkZWxpdmVyeU9iamVjdClcblx0XHRcdFx0LnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcblx0XHRcdFx0XHQvL25vdGlmeSB0aGUgdXNlclxuXHRcdFx0XHRcdCRsb2cuaW5mbygnc3VibWl0dGVkIScsIHJlc3BvbnNlKTtcblxuXHRcdFx0XHRcdC8vaWYgc3VjY2Vzc2Z1bCwgcmVkaXJlY3Rcblx0XHRcdFx0XHQkbG9jYXRpb24ucGF0aCgnL3N1Y2Nlc3MnKTtcblx0XHRcdFx0XHQkc2NvcGUuJGFwcGx5KCk7XG5cblx0XHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcblx0XHRcdFx0XHQkbG9nLmluZm8oJ0Vycm9yOicsIGVycm9yKTtcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdC8vbm90aWZ5IHRoZSB1c2VyXG5cdFx0XHRcdGNvbnNvbGUubG9nKCduZWVkIHRvIGZpbmlzaCB0aGUgZmllbGRzJyk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly9hdXRvbWF0aWNhbGx5IHJ1biB0aGUgcmVmcmVzaFxuXHRcdHZtLnJlZnJlc2hBcHByb3ZhbHMoKTtcblx0fVxuXG5cdHJldHVybiBkaXJlY3RpdmU7XG59IiwiYW5ndWxhclxuICAgIC5tb2R1bGUoJ21hcmtldFJlY2VpcHQnKVxuICAgIC5jb250cm9sbGVyKCdsYW5kaW5nQ29udHJvbGxlcicsIGxhbmRpbmdDb250cm9sbGVyKTtcblxubGFuZGluZ0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJGxvZycsICckbG9jYXRpb24nXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBsYW5kaW5nQ29udHJvbGxlcigkbG9nLCAkbG9jYXRpb24pIHtcblx0dmFyIHZtID0gdGhpcztcblxuXHR2bS5yZWRpcmVjdFRvID0gZnVuY3Rpb24oZm9ybU5hbWUpIHtcblx0XHQkbG9nLmluZm8oJ2NsaWNrZWQnLCBmb3JtTmFtZSk7XG5cdFx0JGxvY2F0aW9uLnBhdGgoJy8nK2Zvcm1OYW1lKTtcblx0fVxufSIsImFuZ3VsYXJcbiAgICAubW9kdWxlKCdtYXJrZXRSZWNlaXB0JylcbiAgICAuY29udHJvbGxlcignbWFya2V0UmVjZWlwdENvbnRyb2xsZXInLCBtYXJrZXRSZWNlaXB0Q29udHJvbGxlcik7XG5cbm1hcmtldFJlY2VpcHRDb250cm9sbGVyLiRpbmplY3QgPSBbJyRsb2cnLCAnYmFja2VuZFNydmMnLCAnZm9ybURhdGEnLCAnbWFya2V0UG9zc2liaWxpdGllcycsICdzdWdnZXN0aW9ucycsICdzZWFyY2hQYXJhbXMnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBtYXJrZXRSZWNlaXB0Q29udHJvbGxlcigkbG9nLCBiYWNrZW5kU3J2YywgZm9ybURhdGEsIG1hcmtldFBvc3NpYmlsaXRpZXMsIHN1Z2dlc3Rpb25zLCBzZWFyY2hQYXJhbXMpIHtcblx0dmFyIHZtID0gdGhpcztcblxuXHQvL2xvY2FsIHZhcmlhYmxlc1xuXHR2bS5kYXRhID0gZm9ybURhdGE7XG5cdHZtLnBvc3NpYmxlTWFya2V0cyA9IG1hcmtldFBvc3NpYmlsaXRpZXM7XG5cdHZtLnN1Z2dlc3Rpb25zID0gc3VnZ2VzdGlvbnM7XG5cblx0JGxvZy5pbmZvKCdzZWFyY2hQYXJhbXMnLCBzZWFyY2hQYXJhbXMsIE9iamVjdC5rZXlzKHNlYXJjaFBhcmFtcykubGVuZ3RoKTtcblx0JGxvZy5pbmZvKCdzdWdnZXN0aW9ucycsIHN1Z2dlc3Rpb25zKTtcblxuXHQvL2lmIGEgbWFya2V0IGhhcyBiZWVuIHNlbGVjdGVkLCBzaG93IHRoZSBwcmVmaWxsZWQgbWFya2V0XG5cdGlmKE9iamVjdC5rZXlzKHNlYXJjaFBhcmFtcykubGVuZ3RoID09IDApIHZtLnNob3dGb3JtID0gZmFsc2U7XG5cdGVsc2Ugdm0uc2hvd0Zvcm0gPSB0cnVlO1xuXHRcblx0dmFyIHRpdGxlQ2xhc3NlcyA9IHtcblx0XHQnY29sLXhzLTUnOnRydWUsXG5cdFx0J2NvbC1zbS01Jzp0cnVlLFxuXHRcdCdjb2wtbWQtNSc6dHJ1ZSxcblx0XHQnY29sLWxnLTUnOnRydWVcdFx0XG5cdH07XG5cblx0dmFyIGlucHV0Q2xhc3NlcyA9IHtcblx0XHQnY29sLXhzLTcnOnRydWUsXG5cdFx0J2NvbC1zbS03Jzp0cnVlLFxuXHRcdCdjb2wtbWQtNyc6dHJ1ZSxcblx0XHQnY29sLWxnLTcnOnRydWVcblx0fTtcblxufSIsImFuZ3VsYXJcblx0Lm1vZHVsZSgnbWFya2V0UmVjZWlwdCcpXG5cdC5kaXJlY3RpdmUoJ25hdmJhcicsIG5hdmJhcik7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gbmF2YmFyKCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICdhcHAvbmF2YmFyL25hdmJhci5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBuYXZiYXJDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgbmF2YmFyQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIFxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIG5hdmJhckNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG4gICAgXHQvL3ZhciB2bSA9IHRoaXM7XG5cdH1cblxuXHRyZXR1cm4gZGlyZWN0aXZlO1xufSIsImFuZ3VsYXJcblx0Lm1vZHVsZSgnbWFya2V0UmVjZWlwdCcpXG5cdC5kaXJlY3RpdmUoJ3NlbGVjdFByZWZpbGxlZEZvcm0nLCBzZWxlY3RQcmVmaWxsZWRGb3JtKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBzZWxlY3RQcmVmaWxsZWRGb3JtKCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICdhcHAvc2VsZWN0Rm9ybS9zZWxlY3RGb3JtLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdGRhdGE6ICc9J1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogc2VsZWN0UHJlZmlsbGVkRm9ybUNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBzZWxlY3RQcmVmaWxsZWRGb3JtQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZycsICckbG9jYXRpb24nXTtcbiAgICBcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBzZWxlY3RQcmVmaWxsZWRGb3JtQ29udHJvbGxlcigkc2NvcGUsICRsb2csICRsb2NhdGlvbikge1xuXHRcdHZhciB2bSA9IHRoaXM7XG5cblx0XHRmdW5jdGlvbiBidWlsZHByZWZpbGxlZE1hcmtldEZvcm1QYXRoKG9wdGlvblZhbHVlcykge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0cGF0aDonL21hcmtldFJlY2VpcHQnLFxuXHRcdFx0XHRwYXJhbXM6IHtcblx0XHRcdFx0XHRkYXRlOiAnMjAxNjA2MjcnLFxuXHRcdFx0XHRcdHN0YXJ0OiAnMTcwMCcsXG5cdFx0XHRcdFx0emlwOiAnMDAwMDAnLFxuXHRcdFx0XHRcdGxvYzogJzAxJ1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdHZtLnNlbGVjdE9wdGlvbiA9IGZ1bmN0aW9uKHNlbGVjdGlvbikge1xuXHRcdFx0dmFyIG9wdGlvblZhbHVlcyA9IHZtLmRhdGFbc2VsZWN0aW9uXTtcblx0XHRcdFxuXHRcdFx0dmFyIG1hcmtldEZvcm0gPSBidWlsZHByZWZpbGxlZE1hcmtldEZvcm1QYXRoKG9wdGlvblZhbHVlcyk7XG5cdFx0XHRcblx0XHRcdGNvbnNvbGUubG9nKG1hcmtldEZvcm0pO1xuXG5cdFx0XHQvL3NlbmQgdGhlIHVzZXIgdG8gdGhlIHJlcXVlc3RlZCBmb3JtXG5cdFx0XHQkbG9jYXRpb24ucGF0aChtYXJrZXRGb3JtLnBhdGgpLnNlYXJjaChtYXJrZXRGb3JtLnBhcmFtcyk7XG5cdFx0XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGRpcmVjdGl2ZTtcbn0iLCJhbmd1bGFyXG4gICAgLm1vZHVsZSgnbWFya2V0UmVjZWlwdCcpXG4gICAgLmNvbnRyb2xsZXIoJ3N1Y2Nlc3NDb250cm9sbGVyJywgc3VjY2Vzc0NvbnRyb2xsZXIpO1xuXG5zdWNjZXNzQ29udHJvbGxlci4kaW5qZWN0ID0gWyckbG9nJ107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gc3VjY2Vzc0NvbnRyb2xsZXIoJGxvZykge1xuXHQvL3ZhciB2bSA9IHRoaXM7XG5cdCRsb2cuaW5mbygnc3VjY2VzcyBjb250cm9sbGVyJyk7XG59IiwiYW5ndWxhclxuICAgIC5tb2R1bGUoJ21hcmtldFJlY2VpcHQnKVxuICAgIC5mYWN0b3J5KCdiYWNrZW5kU3J2YycsIGJhY2tlbmRTcnZjKTtcblxuYmFja2VuZFNydmMuJGluamVjdCA9IFsnJGxvZycsICckaHR0cCddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGJhY2tlbmRTcnZjKCRsb2csICRodHRwKSB7XG5cdHZhciBzZXJ2aWNlID0gdGhpcztcblxuXHR2YXIgYmFja2VuZFNydmMgPSB7XG5cdFx0X2dldDpfZ2V0LFxuXHRcdF9wb3N0Ol9wb3N0LFxuXHRcdF9idWlsZFBvc3NpYmxlTWFya2V0czpfYnVpbGRQb3NzaWJsZU1hcmtldHMsXG5cdFx0Z2V0Rm9ybURhdGE6Z2V0Rm9ybURhdGEsXG5cdFx0Z2V0UG9zc2libGVNYXJrZXRzOmdldFBvc3NpYmxlTWFya2V0cyxcblx0XHRsb2FkQWxsRm9ybXM6bG9hZEFsbEZvcm1zLFxuXHRcdGdldFN1Z2dlc3Rpb25EYXRhOmdldFN1Z2dlc3Rpb25EYXRhLFxuXHRcdHN1Ym1pdEZvcm1EYXRhOnN1Ym1pdEZvcm1EYXRhXG5cdH07XG5cblx0ZnVuY3Rpb24gX2dldChkaXIsIGZpbGVuYW1lKSB7XG5cdFx0dmFyIHRoaXNSZXNwb25zZSA9IG51bGw7XG5cblx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cblx0XHRcdCRodHRwKHtcblx0XHRcdFx0bWV0aG9kOiAnR0VUJyxcblx0XHRcdFx0dXJsOiBkaXIgKyBmaWxlbmFtZVxuXHRcdFx0fSkudGhlbihmdW5jdGlvbiBzdWNjZXNzQ2FsbGJhY2socmVzcG9uc2UpIHtcblx0XHRcdFx0XG5cdFx0XHRcdHJlc29sdmUocmVzcG9uc2UuZGF0YSk7XG5cdFx0XHRcdFxuXHRcdFx0fSwgZnVuY3Rpb24gZXJyb3JDYWxsYmFjayhyZXNwb25zZSkge1xuXHRcdFx0XHRjb25zb2xlLmxvZygnRXJyb3I6JyxyZXNwb25zZSk7XG5cdFx0XHR9KTtcblxuXHRcdH0pO1xuXG5cdH1cblxuXHRmdW5jdGlvbiBfcG9zdChkYXRhKSB7XG5cblx0XHQkbG9nLmluZm8oJ2dvdCB0aGlzIGluIF9wb3N0JywgZGF0YSk7XG5cblx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cblx0XHRcdHZhciByZXN1bHQgPSAkaHR0cC5wb3N0KCdmb3Jtcy9tYXJrZXRSZWNpZXB0JywgZGF0YSlcblx0XHRcdC50aGVuKGZ1bmN0aW9uIHN1Y2Nlc3NDYWxsYmFjayhyZXNwb25zZSkge1xuXHRcdFx0XHRyZXNvbHZlKCdzdWNjZXNzJyk7XG5cdFx0XHR9LCBmdW5jdGlvbiBlcnJvckNhbGxiYWNrKHJlc3BvbnNlKSB7XG5cdFx0XHRcdHJlc29sdmUoJ2Vycm9yJyk7XG5cdFx0XHR9KTtcblxuXHRcdFx0Y29uc29sZS5sb2cocmVzdWx0KTtcblx0XHR9KTtcblxuXHR9XG5cblx0ZnVuY3Rpb24gX2J1aWxkUG9zc2libGVNYXJrZXRzKHJlc291cmNlcykge1xuXHRcdHZhciByZXR1cm5PYmplY3QgPSB7fTtcblx0XHR2YXIgcmVwb3J0c0R1ZSA9IHJlc291cmNlc1swXTtcblx0XHR2YXIgcmVwb3J0c1Bhc3REdWUgPSByZXNvdXJjZXNbMV07XG5cdFx0dmFyIGFsbExvY2F0aW9ucyA9IHJlc291cmNlc1syXTtcblx0XHR2YXIgYWxsRW1wbG95ZWVzID0gcmVzb3VyY2VzWzNdO1xuXG5cdFx0Ly9idWlsZCB0aGUgcmVwb3J0cyBkdWVcblx0XHRyZXR1cm5PYmplY3RbJ3JlcG9ydHNfZHVlJ10gPSBbXTtcblx0XHRPYmplY3Qua2V5cyhyZXBvcnRzRHVlKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuXG5cdFx0XHRyZXR1cm5PYmplY3QucmVwb3J0c19kdWUucHVzaCh7XG5cdFx0XHRcdG5hbWU6IGFsbExvY2F0aW9uc1tyZXBvcnRzRHVlW2tleV0ubWFya2V0XS5uYW1lLFxuXHRcdFx0XHRlbXBsb3llZTogKGFsbEVtcGxveWVlc1tyZXBvcnRzRHVlW2tleV0uc2NoZWR1bGVkXS5maXJzdF9uYW1lICsgJyAnICsgYWxsRW1wbG95ZWVzW3JlcG9ydHNEdWVba2V5XS5zY2hlZHVsZWRdLmxhc3RfbmFtZSlcblx0XHRcdH0pO1xuXG5cdFx0fSk7XG5cblx0XHQvL2J1aWxkIHRoZSByZXBvcnRzIHBhc3QgZHVlXG5cdFx0cmV0dXJuT2JqZWN0WydyZXBvcnRzX3Bhc3RfZHVlJ10gPSBbXTtcblx0XHRPYmplY3Qua2V5cyhyZXBvcnRzUGFzdER1ZSkuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcblxuXHRcdFx0cmV0dXJuT2JqZWN0LnJlcG9ydHNfcGFzdF9kdWUucHVzaCh7XG5cdFx0XHRcdG5hbWU6IGFsbExvY2F0aW9uc1tyZXBvcnRzUGFzdER1ZVtrZXldLm1hcmtldF0ubmFtZSxcblx0XHRcdFx0ZW1wbG95ZWU6IChhbGxFbXBsb3llZXNbcmVwb3J0c1Bhc3REdWVba2V5XS5zY2hlZHVsZWRdLmZpcnN0X25hbWUgKyAnICcgKyBhbGxFbXBsb3llZXNbcmVwb3J0c1Bhc3REdWVba2V5XS5zY2hlZHVsZWRdLmxhc3RfbmFtZSksXG5cdFx0XHRcdGR1ZURhdGU6IChrZXkuc2xpY2UoNCw2KSArICcvJyArIGtleS5zbGljZSg2LDgpICsgJy8nICsga2V5LnNsaWNlKDIsNCkpXG5cdFx0XHR9KTtcblx0XHR9KTtcblxuXHRcdHJldHVybiByZXR1cm5PYmplY3Rcblx0fVxuXG5cdGZ1bmN0aW9uIGdldEZvcm1EYXRhKGZvcm0pIHtcblx0XHR2YXIgc2VydmljZSA9IHRoaXM7XG5cblx0XHRzZXJ2aWNlLmFsbEZvcm1zID0ge1wibWFya2V0UmVjZWlwdFwiOidtYXJrZXRSZWNlaXB0Lmpzb24nfTtcblxuXHRcdHZhciB1cmwgPSBzZXJ2aWNlLmFsbEZvcm1zW2Zvcm1dO1xuXHRcdFxuXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWopIHtcblx0XHRcdC8vY2hlY2sgZm9yIGV4aXN0aW5nIHZhbHVlc1xuXHRcdFx0aWYodHlwZW9mIHNlcnZpY2VbZm9ybV0gIT09ICd1bmRlZmluZWQnKVxuXHRcdFx0XHRyZXNvbHZlKHNlcnZpY2VbZm9ybV0pO1xuXHRcdFx0ZWxzZSB7IFxuXHRcdFx0XHRzZXJ2aWNlLl9nZXQoJ2Fzc2V0cy8nLCB1cmwpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcblx0XHRcdFx0XHRzZXJ2aWNlW2Zvcm1dID0gcmVzcG9uc2U7XG5cdFx0XHRcdFx0cmVzb2x2ZShzZXJ2aWNlW2Zvcm1dKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cblx0XHR9KTtcblx0XG5cdH1cblxuXHRmdW5jdGlvbiBnZXRQb3NzaWJsZU1hcmtldHMoKSB7XG5cdFx0dmFyIHNlcnZpY2UgPSB0aGlzO1xuXG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXHRcdFx0Ly9jb2xsZWN0IHRoZSByZXNvdXJjZXNcblx0XHRcdHNlcnZpY2UuX2dldChcIi9kYi9mb3JtL1wiLCAnbWFya2V0X3JlY2VpcHRzL2R1ZScpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcblx0XHRcdFx0Ly9mcm9tIHRoZSByZXNwb25zZSBidWlsZCB0aGUgcmV0dXJuYWJsZSBvYmplY3Rcblx0XHRcdFx0dmFyIHBvc3NpYmxlTWFya2V0c0xpc3QgPSBzZXJ2aWNlLl9idWlsZFBvc3NpYmxlTWFya2V0cyhyZXNwb25zZSk7XG5cdFx0XHRcdC8vcmV0dXJuIHRoZSBwb3NzaWJsZU1hcmtldHNMaXN0XG5cdFx0XHRcdHJlc29sdmUocG9zc2libGVNYXJrZXRzTGlzdCk7XG5cdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuXHRcdFx0XHRyZWplY3QoZXJyb3IpO1xuXHRcdFx0fSk7XG5cblx0XHR9KTtcblxuXHR9XG5cblx0ZnVuY3Rpb24gbG9hZEFsbEZvcm1zKCkge1xuXHRcdHZhciBzZXJ2aWNlID0gdGhpcztcblxuXHRcdHNlcnZpY2UuYWxsRm9ybXMgPSB7XCJtYXJrZXRSZWNlaXB0XCI6J21hcmtldFJlY2VpcHQuanNvbid9O1xuXHRcblx0XHRjb25zb2xlLmxvZyhzZXJ2aWNlLmFsbEZvcm1zKTtcblxuXHRcdC8vcnVuIHRocm91Z2ggZWFjaCBmb3JtXG5cdFx0T2JqZWN0LmtleXMoc2VydmljZS5hbGxGb3JtcykuZm9yRWFjaChmdW5jdGlvbihmb3JtKSB7XG5cdFx0XHR2YXIgdXJsID0gc2VydmljZS5hbGxGb3Jtc1tmb3JtXTtcblxuXHRcdFx0c2VydmljZS5fZ2V0KCdhc3NldHMvJywgdXJsKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cdFx0XHRcdHNlcnZpY2VbZm9ybV0gPSByZXNwb25zZS5kYXRhO1xuXHRcdFx0fSk7XG5cblx0XHR9KTtcblxuXHR9XG5cblx0ZnVuY3Rpb24gZ2V0U3VnZ2VzdGlvbkRhdGEocGFyYW1zKSB7XG5cdFx0Ly9UT0RPIFRBS0UgVEhJUyBPVVQgTEFURVJcblx0XHRjb25zb2xlLmxvZyhcImdvdCB0aGVzZVwiLCBwYXJhbXMpO1xuXHRcdC8vdGVtcG9yYXJ5IHN1Z2dlc3Rpb25zXG5cdFx0cmV0dXJuIHtcblx0XHRcdCdNYXJrZXQnOidTdXJmIENpdHknLFxuXHRcdFx0J05hbWUnOidBaG1lZCcsXG5cdFx0XHQnR3Jvc3MnOjQxNSxcblx0XHRcdCdGZWUnOjQyLFxuXHRcdFx0J1BheSc6ODMsXG5cdFx0XHQnUmVjaWVwdHMnOjEwLFxuXHRcdFx0J0JhbmsnOjYwLFxuXHRcdFx0J0R1ZSc6MjIwXG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gc3VibWl0Rm9ybURhdGEoZGF0YSkge1xuXHRcdHZhciBzZXJ2aWNlID0gdGhpcztcblxuXHRcdC8vbm90aWZ5IHRoZSB1c2VyXG5cdFx0JGxvZy5pbmZvKCdnb3QgdGhpcycsIGRhdGEpO1xuXG5cdFx0XG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXG5cdFx0XHQvL3N1Ym1pdCBmb3JtXG5cdFx0XHRzZXJ2aWNlLl9wb3N0KGRhdGEpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcblx0XHRcdFx0Ly9ub3RpZnkgdGhlIHVzZXJcblx0XHRcdFx0Ly9jb25zb2xlLmxvZygncmVzcG9uc2U6JywgcmVzcG9uc2UpO1xuXHRcdFx0XHQvL3doZW4gc3VjY2VzcyBpcyBhY2hpZXZlZCByZWRpcmVjdFxuXHRcdFx0XHRyZXNvbHZlKHJlc3BvbnNlKTtcblx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xuXHRcdFx0XHQvL2NvbnNvbGUubG9nKCdFcnJvcjonLCBlcnIpO1xuXHRcdFx0XHRyZWplY3QoZXJyKTtcblx0XHRcdH0pO1xuXG5cdFx0fSk7XG5cblx0fVxuXG5cdHJldHVybiBiYWNrZW5kU3J2Yztcbn0iLCJhbmd1bGFyXG5cdC5tb2R1bGUoJ21hcmtldFJlY2VpcHQnLCBbXG5cdFx0J25nUm91dGUnXG5cdF0pO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
